##############################################################################################################
## Licensed Materials - Property of IBM
##
## IBM Financial Crimes Insight, PID 5900-A0H
## IBM Financial Crimes Insight for IBM Cloud Pak for Data, PID 5737-E41
##
## (c) Copyright IBM Corporation 2016, 2019
##
## U.S. Government Users Restricted Rights:  Use, duplication or disclosure restricted by GSA ADP Schedule Contract with IBM Corp.
##############################################################################################################

overrides:
  - reason: "runAsUser need not be set for OpenShift as OpenShift SCC takes care of it"
    message: ".*keys for pod security context not defined.*securityContext.runAsUser.*"
  - reason: "Used only if it is defined"
    message: "parameter is used but not defined.*Values.*fsGroupConfig.*"  
  - reason: "We don't support gluster fs and our installs will not prepend glusterfs-dynamic to any pvc names - Tentative Override"
    message: ".*invalid PVC metadata.name.*glusterfs-dynamic-.*"
  - reason: "Our charts will be a dry run - We will add Helm Tests in subsequent releases"
    rule: HelmTestExists
  - reason: "Since our product is a suite of multiple applications, our product version and chart version will be the same."
    rule: AppAndChartVersionsDoNotMatch
  - reason: "These parameters are used only if they are defined"
    message: ".*charts/common/templates/_helpers.tpl:.*"
    rule: UsedParametersAreDefined
  - reason: "Used only if it is defined"
    message: ".*parameter is used but not defined: .Values.global.imagePullSecrets.*"
    rule: UsedParametersAreDefined
  - reason: "As of date - We don't intend to use Entitled Registry this release, will update the image path if required"
    rule: UseEntitledRegistry
  - reason: "We don't intend to use sch chart this release"
    rule: ChartUsesSCH
  - reason: "The only requirement for this chart is added directly to charts directory"
    message: ".*requirements.yaml not found .*"
  - reason: "This will be a big change affecting all our containers and charts. We don't intend to change this, this release"
    rule: ParameterIsCamelCase
  - reason: "These are sample image tags that we are planning to use"
    rule: ContainerImageNameIsValid
  - reason: "This resource is created only used when createPv and useDynamicProvisioning is set to false"
    message: ".*pv.yaml.*useDynamicProvisioning.*"
  - reason: "We don't use Pod Disruption Budget as of this release"
    rule: PodDisruptionBudgetInReadme
  - reason: "These are not actual secret values and just links pointing to the secret files."
    message: ".*values.yaml: potentially secret parameter .*"
  - reason: "The label errors were introduced by Linter 2.0 - We will take efforts to fix them in the next week"
    message: ".*app.kubernetes.io/managed-by.*"
  - reason: "We will not be having applciation tests this release"
    message: "no application tests defined"
    rule: AppTestExists
  - reason: "They are internal service ports and not IAM Endpoints"
    message: "charts/rms/templates/configmap.yaml: .*"
    rule: NoPrivateIAMEndpoints
  - reason: "They are internal service ports and not IAM Endpoints"
    message: "charts/rms/values.yaml: .*"
    rule: NoPrivateIAMEndpoints
  - reason: "This points to our internal Artifactory URL to pull our images in the CI/CD Pipeline"
    message: "ibm_cloud_pak/manifest.yaml: .*"
    rule: NoInternalURLs
  - reason: "Our Charts use security context and pod security policy is not applicable"
    message: "README.md: .*"
    rule: CustomPodSecurityInReadme
  - reason: "Our Charts use security context and pod security policy is not applicable"
    message: "README.md: .*link to PSP/SCC.*"
    rule: PodSecurityLinkInReadme
  - reason: "Our Charts use security context and pod security policy is not applicable"
    message: ".*PodSecurityPolicy Requirements.*"
    rule: ReadmeHasRequiredSections
  - reason: "Our Charts use security context and pod security policy is not applicable"
    message: "ibm_cloud_pak/qualification.yaml: .* "
    rule: PodSecurityInQualificationYAML
  - message: ".*icon is recommended.*"
    reason: "We don't intend to use an icon in our chart yaml"
    rule: StandardHelmLint
