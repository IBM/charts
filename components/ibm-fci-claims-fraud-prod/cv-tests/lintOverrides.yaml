##############################################################################################################
## Licensed Materials - Property of IBM
##
## IBM Financial Crimes Insight, PID 5900-A0H
## IBM Financial Crimes Insight for IBM Cloud Pak for Data, PID 5737-E41
##
## (c) Copyright IBM Corporation 2016, 2019
##
## U.S. Government Users Restricted Rights:  Use, duplication or disclosure restricted by GSA ADP Schedule Contract with IBM Corp.
##############################################################################################################

overrides:
  - reason: "Used only if it is defined"
    message: "parameter is used but not defined.*Values.*fsGroupConfig.*"  
  - reason: "We have pointed to staging Entitled Registry, for now."
    message: ".*cp.icr.io/cp.*"
  - reason: "We will not be having applciation tests this release"
    message: "no application tests defined"
  - reason: "Used only if it is defined"
    message: ".*parameter is used but not defined: .Values.global.webProxyServer.*"
    rule: UsedParametersAreDefined
  - reason: "Used only if it is defined"
    message: ".*parameter is used but not defined: .Values.global.imagePullSecrets.*"
    rule: UsedParametersAreDefined
  - reason: "These parameters are used only if they are defined"
    message: ".*charts/common/templates/_helpers.tpl:.*"
    rule: UsedParametersAreDefined
  - reason: "Since our product is a suite of multiple applications, our product version and chart version will be the same."
    rule: AppAndChartVersionsDoNotMatch
  - message: ".*icon is recommended.*"
    reason: "We don't intend to use an icon in our chart yaml"
    rule: StandardHelmLint
  - reason: "We don't intend to use sch chart this release"
    rule: ChartUsesSCH  
  - reason: "We don't use Pod Disruption Budget as of this release"
    rule: PodDisruptionBudgetInReadme
  - reason: "The only requirement for this chart is added directly to charts directory"
    message: ".*requirements.yaml not found .*"
  - reason: "These are sample image tags that we are planning to use"
    rule: ContainerImageNameIsValid   
  - reason: "This will be a big change affecting all our containers and charts. We don't intend to change this, this release"
    rule: ParameterIsCamelCase  
  - reason: "We will be using Security Context Constraints of Openshift"
    rule: "PodSecurityContextDefined"
  - reason: "Our charts will be a dry run - We will add Helm Tests in subsequnt releases"
    rule: HelmTestExists
  - reason: "The label errors were introduced by Linter 2.0 - We will take efforts to fix them in the next week"
    message: ".*app.kubernetes.io/managed-by.*"  
  - reason: "They are internal service ports and not IAM Endpoints"
    message: "charts/rms/templates/configmap.yaml: .*"
    rule: NoPrivateIAMEndpoints
  - reason: "They are internal service ports and not IAM Endpoints"
    message: "charts/rms/values.yaml: .*"
    rule: NoPrivateIAMEndpoints
  - reason: "This points to our internal Artifactory URL to pull our images in the CI/CD Pipeline"
    message: "ibm_cloud_pak/manifest.yaml: .*"
    rule: NoInternalURLs
  - reason: "Our Charts use security context and pod security policy is not applicable"
    message: "README.md: .*"
    rule: CustomPodSecurityInReadme
  - reason: "Our Charts use security context and pod security policy is not applicable"
    message: ".*PodSecurityPolicy Requirements.*"
    rule: ReadmeHasRequiredSections
  - reason: "Our Charts use security context and pod security policy is not applicable"
    message: "ibm_cloud_pak/qualification.yaml: .* "
    rule: PodSecurityInQualificationYAML
  - reason: "Same keys are present in values and values-metadata file. Not an error"
    message: ".*kafka.configurationOverrides.*"
    rule: NoInvalidValuesMetadataKeys
  - reason: "Same keys are present in values and values-metadata file. Not an error"
    message: "ibm_cloud_pak/values-metadata.yaml: key structure does not match values.yaml: kafka.configurationOverrides.*"
    rule: ValuesMetadataStructureMatchesValues