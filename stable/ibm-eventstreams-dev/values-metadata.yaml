global:
  __metadata:
    label: "Global install settings"
    description: "Values that apply to all components of IBM Event Streams"
  # gid used for secondary group configuration (needed for access permission to remote file systems)
  fsGroupGid:
    __metadata:
      label: "File system group ID"
      description: "The group ID added to the containers with persistent storage to allow access. Volumes that support ownership management must be owned and writable by this group ID"
      type: "string"
      required: false
      validation: "(^[0-9]+$)"
      immutable: false

  arch:
    __metadata:
      label: "Architecture"
      description: "The worker node architecture on which to deploy Event Streams"
      type: "string"
      immutable: false
      required: true
      options:
        - label: "amd64 platforms"
          value: "amd64"
        - label: "s390x platforms"
          value: "s390x"
        - label: "ppc64le platforms"
          value: "ppc64le"

  security:
    tlsInternal:
      __metadata:
        label: "Pod to pod encryption"
        description: "Control the use of TLS between pods"
        type: "string"
        immutable: false
        required: true
        options:
          - label: "Disabled"
            value: "disabled"
          - label: "Enabled"
            value: "enabled"
    managementIngressPort:
      __metadata:
        label: "Management ingress port"
        description: "Secure cluster port for management services"
        type: "number"
        immutable: false
        hidden: true
    externalCertificateLabel:
      __metadata:
        label: "External Certificate Label"
        description: "Label for external certificates. If this value changes, and the Certificate Type is 'selfsigned', the auto generated external certificates will be updated. If the Certificate Type is 'provided', the new values supplied will replace the existing certificates."
        type: "string"
        required: false
        hidden: true
    internalCertificateLabel:
      __metadata:
        label: "Internal Certificate Label"
        description: "Label for Event Streams internal certificates. If this value changes, new certificates will be generated and replace the existing certificates."
        type: "string"
        hidden: true

  k8s:
    clusterName:
      __metadata:
        label: "Kubernetes internal DNS domain name"
        description: "If you have changed the default DNS domain name from cluster.local in your Kubernetes installation, then this field must be set to the same value. It will not be possible to change this post installation"
        type: "string"
        required: true
    apiPort:
      __metadata:
        label: "Kubernetes api port"
        description: "The port kubernetes is running on"
        type: "number"
        immutable: false
        required: true
        hidden: true

  zones:
    count:
      __metadata:
        label: "Number of zones"
        description: "The number of zones to deploy Event Streams across."
        type: "number"
        required: true
    safe:
      __metadata:
        label: "Safe Mode"
        description: "Safety lock to stop unsafe zone configuration."
        type: "boolean"
        required: true
        hidden: true

    labels:
      __metadata:
        label: "Zone Labels"
        description: 'Array containing the labels for each zone, e.g. ["es-zone-0","es-zone-1","es-zone-2"]'
        type: "string"
        required: true
    apiLabel:
      __metadata:
        label: "Zone node label"
        description: "Label used to identify the Kubernetes nodes available in each zone."
        type: "string"
        required: true
        hidden: true
    zooKeeperLabel:
      __metadata:
        label: "Zookeeper node label"
        description: "Label used for specifying Kubernetes nodes eligible for hosting Zookeeper."
        type: "string"
        required: true
        hidden: true
    kafkaLabel:
      __metadata:
        label: "Kafka node label"
        description: "Label used for specifying Kubernetes nodes eligible for hosting Kafka."
        type: "string"
        required: true
        hidden: true
    accessControllerReplicas:
      __metadata:
        label: "Number of Access Controller replicas in each zone"
        description: "The number of Access Controller replicas to deploy. To ensure high availability, consider increasing the number depending on your requirements."
        type: "number"
        required: true
        hidden: true
    restProxyReplicas:
      __metadata:
        label: "Number of Rest Proxys replicas in each zone"
        description: "The number of Rest Proxy replicas to deploy. To ensure high availability, consider increasing the number depending on your requirements."
        type: "number"
        required: true
        hidden: true
    restProducerReplicas:
      __metadata:
        label: "Number of Rest Producer replicas in each zone"
        description: "The number of Rest Producer replicas to deploy. To ensure high availability, consider increasing the number depending on your requirements."
        type: "number"
        required: true
        hidden: true
    restReplicas:
      __metadata:
        label: "Number of Rest replicas in each zone"
        description: "The number of Rest replicas to deploy. To ensure high availability, consider increasing the number depending on your requirements."
        type: "number"
        required: true
        hidden: true
    proxyReplicas:
      __metadata:
        label: "Number of Edge Proxy replicas in each zone"
        description: "The number of Edge Proxy replicas to deploy. To ensure high availability, consider increasing the number depending on your requirements."
        type: "number"
        required: true
        hidden: true

  generateClusterRoles:
    __metadata:
      label: "Generate cluster roles"
      description: "Generate a cluster role and cluster rolebinding with your Event Streams installation. Must be cleared if you are installing as a Team Administrator."
      type: "boolean"
      required: true

  ## Image configuration metadata
  image:
    repository:
      __metadata:
        name: "repository"
        label: "Docker image registry"
        description: "Docker registry to pull images from"
        type: "string"
        immutable: false
        required: true

    pullPolicy:
      __metadata:
        label: "Image pull policy"
        description: "Controls when Docker images are fetched from the registry"
        type: "string"
        immutable: false
        required: true
        options:
          - label: "Always"
            value: "Always"
          - label: "Never"
            value: "Never"
          - label: "IfNotPresent"
            value: "IfNotPresent"

    pullSecret:
      __metadata:
        label: "Image pull secret"
        description: "If using a registry that requires authentication, the name of the secret containing credentials"
        type: "string"
        required: false

    imageTags:
      kafkaTag:
        __metadata:
          label: "Kafka image tag"
          type: "string"
          description: "A tag is a label applied to a image in a repository. Tags are how various images in a repository are distinguished from each other."
          required: true
          immutable: false
          hidden: true
      metricsReporterTag:
        __metadata:
          label: "Kafka Metrics Reporter image tag"
          type: "string"
          description: "A tag is a label applied to a image in a repository. Tags are how various images in a repository are distinguished from each other."
          required: true
          immutable: false
          hidden: true
      healthcheckTag:
        __metadata:
          label: "Kafka Health-Check image tag"
          type: "string"
          description: "A tag is a label applied to a image in a repository. Tags are how various images in a repository are distinguished from each other."
          required: true
          immutable: false
          hidden: true
      kafkaProxyTag:
        __metadata:
          label: "Kafka Proxy image tag"
          type: "string"
          description: "A tag is a label applied to a image in a repository. Tags are how various images in a repository are distinguished from each other."
          required: true
          immutable: false
          hidden: true
      zookeeperTag:
        __metadata:
          label: "ZooKeeper image tag"
          type: "string"
          description: "A tag is a label applied to a image in a repository. Tags are how various images in a repository are distinguished from each other."
          required: true
          immutable: false
          hidden: true
      proxyTag:
        __metadata:
          label: "TLS Proxy image tag"
          type: "string"
          description: "A tag is a label applied to a image in a repository. Tags are how various images in a repository are distinguished from each other."
          required: true
          immutable: false
          hidden: true
      kafkaMetricsProxyTag:
        __metadata:
          label: "Kafka metrics proxy image tag"
          type: "string"
          description: "A tag is a label applied to a image in a repository. Tags are how various images in a repository are distinguished from each other."
          required: true
          immutable: false
          hidden: true
      elasticSearchTag:
        __metadata:
          label: "Elastic search image tag"
          type: "string"
          description: "A tag is a label applied to a image in a repository. Tags are how various images in a repository are distinguished from each other."
          required: true
          immutable: false
          hidden: true
      uiTag:
        __metadata:
          label: "User Interface image tag"
          type: "string"
          description: "A tag is a label applied to a image in a repository. Tags are how various images in a repository are distinguished from each other."
          required: true
          immutable: false
          hidden: true
      databaseTag:
        __metadata:
          label: "Database image tag"
          type: "string"
          description: "A tag is a label applied to a image in a repository. Tags are how various images in a repository are distinguished from each other."
          required: true
          immutable: false
          hidden: true
      restTag:
        __metadata:
          label: "RESTful API image tag"
          type: "string"
          description: "A tag is a label applied to a image in a repository. Tags are how various images in a repository are distinguished from each other."
          required: true
          immutable: false
          hidden: true
      oauthTag:
        __metadata:
          label: "Authorization image tag"
          type: "string"
          description: "A tag is a label applied to a image in a repository. Tags are how various images in a repository are distinguished from each other."
          required: true
          immutable: false
          hidden: true
      codegenTag:
        __metadata:
          label: "Code Generator image tag"
          type: "string"
          description: "A tag is a label applied to a image in a repository. Tags are how various images in a repository are distinguished from each other."
          required: true
          immutable: false
          hidden: true
      restProducerTag:
        __metadata:
          label: "RESTful Producer API image tag"
          type: "string"
          description: "A tag is a label applied to a image in a repository. Tags are how various images in a repository are distinguished from each other."
          required: true
          immutable: false
          hidden: true
      restProxyTag:
        __metadata:
          label: "Nginx rest proxy image tag"
          type: "string"
          description: "A tag is a label applied to a image in a repository. Tags are how various images in a repository are distinguished from each other."
          required: true
          immutable: false
          hidden: true
      clientauthProxyTag:
        __metadata:
          label: "SSL client auth proxy image tag"
          type: "string"
          description: "A tag is a label applied to a image in a repository. Tags are how various images in a repository are distinguished from each other."
          required: true
          immutable: false
          hidden: true
      vanillaTag:
        __metadata:
          label: "Base image tag"
          type: "string"
          description: "A tag is a label applied to a image in a repository. Tags are how various images in a repository are distinguished from each other."
          required: true
          immutable: false
          hidden: true
      kubectlTag:
        __metadata:
          label: "kubectl image tag"
          type: "string"
          description: "A tag is a label applied to a image in a repository. Tags are how various images in a repository are distinguished from each other."
          required: true
          immutable: false
          hidden: true
      roleMappingsTag:
        __metadata:
          label: "Role Mappings image tag"
          type: "string"
          description: "A tag is a label applied to a image in a repository. Tags are how various images in a repository are distinguished from each other."
          required: true
          immutable: false
          hidden: true
      telemetryTag:
        __metadata:
          label: "Telemetry image tag"
          type: "string"
          description: "A tag is a label applied to a image in a repository. Tags are how various images in a repository are distinguished from each other."
          required: true
          immutable: false
          hidden: true
      accessControllerTag:
        __metadata:
          label: "Access Controller image tag"
          type: "string"
          description: "A tag is a label applied to a image in a repository. Tags are how various images in a repository are distinguished from each other."
          required: true
          immutable: false
          hidden: true
      certGenTag:
        __metadata:
          label: "Certificate Generator image tag"
          type: "string"
          description: "A tag is a label applied to a image in a repository. Tags are how various images in a repository are distinguished from each other."
          required: true
          immutable: false
          hidden: true
      indexmgrTag:
        __metadata:
          label: "Index Manager image tag"
          type: "string"
          description: "A tag is a label applied to a image in a repository. Tags are how various images in a repository are distinguished from each other."
          required: true
          immutable: false
          hidden: true
      collectorTag:
        __metadata:
          label: "Collector image tag"
          type: "string"
          description: "A tag is a label applied to a image in a repository. Tags are how various images in a repository are distinguished from each other."
          required: true
          immutable: false
          hidden: true
      registryTag:
        __metadata:
          label: "Schema Registry image tag"
          type: "string"
          description: "A tag is a label applied to a image in a repository. Tags are how various images in a repository are distinguished from each other."
          required: true
          immutable: false
          hidden: true
      avroTag:
        __metadata:
          label: "Avro service image tag"
          type: "string"
          description: "A tag is a label applied to a image in a repository. Tags are how various images in a repository are distinguished from each other."
          required: true
          immutable: false
          hidden: true

  resources:
    accessController:
      requests:
        cpu:
          __metadata:
            label: "CPU request for Access Controllers"
            description: "The minimum required CPU core for each Access Controller. Specify integers, fractions (e.g. 0.5), or millicore values(e.g. 100m, where 100m is equivalent to .1 core)."
            type: "string"
            required: true
            hidden: true
        memory:
          __metadata:
            label: "Memory request for Access Controller"
            description: "The minimum memory for each Access Controller in bytes. Specify integers with one of these suffixes: E, P, T, G, M, K, or power-of-two equivalents: Ei, Pi, Ti, Gi, Mi, Ki."
            type: "string"
            required: true
            hidden: true
      limits:
        cpu:
          __metadata:
            label: "CPU limit for Access Controllers"
            description: "The upper limit of CPU core for each Access Controller. Specify integers, fractions (e.g. 0.5), or millicores values(e.g. 100m, where 100m is equivalent to .1 core)."
            type: "string"
            required: true
            hidden: true
        memory:
          __metadata:
            label: "Memory limits for Access Controllers"
            description: "The memory upper limit for each Access Controller in bytes. Specify integers with suffixes: E, P, T, G, M, K, or power-of-two equivalents: Ei, Pi, Ti, Gi, Mi, Ki."
            type: "string"
            required: true
            hidden: true
    codegen:
      requests:
        cpu:
          __metadata:
            label: "CPU request for Codegens"
            description: "The minimum required CPU core for each Codegen. Specify integers, fractions (e.g. 0.5), or millicore values(e.g. 100m, where 100m is equivalent to .1 core)."
            type: "string"
            required: true
            hidden: true
        memory:
          __metadata:
            label: "Memory request for Codegens"
            description: "The minimum memory for each Codegen in bytes. Specify integers with one of these suffixes: E, P, T, G, M, K, or power-of-two equivalents: Ei, Pi, Ti, Gi, Mi, Ki."
            type: "string"
            required: true
            hidden: true
      limits:
        cpu:
          __metadata:
            label: "CPU limit for Codegens"
            description: "The upper limit of CPU core for each Codegen. Specify integers, fractions (e.g. 0.5), or millicores values(e.g. 100m, where 100m is equivalent to .1 core)."
            type: "string"
            required: true
            hidden: true
        memory:
          __metadata:
            label: "Memory limits for Codegens"
            description: "The memory upper limit for each Codegen in bytes. Specify integers with suffixes: E, P, T, G, M, K, or power-of-two equivalents: Ei, Pi, Ti, Gi, Mi, Ki."
            type: "string"
            required: true
            hidden: true
    collector:
      requests:
        cpu:
          __metadata:
            label: "CPU request for Metrics Collectors"
            description: "The minimum required CPU core for each Metrics Collector. Specify integers, fractions (e.g. 0.5), or millicore values(e.g. 100m, where 100m is equivalent to .1 core)."
            type: "string"
            required: true
            hidden: true
        memory:
          __metadata:
            label: "Memory request for Metrics Collectors"
            description: "The minimum memory for each Metrics Collector in bytes. Specify integers with one of these suffixes: E, P, T, G, M, K, or power-of-two equivalents: Ei, Pi, Ti, Gi, Mi, Ki."
            type: "string"
            required: true
            hidden: true
      limits:
        cpu:
          __metadata:
            label: "CPU limit for Metrics Collectors"
            description: "The upper limit of CPU core for each Metrics Collector. Specify integers, fractions (e.g. 0.5), or millicores values(e.g. 100m, where 100m is equivalent to .1 core)."
            type: "string"
            required: true
            hidden: true
        memory:
          __metadata:
            label: "Memory limits for Metrics Collectors"
            description: "The memory upper limit for each Metrics Collector in bytes. Specify integers with suffixes: E, P, T, G, M, K, or power-of-two equivalents: Ei, Pi, Ti, Gi, Mi, Ki."
            type: "string"
            required: true
            hidden: true
    database:
      requests:
        cpu:
          __metadata:
            label: "CPU request for Databases (Redis)"
            description: "The minimum required CPU core for each Database. Specify integers, fractions (e.g. 0.5), or millicore values(e.g. 100m, where 100m is equivalent to .1 core)."
            type: "string"
            required: true
            hidden: true
        memory:
          __metadata:
            label: "Memory request for Databases (Redis)"
            description: "The minimum memory for each Database in bytes. Specify integers with one of these suffixes: E, P, T, G, M, K, or power-of-two equivalents: Ei, Pi, Ti, Gi, Mi, Ki."
            type: "string"
            required: true
            hidden: true
      limits:
        cpu:
          __metadata:
            label: "CPU limit for Databases (Redis)"
            description: "The upper limit of CPU core for each Database. Specify integers, fractions (e.g. 0.5), or millicores values(e.g. 100m, where 100m is equivalent to .1 core)."
            type: "string"
            required: true
            hidden: true
        memory:
          __metadata:
            label: "Memory limits for Databases (Redis)"
            description: "The memory upper limit for each Database in bytes. Specify integers with suffixes: E, P, T, G, M, K, or power-of-two equivalents: Ei, Pi, Ti, Gi, Mi, Ki."
            type: "string"
            required: true
            hidden: true
    indexManager:
      requests:
        cpu:
          __metadata:
            label: "CPU request for Index Managers"
            description: "The minimum required CPU core for each Index Manager. Specify integers, fractions (e.g. 0.5), or millicore values(e.g. 100m, where 100m is equivalent to .1 core)."
            type: "string"
            required: true
            hidden: true
        memory:
          __metadata:
            label: "Memory request for Index Managers"
            description: "The minimum memory for each Index Manager in bytes. Specify integers with one of these suffixes: E, P, T, G, M, K, or power-of-two equivalents: Ei, Pi, Ti, Gi, Mi, Ki."
            type: "string"
            required: true
            hidden: true
      limits:
        cpu:
          __metadata:
            label: "CPU limit for Index Managers"
            description: "The upper limit of CPU core for each Index Manager. Specify integers, fractions (e.g. 0.5), or millicores values(e.g. 100m, where 100m is equivalent to .1 core)."
            type: "string"
            required: true
            hidden: true
        memory:
          __metadata:
            label: "Memory limits for Index Managers"
            description: "The memory upper limit for each Index Manager in bytes. Specify integers with suffixes: E, P, T, G, M, K, or power-of-two equivalents: Ei, Pi, Ti, Gi, Mi, Ki."
            type: "string"
            required: true
            hidden: true
    proxy:
      requests:
        cpu:
          __metadata:
            label: "CPU request for Proxys"
            description: "The minimum required CPU core for each Proxy. Specify integers, fractions (e.g. 0.5), or millicore values(e.g. 100m, where 100m is equivalent to .1 core)."
            type: "string"
            required: true
            hidden: true
        memory:
          __metadata:
            label: "Memory request for Proxys"
            description: "The minimum memory for each Proxy in bytes. Specify integers with one of these suffixes: E, P, T, G, M, K, or power-of-two equivalents: Ei, Pi, Ti, Gi, Mi, Ki."
            type: "string"
            required: true
            hidden: true
      limits:
        cpu:
          __metadata:
            label: "CPU limit for Proxys"
            description: "The upper limit of CPU core for each Proxy. Specify integers, fractions (e.g. 0.5), or millicores values(e.g. 100m, where 100m is equivalent to .1 core)."
            type: "string"
            required: true
            hidden: true
        memory:
          __metadata:
            label: "Memory limits for Proxys"
            description: "The memory upper limit for each Proxy in bytes. Specify integers with suffixes: E, P, T, G, M, K, or power-of-two equivalents: Ei, Pi, Ti, Gi, Mi, Ki."
            type: "string"
            required: true
            hidden: true
    rest:
      requests:
        cpu:
          __metadata:
            label: "CPU request for Rest"
            description: "The minimum required CPU core for each Rest. Specify integers, fractions (e.g. 0.5), or millicore values(e.g. 100m, where 100m is equivalent to .1 core)."
            type: "string"
            required: true
            hidden: true
        memory:
          __metadata:
            label: "Memory request for Rest"
            description: "The minimum memory for each Rest in bytes. Specify integers with one of these suffixes: E, P, T, G, M, K, or power-of-two equivalents: Ei, Pi, Ti, Gi, Mi, Ki."
            type: "string"
            required: true
            hidden: true
      limits:
        cpu:
          __metadata:
            label: "CPU limit for Rest"
            description: "The upper limit of CPU core for each Rest. Specify integers, fractions (e.g. 0.5), or millicores values(e.g. 100m, where 100m is equivalent to .1 core)."
            type: "string"
            required: true
            hidden: true
        memory:
          __metadata:
            label: "Memory limits for Rest"
            description: "The memory upper limit for each Rest in bytes. Specify integers with suffixes: E, P, T, G, M, K, or power-of-two equivalents: Ei, Pi, Ti, Gi, Mi, Ki."
            type: "string"
            required: true
            hidden: true
    restProducer:
      requests:
        cpu:
          __metadata:
            label: "CPU request for Rest Producers"
            description: "The minimum required CPU core for each Rest Producer. Specify integers, fractions (e.g. 0.5), or millicore values(e.g. 100m, where 100m is equivalent to .1 core)."
            type: "string"
            required: true
            hidden: true
        memory:
          __metadata:
            label: "Memory request for Rest Producers"
            description: "The minimum memory for each Rest Producer in bytes. Specify integers with one of these suffixes: E, P, T, G, M, K, or power-of-two equivalents: Ei, Pi, Ti, Gi, Mi, Ki."
            type: "string"
            required: true
            hidden: true
      limits:
        cpu:
          __metadata:
            label: "CPU limit for Rest Producers"
            description: "The upper limit of CPU core for each Rest Producer. Specify integers, fractions (e.g. 0.5), or millicores values(e.g. 100m, where 100m is equivalent to .1 core)."
            type: "string"
            required: true
            hidden: true
        memory:
          __metadata:
            label: "Memory limits for Rest Producers"
            description: "The memory upper limit for each Rest Producer in bytes. Specify integers with suffixes: E, P, T, G, M, K, or power-of-two equivalents: Ei, Pi, Ti, Gi, Mi, Ki."
            type: "string"
            required: true
            hidden: true
    restProxy:
      requests:
        cpu:
          __metadata:
            label: "CPU request for Rest Proxys"
            description: "The minimum required CPU core for each Rest Proxy. Specify integers, fractions (e.g. 0.5), or millicore values(e.g. 100m, where 100m is equivalent to .1 core)."
            type: "string"
            required: true
            hidden: true
        memory:
          __metadata:
            label: "Memory request for Rest Proxys"
            description: "The minimum memory for each Rest Proxy in bytes. Specify integers with one of these suffixes: E, P, T, G, M, K, or power-of-two equivalents: Ei, Pi, Ti, Gi, Mi, Ki."
            type: "string"
            required: true
            hidden: true
      limits:
        cpu:
          __metadata:
            label: "CPU limit for Rest Proxys"
            description: "The upper limit of CPU core for each Rest Proxy. Specify integers, fractions (e.g. 0.5), or millicores values(e.g. 100m, where 100m is equivalent to .1 core)."
            type: "string"
            required: true
            hidden: true
        memory:
          __metadata:
            label: "Memory limits for Rest Proxys"
            description: "The memory upper limit for each Rest Proxy in bytes. Specify integers with suffixes: E, P, T, G, M, K, or power-of-two equivalents: Ei, Pi, Ti, Gi, Mi, Ki."
            type: "string"
            required: true
            hidden: true
    tlsProxy:
      requests:
        cpu:
          __metadata:
            label: "CPU request for tlsproxy"
            description: "The minimum required CPU core for each tlsproxy sidecar. Specify integers, fractions (e.g. 0.5), or millicore values(e.g. 100m, where 100m is equivalent to .1 core)."
            type: "string"
            required: true
            hidden: true
        memory:
          __metadata:
            label: "Memory request for tlsproxy"
            description: "The minimum memory for each tlsproxy sidecar in bytes. Specify integers with one of these suffixes: E, P, T, G, M, K, or power-of-two equivalents: Ei, Pi, Ti, Gi, Mi, Ki."
            type: "string"
            required: true
            hidden: true
      limits:
        cpu:
          __metadata:
            label: "CPU limit for tlsproxy"
            description: "The upper limit of CPU core for each tlsproxy sidecar. Specify integers, fractions (e.g. 0.5), or millicore values(e.g. 100m, where 100m is equivalent to .1 core)."
            type: "string"
            required: true
            hidden: true
        memory:
          __metadata:
            label: "Memory limit for tlsproxy"
            description: "The memory upper limit for each tlsproxy sidecar in bytes. Specify integers with one of these suffixes: E, P, T, G, M, K, or power-of-two equivalents: Ei, Pi, Ti, Gi, Mi, Ki."
            type: "string"
            required: true
            hidden: true
    ui:
      requests:
        cpu:
          __metadata:
            label: "CPU request for UIs"
            description: "The minimum required CPU core for each UI. Specify integers, fractions (e.g. 0.5), or millicore values(e.g. 100m, where 100m is equivalent to .1 core)."
            type: "string"
            required: true
            hidden: true
        memory:
          __metadata:
            label: "Memory request for UIs"
            description: "The minimum memory for each UI in bytes. Specify integers with one of these suffixes: E, P, T, G, M, K, or power-of-two equivalents: Ei, Pi, Ti, Gi, Mi, Ki."
            type: "string"
            required: true
            hidden: true
      limits:
        cpu:
          __metadata:
            label: "CPU limit for UIs"
            description: "The upper limit of CPU core for each UI. Specify integers, fractions (e.g. 0.5), or millicores values(e.g. 100m, where 100m is equivalent to .1 core)."
            type: "string"
            required: true
            hidden: true
        memory:
          __metadata:
            label: "Memory limits for UIs"
            description: "The memory upper limit for each UI in bytes. Specify integers with suffixes: E, P, T, G, M, K, or power-of-two equivalents: Ei, Pi, Ti, Gi, Mi, Ki."
            type: "string"
            required: true
            hidden: true

## Dashboard configuration
dashboard:
  __metadata:
    label: " IBM Cloud Private monitoring service"
    description: "You can monitor your Event Streams instance from IBM Cloud Private by using the dashboards Event Streams provides to the IBM Cloud Private monitoring service."
  enabled:
    __metadata:
      label: "Export the Event Streams dashboards"
      description: "Create Grafana dashboards in the IBM Cloud Private monitoring service to view information about Event Streams health, including Kafka health and performance details."
      type: "boolean"
      required: false

## Telemetry configuration
telemetry:
  __metadata:
    label: "Insights - help us improve our product"
    description: "Allow IBM to use in-application code to transmit product usage analytics. The data from this in-application code will only be used for product usage on this IBM product, and this usage data will not be shared outside of IBM. The product usage will be used for business reporting and product usage understanding"
  enabled:
    __metadata:
      label: "Share my product usage data"
      description: "Allow product usage analytics to be transmitted to IBM for business reporting and product usage understanding"
      type: "boolean"
      required: false

## global persistence parameters
persistence:
  __metadata:
    label: "Kafka persistent storage settings"
    description: "Configuration values for the persistent volume claims used by Apache Kafka brokers"
  enabled:
    __metadata:
      label: "Enable persistent storage for Apache Kafka"
      description: "Select this checkbox to store Apache Kafka data on a persistent volume so that the data is preserved if the pod is stopped."
      type: "boolean"
      required: true
  useDynamicProvisioning:
    __metadata:
      label: Enable storage class for Apache Kafka"
      description: "Select this checkbox to define the storage class details for your persistent volume claims that are used for Apache Kafka."
      type: "boolean"
      required: true
  dataPVC:
    name:
      __metadata:
        label: "Name"
        description: "Prefix for the name of persistent volume claims used for Apache Kafka"
        type: "string"
        required: true
    storageClassName:
      __metadata:
        label: "Storage class name"
        description: "Storage class of the persistent volume claims created for Apache Kafka"
        type: "string"
        required: false
    size:
      __metadata:
        label: "Size"
        description: "Size of the persistent volume claims created for Apache Kafka"
        type: "string"
        required: true

kafka:
  __metadata:
    label: "Kafka broker settings"
    description: "Configuration values for the Apache Kafka brokers"
  ## Resource requests and limits configuration metadata for Kafka containers
  resources:
    requests:
      cpu:
        __metadata:
          label: "CPU request for Kafka brokers"
          description: "The minimum required CPU core for each Kafka broker. Specify integers, fractions (e.g. 0.5), or millicore values(e.g. 100m, where 100m is equivalent to .1 core)."
          type: "string"
          required: true
      memory:
        __metadata:
          label: "Memory request for Kafka brokers"
          description: "The minimum memory for each Kafka broker in bytes. Specify integers with one of these suffixes: E, P, T, G, M, K, or power-of-two equivalents: Ei, Pi, Ti, Gi, Mi, Ki."
          type: "string"
          required: true
    limits:
      cpu:
        __metadata:
          label: "CPU limit for Kafka brokers"
          description: "The upper limit of CPU core for each Kafka broker. Specify integers, fractions (e.g. 0.5), or millicore values(e.g. 100m, where 100m is equivalent to .1 core)."
          type: "string"
          required: true
      memory:
        __metadata:
          label: "Memory limit for Kafka brokers"
          description: "The memory upper limit for Kafka brokers in bytes. Specify integers with one of these suffixes: E, P, T, G, M, K, or power-of-two equivalents: Ei, Pi, Ti, Gi, Mi, Ki."
          type: "string"
          required: true
  ## Resource requests and limits configuration metadata for metrics-reporter containers
  metricsReporterResources:
    requests:
      cpu:
        __metadata:
          label: "CPU request for metrics-reporters"
          description: "The minimum required CPU core for each metrics-reporter sidecar. Specify integers, fractions (e.g. 0.5), or millicore values(e.g. 100m, where 100m is equivalent to .1 core)."
          type: "string"
          required: true
          hidden: true
      memory:
        __metadata:
          label: "Memory request for metrics-reporters"
          description: "The minimum memory for each metrics-reporter sidecar in bytes. Specify integers with one of these suffixes: E, P, T, G, M, K, or power-of-two equivalents: Ei, Pi, Ti, Gi, Mi, Ki."
          type: "string"
          required: true
          hidden: true
    limits:
      cpu:
        __metadata:
          label: "CPU limit for metrics-reporters"
          description: "The upper limit of CPU core for each metrics-reporter sidecar. Specify integers, fractions (e.g. 0.5), or millicore values(e.g. 100m, where 100m is equivalent to .1 core)."
          type: "string"
          required: true
          hidden: true
      memory:
        __metadata:
          label: "Memory limit for metrics-reporters"
          description: "The memory upper limit for each metrics-reporter sidecar in bytes. Specify integers with one of these suffixes: E, P, T, G, M, K, or power-of-two equivalents: Ei, Pi, Ti, Gi, Mi, Ki."
          type: "string"
          required: true
          hidden: true
  ## Resource requests and limits configuration metadata for metrics-proxy containers
  metricsProxyResources:
    requests:
      cpu:
        __metadata:
          label: "CPU request for metrics-proxys"
          description: "The minimum required CPU core for each metrics-proxy sidecar. Specify integers, fractions (e.g. 0.5), or millicore values(e.g. 100m, where 100m is equivalent to .1 core)."
          type: "string"
          required: true
          hidden: true
      memory:
        __metadata:
          label: "Memory request for metrics-proxys"
          description: "The minimum memory for each metrics-proxy sidecar in bytes. Specify integers with one of these suffixes: E, P, T, G, M, K, or power-of-two equivalents: Ei, Pi, Ti, Gi, Mi, Ki."
          type: "string"
          required: true
          hidden: true
    limits:
      cpu:
        __metadata:
          label: "CPU limit for metrics-proxys"
          description: "The upper limit of CPU core for each metrics-proxy sidecar. Specify integers, fractions (e.g. 0.5), or millicore values(e.g. 100m, where 100m is equivalent to .1 core)."
          type: "string"
          required: true
          hidden: true
      memory:
        __metadata:
          label: "Memory limit for metrics-proxys"
          description: "The memory upper limit for each metrics-proxys sidecar in bytes. Specify integers with one of these suffixes: E, P, T, G, M, K, or power-of-two equivalents: Ei, Pi, Ti, Gi, Mi, Ki."
          type: "string"
          required: true
          hidden: true
  healthcheckResources:
    requests:
      cpu:
        __metadata:
          label: "CPU request for healthchecks"
          description: "The minimum required CPU core for each healthcheck sidecar. Specify integers, fractions (e.g. 0.5), or millicore values(e.g. 100m, where 100m is equivalent to .1 core)."
          type: "string"
          required: true
          hidden: true
      memory:
        __metadata:
          label: "Memory request for healthchecks"
          description: "The minimum memory for each healthcheck sidecar in bytes. Specify integers with one of these suffixes: E, P, T, G, M, K, or power-of-two equivalents: Ei, Pi, Ti, Gi, Mi, Ki."
          type: "string"
          required: true
          hidden: true
    limits:
      cpu:
        __metadata:
          label: "CPU limit for healthchecks"
          description: "The upper limit of CPU core for each healthcheck sidecar. Specify integers, fractions (e.g. 0.5), or millicore values(e.g. 100m, where 100m is equivalent to .1 core)."
          type: "string"
          required: true
          hidden: true
      memory:
        __metadata:
          label: "Memory limit for healthchecks"
          description: "The memory upper limit for each healthcheck sidecar in bytes. Specify integers with one of these suffixes: E, P, T, G, M, K, or power-of-two equivalents: Ei, Pi, Ti, Gi, Mi, Ki."
          type: "string"
          required: true
          hidden: true
  tlsProxyResources:
    requests:
      cpu:
        __metadata:
          label: "CPU request for tlsproxy"
          description: "The minimum required CPU core for each tlsproxy sidecar. Specify integers, fractions (e.g. 0.5), or millicore values(e.g. 100m, where 100m is equivalent to .1 core)."
          type: "string"
          required: true
          hidden: true
      memory:
        __metadata:
          label: "Memory request for tlsproxy"
          description: "The minimum memory for each tlsproxy sidecar in bytes. Specify integers with one of these suffixes: E, P, T, G, M, K, or power-of-two equivalents: Ei, Pi, Ti, Gi, Mi, Ki."
          type: "string"
          required: true
          hidden: true
    limits:
      cpu:
        __metadata:
          label: "CPU limit for tlsproxy"
          description: "The upper limit of CPU core for each tlsproxy sidecar. Specify integers, fractions (e.g. 0.5), or millicore values(e.g. 100m, where 100m is equivalent to .1 core)."
          type: "string"
          required: true
          hidden: true
      memory:
        __metadata:
          label: "Memory limit for tlsproxy"
          description: "The memory upper limit for each tlsproxy sidecar in bytes. Specify integers with one of these suffixes: E, P, T, G, M, K, or power-of-two equivalents: Ei, Pi, Ti, Gi, Mi, Ki."
          type: "string"
          required: true
          hidden: true

  ## Replica count configuration metadata
  brokers:
    __metadata:
      name: "brokers"
      label: "Kafka brokers"
      description: "Number of brokers in the Kafka cluster. There must be a minimum of 3 brokers. If multi-zone support has been enabled, this will be the number of brokers across all zones, it is recommended this is a multiple of the zone count."
      type: "number"
      immutable: false
      required: true
      validation: "(^[3-9]+[0-9]*$)|(^[1-9]+[0-9]+$)"
  configMapName:
    __metadata:
      label: "Cluster configuration ConfigMap"
      description: "The name of an optional ConfigMap used to apply static configuration to all brokers in the cluster. The server.properties files of the brokers are populated using this ConfigMap"
      type: "string"
      required: false
  heapOpts:
    __metadata:
      label: "Kafka JVM Options"
      description: "Provide any extra arguments to pass to the JVM"
      type: "string"
      required: false
      hidden: true
  openJMX:
    __metadata:
      label: "Enable secure JMX connections"
      description: "Select this check box to open each Kafka broker’s JMX port for secure connections from applications running inside the ICP cluster."
      type: "boolean"
      required: true

zookeeper:
  __metadata:
    label: "ZooKeeper settings"
    description: "Configuration values for the Apache ZooKeeper servers"
  resources:
    requests:
      cpu:
        __metadata:
          label: "CPU request for ZooKeeper servers"
          description: "The minimum required CPU core for each ZooKeeeper server. Specify integers, fractions (e.g. 0.5), or millicore values(e.g. 100m, where 100m is equivalent to .1 core)."
          type: "string"
          required: true
      memory:
        __metadata:
          label: "Memory request for ZooKeeper servers"
          description: "The minimum memory for each ZooKeeper server in bytes. Specify integers with one of these suffixes: E, P, T, G, M, K, or power-of-two equivalents: Ei, Pi, Ti, Gi, Mi, Ki."
          type: "string"
          required: true
          hidden: true
    limits:
      cpu:
        __metadata:
          label: "CPU limit for ZooKeeper servers"
          description: "The upper limit of CPU core for each ZooKeeper server. Specify integers, fractions (e.g. 0.5), or millicores values(e.g. 100m, where 100m is equivalent to .1 core)."
          type: "string"
          required: true
      memory:
        __metadata:
          label: "Memory limit for ZooKeeper servers"
          description: "The memory limit for ZooKeeper servers in bytes. Specify integers with suffixes: E, P, T, G, M, K, or power-of-two equivalents: Ei, Pi, Ti, Gi, Mi, Ki."
          type: "string"
          required: true
          hidden: true
  persistence:
    enabled:
      __metadata:
        label: "Enable persistent storage for ZooKeeper servers"
        description: "Select this checkbox to store Apache ZooKeeper data on a persistent volume so that the data is preserved if the pod is stopped."
        type: "boolean"
        required: true
    useDynamicProvisioning:
      __metadata:
        label: "Enable storage class for ZooKeeper servers"
        description: "Select this checkbox to define the storage class details for your persistent volume claims that are used for Apache ZooKeeper."
        type: "boolean"
        required: true
  dataPVC:
    name:
      __metadata:
        label: "Name"
        description: "Prefix for the name of Persistent Volume Claims used for Apache ZooKeeper"
        type: "string"
        required: true
    storageClassName:
      __metadata:
        label: "Storage class name"
        description: "Storage class of the persistent volume claims created for Apache ZooKeeper"
        type: "string"
        required: false
    size:
      __metadata:
        label: "Size"
        description: "Size of the persistent volume claims created for Apache ZooKeeper"
        type: "string"
        required: true

proxy:
  __metadata:
    label: "External access settings"
    description: "Configuration for network connections to IBM Event Streams"
  externalEndpoint:
    __metadata:
      label: "External hostname/IP address"
      description: "The external hostname or IP address to be used by external clients. Leave blank to default to the IP address of the cluster proxy node."
      type: "string"
      required: false
      validation: "(^\\S*$)"
  upgradeToRoutes:
    __metadata:
      label: "Upgrade to OpenShift Routes"
      description: "Choose to upgrade from NodePorts to OpenShift Routes for external access. Note: This will require all clients to change certificates and bootstrap addresses."
      type: "boolean"
      hidden: true

## TLS info
tls:
  __metadata:
    label: "Secure connection settings"
    description: "Configuration values for TLS connections to IBM Event Streams"
  type:
    __metadata:
      label: "Certificate type"
      description: "Choose whether to supply the necessary certificate details, read them from a secret, or have a self-signed certificate generated"
      type: "string"
      required: true
      immutable: false
      options:
        - label: "secret"
          value: "secret"
        - label: "provided (deprecated)"
          value: "provided"
        - label: "selfsigned"
          value: "selfsigned"
  secretName:
    __metadata:
      label: "Secret containing provided TLS certificates"
      description: "Secret in the release namespace which contains a key, certificate and CA certificate to use for TLS. Setting this value allows certificate and key details to be read from the named secret."
      type: "string"
      required: false
  key:
    __metadata:
      label: "Private key"
      description: "If you set Certificate type to 'provided', enter the base64-encoded private key. If set to 'secret', enter the key name in the secret (default key name is 'key')."
      type: "string"
      required: false
  cert:
    __metadata:
      label: "Public certificate"
      description: "If you set Certificate type to 'provided', enter the base64-encoded public certificate. If set to 'secret', enter the key name in the secret (default key name is 'cert')."
      type: "string"
      required: false
  cacert:
    __metadata:
      label: "CA certificate"
      description: "If you set Certificate type to 'provided', enter the base64-encoded CA certificate. If set to 'secret', enter the key name in the secret (default key name is 'cacert')."
      type: "string"
      required: false

messageIndexing:
  __metadata:
    label: "Message indexing settings"
    description: "Configuration for message indexing used to enhance browsing the messages on topics"
  messageIndexingEnabled:
    __metadata:
      label: "Enable message indexing"
      description: "Whether to enable indexing of messages"
      type: "boolean"
      required: true
  resources:
    requests:
      cpu:
        __metadata:
          label: "CPU request for Elastic Search nodes"
          description: "The minimum required CPU core for each Elastic Search node. Specify integers, fractions (e.g. 0.5), or millicore values(e.g. 100m, where 100m is equivalent to .1 core)."
          type: "string"
          required: true
      memory:
        __metadata:
          label: "Memory request for Elastic Search nodes"
          description: "The minimum memory for each Elastic Search node in bytes. Specify integers with one of these suffixes: E, P, T, G, M, K, or power-of-two equivalents: Ei, Pi, Ti, Gi, Mi, Ki."
          type: "string"
          required: true
    limits:
      cpu:
        __metadata:
          label: "CPU limit for Elastic Search nodes"
          description: "The upper limit of CPU core for each Elastic Search node. Specify integers, fractions (e.g. 0.5), or millicores values(e.g. 100m, where 100m is equivalent to .1 core)."
          type: "string"
          required: true
      memory:
        __metadata:
          label: "Memory limits for Elastic Search nodes"
          description: "The memory upper limit for each Elastic Search node in bytes. Specify integers with suffixes: E, P, T, G, M, K, or power-of-two equivalents: Ei, Pi, Ti, Gi, Mi, Ki."
          type: "string"
          required: true

schema-registry:
  __metadata:
    label: "Schema Registry settings"
    description: "Configuration values for the Schema Registry servers"
  persistence:
    enabled:
      __metadata:
        label: "Enable persistent storage for Schema Registry API servers"
        description: "Select this checkbox to store Schema Registry data on a persistent volume so that the schema data is preserved if the pod is stopped."
        type: "boolean"
        required: true
    useDynamicProvisioning:
      __metadata:
        label: "Enable storage class for Schema Registry API servers"
        description: "Select this checkbox to define the storage class details for your persistent volume claims that are used for schemas."
        type: "boolean"
        required: true
    mode:
      __metadata:
        label: "Storage Mode"
        description: "Choose the storage mode of the persistence to use"
        type: "string"
        required: true
        options:
          - label: "ReadWriteMany"
            value: "ReadWriteMany"
          - label: "ReadWriteOnce"
            value: "ReadWriteOnce"
  dataPVC:
    name:
      __metadata:
        label: "Name"
        description: "Prefix for the name of Persistent Volume Claims used for the Schema Registry API server"
        type: "string"
        required: true
    storageClassName:
      __metadata:
        label: "Storage class name"
        description: "Storage class of the persistent volume claims created for the Schema Registry API server"
        type: "string"
        required: false
    size:
      __metadata:
        label: "Size"
        description: "Size of the persistent volume claims created for the Schema Registry API server"
        type: "string"
        required: true
  ## Resource requests/limits configuration metadata for schema-registry containers
  resources:
    requests:
      cpu:
        __metadata:
          label: "CPU request for Schema Registries"
          description: "The minimum required CPU core. Specify integers, fractions (e.g. 0.5), or millicore values(e.g. 100m, where 100m is equivalent to .1 core)."
          type: "string"
          required: true
          hidden: true
      memory:
        __metadata:
          label: "Memory request for Schema Registries"
          description: "The minimum memory in bytes. Specify integers with one of these suffixes: E, P, T, G, M, K, or power-of-two equivalents: Ei, Pi, Ti, Gi, Mi, Ki."
          type: "string"
          required: true
          hidden: true
    limits:
      cpu:
        __metadata:
          label: "CPU limit for Schema Registries"
          description: "The upper limit of CPU core. Specify integers, fractions (e.g. 0.5), or millicores values(e.g. 100m, where 100m is equivalent to .1 core)."
          type: "string"
          required: true
          hidden: true
      memory:
        __metadata:
          label: "Memory limits for Schema Registries"
          description: "The memory upper limit in bytes. Specify integers with suffixes: E, P, T, G, M, K, or power-of-two equivalents: Ei, Pi, Ti, Gi, Mi, Ki."
          type: "string"
          required: true
          hidden: true
  ## Resource requests/limits configuration metadata for schema-registry containers
  avroServiceResources:
    requests:
      cpu:
        __metadata:
          label: "CPU request for Avro Services"
          description: "The minimum required CPU core for each Avro Service sidecar. Specify integers, fractions (e.g. 0.5), or millicore values(e.g. 100m, where 100m is equivalent to .1 core)."
          type: "string"
          required: true
          hidden: true
      memory:
        __metadata:
          label: "Memory request for Avro Services"
          description: "The minimum memory for each Avro Service sidecar in bytes. Specify integers with one of these suffixes: E, P, T, G, M, K, or power-of-two equivalents: Ei, Pi, Ti, Gi, Mi, Ki."
          type: "string"
          required: true
          hidden: true
    limits:
      cpu:
        __metadata:
          label: "CPU limit for Avro Services"
          description: "The upper limit of CPU core for each Avro Service sidecar. Specify integers, fractions (e.g. 0.5), or millicores values(e.g. 100m, where 100m is equivalent to .1 core)."
          type: "string"
          required: true
          hidden: true
      memory:
        __metadata:
          label: "Memory limits for Avro Services"
          description: "The memory upper limit for each Avro Service sidecar in bytes. Specify integers with suffixes: E, P, T, G, M, K, or power-of-two equivalents: Ei, Pi, Ti, Gi, Mi, Ki."
          type: "string"
          required: true
          hidden: true
  replicas:
    __metadata:
      label: "Schema registry workers"
      description: "Number of workers to support the schema registry"
      type: "number"
      required: true
      hidden: true

externalMonitoring:
  __metadata:
    label: "External monitoring"
    description: "Enter configuration values for external monitoring tools that require their own configuration settings added to Event Streams resources."
  datadog:
    __metadata:
      label: "Datadog - Autodiscovery annotation check templates for Kafka brokers"
      description: "Enter a YAML object containing the required Autodiscovery check template annotations that are applied to the Kafka brokers. The Datadog prefix and container identifier is applied automatically to the annotation, so only use the template name as the object’s keys (for example, ‘check_names’)."
      type: "string"
      required: false

## License
checkSupportedPlatform:
  __metadata:
    label: "Check Supported Platform"
    type: "boolean"
    description: "Check whether the chart is being installed on a valid platform. Note, setting this to false may result in Event Streams being installed on an invalid platform"
    required: true
    immutable: true
    hidden: true

## License
license:
  __metadata:
    label: "License"
    type: "string"
    description: "Set to accept to indicate that you accept the terms of the license"
    required: true
    options:
      - label: "Accepted"
        value: "accept"
      - label: "Not accepted"
        value: "not_accepted"
