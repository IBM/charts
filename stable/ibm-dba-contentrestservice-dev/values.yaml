# Default values for ibm-ecm-icp.
# This is a YAML-formatted file.
# Declare variables to be passed into your templates.
arch:
  amd64: "3 - Most preferred"

runAsUser: 50001
replicaCount: 1
image:
  repository: mycluster.icp:8500/<namespace>/crs
  tag: ga-553-p8cgql-if001
  pullPolicy: Always

## resource
resources:
  # We usually recommend not to specify default resources and to leave this as a conscious
  # choice for the user. This also increases chances charts run on environments with little
  # resources, such as Minikube. If you do want to specify resources, uncomment the following
  # lines, adjust them as necessary, and remove the curly braces after 'resources:'.
  requests:
    cpu: 500m
    memory: 512Mi
  limits:
    cpu: 1
    memory: 1536Mi

## Horizontal Pod Autoscaler
autoscaling:
  enabled: false
  maxReplicas: 10
  minReplicas: 1
  targetCPUUtilizationPercentage: 80

## CPE Production setting
crsProductionSetting:
  timeZone: Etc/UTC
  jvmInitialHeapPercentage: 40
  jvmMaxHeapPercentage: 66
  licenseModel: FNCM.PVUNonProd
  license: accept
  cpeUri: http://<hostname>:9080/wsi/FNCEWS40MTOM


## Monitor setting
monitoring:
  enabled: false
monitoringConfiguration:
  monMetricsWriterOpt: 2
  monMetricsSvcEndpoint: metrics.ng.bluemix.net:9095
  monBMXGroup: com.ibm.ecm.monitor.
  monBMXMetricsScopeID: <space or organization guid>
  monBMXAPIKey: <IAM API key>
  monCollectInterval: 60
  monFlushInterval: 60
  monEnablePluginPCH: true
  monEnablePluginMBean: true

## Logiing setting
logging:
  enabled: false
loggingConfiguration:
  monLogParse: true
  monLogShipperOpt: 2
  monLogSvcEndpoint: logs.opvis.bluemix.net:9091
  monBMXLogsLoggingToken: <log logging token>
  monBMXSpaceID: <tenant id>


## global persistence settings
persistence:
  enabled: true
#  useDynamicProvisioning: false

## Persistence parameters for /database
dataVolume:

## Persistence parameters for External Share
  nameforCfgstore: "crs-cfg-stor"
  nameforLogstore: "crs-log-stor"

## Specify the name of the Existing Claim to be used by your application
## empty string means don't use an existClaim
## Existing Persistence parameters for CGQL
  existingPVCforCfgstore: "crs-icp-cfgstore"
  existingPVCforCfglogs: "crs-icp-logs"

service:
  name: crssvc
  externalhttpPort: 9080
  externalhttpsPort: 9443
  externalmetricsPort: 9103

imagePullSecrets:
  name: "admin.registrykey" 

