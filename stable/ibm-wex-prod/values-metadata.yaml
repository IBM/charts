# Â© Copyright IBM Corporation 2018
#
# Licensed under the Apache License, Version 2.0 (the "License");
# you may not use this file except in compliance with the License.
# You may obtain a copy of the License at
#
# http://www.apache.org/licenses/LICENSE-2.0
#
# Unless required by applicable law or agreed to in writing, software
# distributed under the License is distributed on an "AS IS" BASIS,
# WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
# See the License for the specific language governing permissions and
# limitations under the License.

global:
  __metadata:
    label: "Global"
    description: "Global configurations."
  sch:
    enabled:
      __metadata:
        hidden: true
  appName:
    __metadata:
      hidden: true

## Architecture configuration metadata
arch:
  __metadata:
    label: "Architecture preference for target worker node"
    description: "Targets a specific OS to use for the worker node."
    type: "string"
    immutable: false
    required: true
    options:
      - label: "AMD64 platforms"
        value: "amd64"
      # - label: "Power 64 LE platforms"
      #   value: "ppc64le"
      # - label: "zLinux platforms"
      #   value: "s390x"

general:
  __metadata:
    label: "General"
    description: "General configuration"
  service:
    externalPort:
      __metadata:
        label: "External port"
        description: "The port where Watson Explorer is exposed"
        type: "number"
        required: true
  image:
    core:
      __metadata:
        label: "Core image"
        description: "A Docker image of Watson Explorer core"
        type: "string"
        required: true
    hdp:
      __metadata:
        label: "HDP image"
        description: "A Docker image of Watson Explorer HDP"
        type: "string"
        required: true
    wksml:
      __metadata:
        label: "WKSML image"
        description: "A Docker image of Watson Explorer WKSML"
        type: "string"
        required: true
    pullPolicy:
      __metadata:
        label: "Image Pull policy"
        description: "The default pull policy is Always which causes the Kubelet to always pull an image every time the Pod is started."
        type: "string"
        required: true
  persistence:
    useDynamicProvisioning:
      __metadata:
        label: "Use dynamic provisioning"
        description: "Select this checkbox to allow the cluster to automatically provision new storage resource and create PersistentVolume objects."
        type: "boolean"
        required: false
    storageClassName:
      __metadata:
        label: "Storage class name"
        description: "StorageClass name for all Persistent Volumes."
        type: "string"
        required: false
    selector:
      label:
        __metadata:
          label: "Name of the additional label"
          description: "Additional label for persistent volumes."
          type: "string"
          required: false
      value:
        __metadata:
          label: "Value of the additional label"
          description: "Value of additional label for persistent volumes."
          type: "string"
          required: false
  mount:
    enabled:
      __metadata:
        label: "User volume"
        description: "Select this checkbox to mount user volume to use file system crawlers."
        type: "boolean"
        required: true
  serviceAccount:
    name:
      __metadata:
        label: "Service Account name"
        description: "Service Account name to run the Pods."
        type: "string"
        required: true
  networkPolicy:
    enabled:
      __metadata:
        label: "Network Policy"
        description: "Enable Network Policy to limit traffic."
        type: "boolean"
        required: true
  adminInitialPasswordSecret:
    use:
      __metadata:
        label: "Use administrator initial password Secret"
        description: "Select this checkbox to use Secret for administrator initial password configuration."
        type: "boolean"
        required: true
    name:
      __metadata:
        label: "Secret name for administrator initial password"
        description: "Input Secret name for administrator initial password configuration."
        type: "string"
        required: false

gateway:
  __metadata:
    label: "Gateway"
    description: "Web UI and REST API services"
  replica:
    __metadata:
      label: "Number of replicas"
      description: "The number of replicas of Gateway Pod."
      type: "number"
      required: true
  minAvailable:
    __metadata:
      label: "Minimum number of available Pods"
      description: "The minimum number of available Pods. This must be smaller or same number than/to the number of replicas."
      type: "number"
      required: true
  antiAffinity:
    __metadata:
      label: "AntiAffinity configuration"
      description: "Anti-affinity configuration of the Pod. See readme for details."
      type: "string"
      required: true
      options:
        - label: "soft"
          value: "soft"
        - label: "hard"
          value: "hard"
  server:
    maxMemory:
      __metadata:
        label: "Max memory size of server"
        description: "The max memory size of the server in the Pod."
        type: "string"
        required: true
  resources:
    requests:
      cpu:
        __metadata:
          label: "CPU request"
          description: "The minimum required CPU core. Specify integers, fractions (e.g. 0.5), or millicore values(e.g. 100m, where 100m is equivalent to .1 core)."
          type: "string"
          required: true
      memory:
        __metadata:
          label: "Memory request"
          description: "The minimum memory in bytes. Specify integers with one of these suffixes: E, P, T, G, M, K, or power-of-two equivalents: Ei, Pi, Ti, Gi, Mi, Ki."
          type: "string"
          required: true
    limits:
      cpu:
        __metadata:
          label: "CPU limit"
          description: "The upper limit of CPU core. Specify integers, fractions (e.g. 0.5), or millicore values(e.g. 100m, where 100m is equivalent to .1 core)."
          type: "string"
          required: true
      memory:
        __metadata:
          label: "Memory limit"
          description: "The memory upper limit in bytes. Specify integers with suffixes: E, P, T, G, M, K, or power-of-two equivalents: Ei, Pi, Ti, Gi, Mi, Ki."
          type: "string"
          required: true
  readinessProbe:
    initialDelaySeconds:
      __metadata:
        label: "Readiness: Initial delay"
        description: "The number of seconds after the container has started before the readiness probe is initiated."
        type: "number"
        required: true
    timeoutSeconds:
      __metadata:
        label: "Readiness: Timeout"
        description: "The number of seconds after which the readiness probe times out."
        type: "number"
        required: true
  livenessProbe:
    initialDelaySeconds:
      __metadata:
        label: "Liveness: Initial delay"
        description: "The number of seconds after the container has started before the liveness probe is initiated."
        type: "number"
        required: true
    timeoutSeconds:
      __metadata:
        label: "Liveness: Timeout"
        description: "The number of seconds after which the liveness probe times out."
        type: "number"
        required: true

orchestrator:
  __metadata:
    label: "Orchestrator"
    description: "Task orchestration service"
  docproc:
    maxMemory:
      __metadata:
        label: "Max memory size of Document Processor worker"
        description: "The max memory size of Document Processor worker. The value is passed to the Java process."
        type: "string"
        required: true
    driverMaxMemory:
      __metadata:
        label: "Max memory size of Document Processor driver"
        description: "The max memory size of Document Processor driver. The value is passed to the Java process."
        type: "string"
        required: true
    workerNum:
      __metadata:
        label: "Number of Document Processor worker"
        description: "The number of Document Processor workers."
        type: "number"
        required: true
  resources:
    requests:
      cpu:
        __metadata:
          label: "CPU request"
          description: "The minimum required CPU core. Specify integers, fractions (e.g. 0.5), or millicore values(e.g. 100m, where 100m is equivalent to .1 core)."
          type: "string"
          required: true
      memory:
        __metadata:
          label: "Memory request"
          description: "The minimum memory in bytes. Specify integers with one of these suffixes: E, P, T, G, M, K, or power-of-two equivalents: Ei, Pi, Ti, Gi, Mi, Ki."
          type: "string"
          required: true
    limits:
      cpu:
        __metadata:
          label: "CPU limit"
          description: "The upper limit of CPU core. Specify integers, fractions (e.g. 0.5), or millicore values(e.g. 100m, where 100m is equivalent to .1 core)."
          type: "string"
          required: true
      memory:
        __metadata:
          label: "Memory limit"
          description: "The memory upper limit in bytes. Specify integers with suffixes: E, P, T, G, M, K, or power-of-two equivalents: Ei, Pi, Ti, Gi, Mi, Ki."
          type: "string"
          required: true
  persistence:
    size:
      __metadata:
        label: "Storage size"
        description: "Storage size of the home data store. Specify integers with one of these suffixes: Ei, Pi, Ti, Gi, Mi, Ki."
        type: "string"
        required: true
  readinessProbe:
    initialDelaySeconds:
      __metadata:
        label: "Readiness: Initial delay"
        description: "The number of seconds after the container has started before the readiness probe is initiated."
        type: "number"
        required: true
    timeoutSeconds:
      __metadata:
        label: "Readiness: Timeout"
        description: "The number of seconds after which the readiness probe times out."
        type: "number"
        required: true
  livenessProbe:
    initialDelaySeconds:
      __metadata:
        label: "Liveness: Initial delay"
        description: "The number of seconds after the container has started before the liveness probe is initiated."
        type: "number"
        required: true
    timeoutSeconds:
      __metadata:
        label: "Liveness: Timeout"
        description: "The number of seconds after which the liveness probe times out."
        type: "number"
        required: true

database:
  __metadata:
    label: "Database"
    description: "Database service"
  resources:
    requests:
      cpu:
        __metadata:
          label: "CPU request"
          description: "The minimum required CPU core. Specify integers, fractions (e.g. 0.5), or millicore values(e.g. 100m, where 100m is equivalent to .1 core)."
          type: "string"
          required: true
      memory:
        __metadata:
          label: "Memory request"
          description: "The minimum memory in bytes. Specify integers with one of these suffixes: E, P, T, G, M, K, or power-of-two equivalents: Ei, Pi, Ti, Gi, Mi, Ki."
          type: "string"
          required: true
    limits:
      cpu:
        __metadata:
          label: "CPU limit"
          description: "The upper limit of CPU core. Specify integers, fractions (e.g. 0.5), or millicore values(e.g. 100m, where 100m is equivalent to .1 core)."
          type: "string"
          required: true
      memory:
        __metadata:
          label: "Memory limit"
          description: "The memory upper limit in bytes. Specify integers with suffixes: E, P, T, G, M, K, or power-of-two equivalents: Ei, Pi, Ti, Gi, Mi, Ki."
          type: "string"
          required: true
  readinessProbe:
    initialDelaySeconds:
      __metadata:
        label: "Readiness: Initial delay"
        description: "The number of seconds after the container has started before the readiness probe is initiated."
        type: "number"
        required: true
    timeoutSeconds:
      __metadata:
        label: "Readiness: Timeout"
        description: "The number of seconds after which the readiness probe times out."
        type: "number"
        required: true
  livenessProbe:
    initialDelaySeconds:
      __metadata:
        label: "Liveness: Initial delay"
        description: "The number of seconds after the container has started before the liveness probe is initiated."
        type: "number"
        required: true
    timeoutSeconds:
      __metadata:
        label: "Liveness: Timeout"
        description: "The number of seconds after which the liveness probe times out."
        type: "number"
        required: true

config:
  __metadata:
    label: "Config"
    description: "Configuration service"
  replica:
    __metadata:
      label: "Number of replicas"
      description: "The number of replicas of Config Pod."
      type: "number"
      required: true
  minAvailable:
    __metadata:
      label: "Minimum number of available Pods"
      description: "The minimum number of available Pods. This must be smaller or same number than/to the number of replicas."
      type: "number"
      required: true
  antiAffinity:
    __metadata:
      label: "AntiAffinity configuration"
      description: "Anti-affinity configuration of the Pod. See readme for details."
      type: "string"
      required: true
      options:
        - label: "soft"
          value: "soft"
        - label: "hard"
          value: "hard"
  minMemory:
    __metadata:
      label: "Minimum memory size of Config server"
      description: "The minimum memory size of Config server. The value is passed to the Java process."
      type: "string"
      required: true
  maxMemory:
    __metadata:
      label: "Max memory size of Config server"
      description: "The max memory size of Config server. The value is passed to the Java process."
      type: "string"
      required: true
  resources:
    requests:
      cpu:
        __metadata:
          label: "CPU request"
          description: "The minimum required CPU core. Specify integers, fractions (e.g. 0.5), or millicore values(e.g. 100m, where 100m is equivalent to .1 core)."
          type: "string"
          required: true
      memory:
        __metadata:
          label: "Memory request"
          description: "The minimum memory in bytes. Specify integers with one of these suffixes: E, P, T, G, M, K, or power-of-two equivalents: Ei, Pi, Ti, Gi, Mi, Ki."
          type: "string"
          required: true
    limits:
      cpu:
        __metadata:
          label: "CPU limit"
          description: "The upper limit of CPU core. Specify integers, fractions (e.g. 0.5), or millicore values(e.g. 100m, where 100m is equivalent to .1 core)."
          type: "string"
          required: true
      memory:
        __metadata:
          label: "Memory limit"
          description: "The memory upper limit in bytes. Specify integers with suffixes: E, P, T, G, M, K, or power-of-two equivalents: Ei, Pi, Ti, Gi, Mi, Ki."
          type: "string"
          required: true
  persistence:
    size:
      __metadata:
        label: "Storage size"
        description: "Storage size of configuration store. Specify integers with one of these suffixes: Ei, Pi, Ti, Gi, Mi, Ki."
        type: "string"
        required: true
  readinessProbe:
    initialDelaySeconds:
      __metadata:
        label: "Readiness: Initial delay"
        description: "The number of seconds after the container has started before the readiness probe is initiated."
        type: "number"
        required: true
    timeoutSeconds:
      __metadata:
        label: "Readiness: Timeout"
        description: "The number of seconds after which the readiness probe times out."
        type: "number"
        required: true
  livenessProbe:
    initialDelaySeconds:
      __metadata:
        label: "Liveness: Initial delay"
        description: "The number of seconds after the container has started before the liveness probe is initiated."
        type: "number"
        required: true
    timeoutSeconds:
      __metadata:
        label: "Liveness: Timeout"
        description: "The number of seconds after which the liveness probe times out."
        type: "number"
        required: true

nlp:
  __metadata:
    label: "Natural Language Processing"
    description: "Realtime Natural Language Processing services"
  replica:
    __metadata:
      label: "Number of replicas"
      description: "The number of replicas of Natural Language Processing Pod."
      type: "number"
      required: true
  minAvailable:
    __metadata:
      label: "Minimum number of available Pods"
      description: "The minimum number of available Pods. This must be smaller or same number than/to the number of replicas."
      type: "number"
      required: true
  antiAffinity:
    __metadata:
      label: "AntiAffinity configuration"
      description: "Anti-affinity configuration of the Pod. See readme for details."
      type: "string"
      required: true
      options:
        - label: "soft"
          value: "soft"
        - label: "hard"
          value: "hard"
  resources:
    requests:
      cpu:
        __metadata:
          label: "CPU request"
          description: "The minimum required CPU core. Specify integers, fractions (e.g. 0.5), or millicore values(e.g. 100m, where 100m is equivalent to .1 core)."
          type: "string"
          required: true
      memory:
        __metadata:
          label: "Memory request"
          description: "The minimum memory in bytes. Specify integers with one of these suffixes: E, P, T, G, M, K, or power-of-two equivalents: Ei, Pi, Ti, Gi, Mi, Ki."
          type: "string"
          required: true
    limits:
      cpu:
        __metadata:
          label: "CPU limit"
          description: "The upper limit of CPU core. Specify integers, fractions (e.g. 0.5), or millicore values(e.g. 100m, where 100m is equivalent to .1 core)."
          type: "string"
          required: true
      memory:
        __metadata:
          label: "Memory limit"
          description: "The memory upper limit in bytes. Specify integers with suffixes: E, P, T, G, M, K, or power-of-two equivalents: Ei, Pi, Ti, Gi, Mi, Ki."
          type: "string"
          required: true
  readinessProbe:
    initialDelaySeconds:
      __metadata:
        label: "Readiness: Initial delay"
        description: "The number of seconds after the container has started before the readiness probe is initiated."
        type: "number"
        required: true
    timeoutSeconds:
      __metadata:
        label: "Readiness: Timeout"
        description: "The number of seconds after which the readiness probe times out."
        type: "number"
        required: true
  livenessProbe:
    initialDelaySeconds:
      __metadata:
        label: "Liveness: Initial delay"
        description: "The number of seconds after the container has started before the liveness probe is initiated."
        type: "number"
        required: true
    timeoutSeconds:
      __metadata:
        label: "Liveness: Timeout"
        description: "The number of seconds after which the liveness probe times out."
        type: "number"
        required: true

discovery:
  __metadata:
    label: "Discovery"
    description: "Exploration and Discovery services"
  replica:
    __metadata:
      label: "Number of replicas"
      description: "The number of replicas of Discovery Pod."
      type: "number"
      required: true
  minAvailable:
    __metadata:
      label: "Minimum number of available Pods"
      description: "The minimum number of available Pods. This must be smaller or same number than/to the number of replicas."
      type: "number"
      required: true
  antiAffinity:
    __metadata:
      label: "AntiAffinity configuration"
      description: "Anti-affinity configuration of the Pod. See readme for details."
      type: "string"
      required: true
      options:
        - label: "soft"
          value: "soft"
        - label: "hard"
          value: "hard"
  maxMemory:
    __metadata:
      label: "Max memory size of Discovery server"
      description: "The max memory size of Discovery server. The value is passed to the Java process."
      type: "string"
      required: true
  resources:
    requests:
      cpu:
        __metadata:
          label: "CPU request"
          description: "The minimum required CPU core. Specify integers, fractions (e.g. 0.5), or millicore values(e.g. 100m, where 100m is equivalent to .1 core)."
          type: "string"
          required: true
      memory:
        __metadata:
          label: "Memory request"
          description: "The minimum memory in bytes. Specify integers with one of these suffixes: E, P, T, G, M, K, or power-of-two equivalents: Ei, Pi, Ti, Gi, Mi, Ki."
          type: "string"
          required: true
    limits:
      cpu:
        __metadata:
          label: "CPU limit"
          description: "The upper limit of CPU core. Specify integers, fractions (e.g. 0.5), or millicore values(e.g. 100m, where 100m is equivalent to .1 core)."
          type: "string"
          required: true
      memory:
        __metadata:
          label: "Memory limit"
          description: "The memory upper limit in bytes. Specify integers with suffixes: E, P, T, G, M, K, or power-of-two equivalents: Ei, Pi, Ti, Gi, Mi, Ki."
          type: "string"
          required: true
  persistence:
    size:
      __metadata:
        label: "Storage size"
        description: "Storage size of index data store. Specify integers with one of these suffixes: Ei, Pi, Ti, Gi, Mi, Ki."
        type: "string"
        required: true
  readinessProbe:
    initialDelaySeconds:
      __metadata:
        label: "Readiness: Initial delay"
        description: "The number of seconds after the container has started before the readiness probe is initiated."
        type: "number"
        required: true
    timeoutSeconds:
      __metadata:
        label: "Readiness: Timeout"
        description: "The number of seconds after which the readiness probe times out."
        type: "number"
        required: true
  livenessProbe:
    initialDelaySeconds:
      __metadata:
        label: "Liveness: Initial delay"
        description: "The number of seconds after the container has started before the liveness probe is initiated."
        type: "number"
        required: true
    timeoutSeconds:
      __metadata:
        label: "Liveness: Timeout"
        description: "The number of seconds after which the liveness probe times out."
        type: "number"
        required: true

hdp:
  __metadata:
    label: "HDP"
    description: "Machine Learning and Data Enrichments services"
  dfsReplication:
    __metadata:
      label: "Number of replicas of saved data"
      description: "The number of replicas of saved data on the service."
      type: "number"
      required: true
  maxMemoryMB:
    __metadata:
      label: "Max memory size of server"
      description: "The max memory size of the server. The value is passed to the Java process."
      type: "string"
      required: true
  yMaxMemoryMB:
    __metadata:
      label: "Max memory size of resource manager"
      description: "The max memory size of resource manager. The value is passed to the Java process."
      type: "string"
      required: true
  nn:
    resources:
      requests:
        cpu:
          __metadata:
            label: "Name Node: CPU request"
            description: "The minimum required CPU core. Specify integers, fractions (e.g. 0.5), or millicore values(e.g. 100m, where 100m is equivalent to .1 core)."
            type: "string"
            required: true
        memory:
          __metadata:
            label: "Name Node: Memory request"
            description: "The minimum memory in bytes. Specify integers with one of these suffixes: E, P, T, G, M, K, or power-of-two equivalents: Ei, Pi, Ti, Gi, Mi, Ki."
            type: "string"
            required: true
      limits:
        cpu:
          __metadata:
            label: "Name Node: Limit of CPU"
            description: "The upper limit of CPU core. Specify integers, fractions (e.g. 0.5), or millicore values(e.g. 100m, where 100m is equivalent to .1 core)."
            type: "string"
            required: true
        memory:
          __metadata:
            label: "Name Node: Limit of memory"
            description: "The memory upper limit in bytes. Specify integers with suffixes: E, P, T, G, M, K, or power-of-two equivalents: Ei, Pi, Ti, Gi, Mi, Ki."
            type: "string"
            required: true
    persistence:
      size:
        __metadata:
          label: "Name Node: Storage size"
          description: "Storage size for management data of saved data on the service. Specify integers with one of these suffixes: Ei, Pi, Ti, Gi, Mi, Ki."
          type: "string"
          required: true
    readinessProbe:
      initialDelaySeconds:
        __metadata:
          label: "Name Node Readiness: Initial delay"
          description: "The number of seconds after the container has started before the readiness probe is initiated."
          type: "number"
          required: true
      timeoutSeconds:
        __metadata:
          label: "Name Node Readiness: Timeout"
          description: "The number of seconds after which the readiness probe times out."
          type: "number"
          required: true
    livenessProbe:
      initialDelaySeconds:
        __metadata:
          label: "Name Node Liveness: Initial delay"
          description: "The number of seconds after the container has started before the liveness probe is initiated."
          type: "number"
          required: true
      timeoutSeconds:
        __metadata:
          label: "Name Node Liveness: Timeout"
          description: "The number of seconds after which the liveness probe times out."
          type: "number"
          required: true
  rm:
    resources:
      requests:
        cpu:
          __metadata:
            label: "Resource Manager: CPU request"
            description: "The minimum required CPU core. Specify integers, fractions (e.g. 0.5), or millicore values(e.g. 100m, where 100m is equivalent to .1 core)."
            type: "string"
            required: true
        memory:
          __metadata:
            label: "Resource Manager: Memory request"
            description: "The minimum memory in bytes. Specify integers with one of these suffixes: E, P, T, G, M, K, or power-of-two equivalents: Ei, Pi, Ti, Gi, Mi, Ki."
            type: "string"
            required: true
      limits:
        cpu:
          __metadata:
            label: "Resource Manager: Limit of CPU"
            description: "The upper limit of CPU core. Specify integers, fractions (e.g. 0.5), or millicore values(e.g. 100m, where 100m is equivalent to .1 core)."
            type: "string"
            required: true
        memory:
          __metadata:
            label: "Resource Manager: Limit of memory"
            description: "The memory upper limit in bytes. Specify integers with suffixes: E, P, T, G, M, K, or power-of-two equivalents: Ei, Pi, Ti, Gi, Mi, Ki."
            type: "string"
            required: true
    readinessProbe:
      initialDelaySeconds:
        __metadata:
          label: "Resource Manager Readiness: Initial delay"
          description: "The number of seconds after the container has started before the readiness probe is initiated."
          type: "number"
          required: true
      timeoutSeconds:
        __metadata:
          label: "Resource Manager Readiness: Timeout"
          description: "The number of seconds after which the readiness probe times out."
          type: "number"
          required: true
    livenessProbe:
      initialDelaySeconds:
        __metadata:
          label: "Resource Manager Liveness: Initial delay"
          description: "The number of seconds after the container has started before the liveness probe is initiated."
          type: "number"
          required: true
      timeoutSeconds:
        __metadata:
          label: "Resource Manager Liveness: Timeout"
          description: "The number of seconds after which the liveness probe times out."
          type: "number"
          required: true
  worker:
    replica:
      __metadata:
        label: "Worker: Number of replicas"
        description: "The number of replicas of hdp-worker Pod."
        type: "number"
        required: true
    antiAffinity:
      __metadata:
        label: "Worker: AntiAffinity configuration"
        description: "Anti-affinity configuration of the Pod. See readme for details."
        type: "string"
        required: true
        options:
          - label: "soft"
            value: "soft"
          - label: "hard"
            value: "hard"
    resources:
      requests:
        cpu:
          __metadata:
            label: "Worker: CPU request"
            description: "The minimum required CPU core. Specify integers, fractions (e.g. 0.5), or millicore values(e.g. 100m, where 100m is equivalent to .1 core)."
            type: "string"
            required: true
        memory:
          __metadata:
            label: "Worker: Memory request"
            description: "The minimum memory in bytes. Specify integers with one of these suffixes: E, P, T, G, M, K, or power-of-two equivalents: Ei, Pi, Ti, Gi, Mi, Ki."
            type: "string"
            required: true
      limits:
        cpu:
          __metadata:
            label: "Worker: Limit of CPU"
            description: "The upper limit of CPU core. Specify integers, fractions (e.g. 0.5), or millicore values(e.g. 100m, where 100m is equivalent to .1 core)."
            type: "string"
            required: true
        memory:
          __metadata:
            label: "Worker: Limit of memory"
            description: "The memory upper limit in bytes. Specify integers with suffixes: E, P, T, G, M, K, or power-of-two equivalents: Ei, Pi, Ti, Gi, Mi, Ki."
            type: "string"
            required: true
    persistence:
      size:
        __metadata:
          label: "Worker: Storage size"
          description: "Storage size for saved data on the service. Specify integers with one of these suffixes: Ei, Pi, Ti, Gi, Mi, Ki."
          type: "string"
          required: true
    nm:
      memoryMB:
        __metadata:
          label: "Worker: Available memory of HDP worker process"
          description: "The available memory size of worker process in the Pod. (MB)"
          type: "number"
          required: true
      cpu:
        __metadata:
          label: "Worker: Available CPU cores of HDP worker process"
          description: "The number of available CPU cores of worker process in the Pod."
          type: "number"
          required: true
    readinessProbe:
      initialDelaySeconds:
        __metadata:
          label: "Worker Readiness: Initial delay"
          description: "The number of seconds after the container has started before the readiness probe is initiated."
          type: "number"
          required: true
      timeoutSeconds:
        __metadata:
          label: "Worker Readiness: Timeout"
          description: "The number of seconds after which the readiness probe times out."
          type: "number"
          required: true
    livenessProbe:
      initialDelaySeconds:
        __metadata:
          label: "Worker Liveness: Initial delay"
          description: "The number of seconds after the container has started before the liveness probe is initiated."
          type: "number"
          required: true
      timeoutSeconds:
        __metadata:
          label: "Worker Liveness: Timeout"
          description: "The number of seconds after which the liveness probe times out."
          type: "number"
          required: true

ingestion:
  __metadata:
    label: "Ingestion"
    description: "Ingestion services"
  replica:
    __metadata:
      label: "Number of replicas"
      description: "The number of replicas of Ingestion Pod."
      type: "number"
      required: true
  minAvailable:
    __metadata:
      label: "Minimum number of available Pods"
      description: "The minimum number of available Pods. This must be smaller or same number than/to the number of replicas."
      type: "number"
      required: true
  numberOfCrawlerInstances:
    __metadata:
      label: "Number of Crawler instances"
      description: "The number of Crawler instances in the Pod. More large memory is required if a large value is set."
      type: "number"
      required: true
  mount:
    label:
      __metadata:
        label: "Label name of user volume"
        description: "The label assigned to a volume used for File system crawler."
        type: "string"
        required: true
  antiAffinity:
    __metadata:
      label: "AntiAffinity configuration"
      description: "Anti-affinity configuration of the Pod. See readme for details."
      type: "string"
      required: true
      options:
        - label: "soft"
          value: "soft"
        - label: "hard"
          value: "hard"
  resources:
    requests:
      cpu:
        __metadata:
          label: "CPU request"
          description: "The minimum required CPU core. Specify integers, fractions (e.g. 0.5), or millicore values(e.g. 100m, where 100m is equivalent to .1 core)."
          type: "string"
          required: true
      memory:
        __metadata:
          label: "Memory request"
          description: "The minimum memory in bytes. Specify integers with one of these suffixes: E, P, T, G, M, K, or power-of-two equivalents: Ei, Pi, Ti, Gi, Mi, Ki."
          type: "string"
          required: true
    limits:
      cpu:
        __metadata:
          label: "CPU limit"
          description: "The upper limit of CPU core. Specify integers, fractions (e.g. 0.5), or millicore values(e.g. 100m, where 100m is equivalent to .1 core)."
          type: "string"
          required: true
      memory:
        __metadata:
          label: "Memory limit"
          description: "The memory upper limit in bytes. Specify integers with suffixes: E, P, T, G, M, K, or power-of-two equivalents: Ei, Pi, Ti, Gi, Mi, Ki."
          type: "string"
          required: true
  readinessProbe:
    initialDelaySeconds:
      __metadata:
        label: "Readiness: Initial delay"
        description: "The number of seconds after the container has started before the readiness probe is initiated."
        type: "number"
        required: true
    timeoutSeconds:
      __metadata:
        label: "Readiness: Timeout"
        description: "The number of seconds after which the readiness probe times out."
        type: "number"
        required: true
  livenessProbe:
    initialDelaySeconds:
      __metadata:
        label: "Liveness: Initial delay"
        description: "The number of seconds after the container has started before the liveness probe is initiated."
        type: "number"
        required: true
    timeoutSeconds:
      __metadata:
        label: "Liveness: Timeout"
        description: "The number of seconds after which the liveness probe times out."
        type: "number"
        required: true

wksml:
  __metadata:
    label: "WKS ML Model Service"
    description: "WKS ML model services"
  replica:
    __metadata:
      label: "Number of replicas"
      description: "The number of replicas of WKS ML Model Service Pod."
      type: "number"
      required: true
  minAvailable:
    __metadata:
      label: "Minimum number of available Pods"
      description: "The minimum number of available Pods. This must be smaller or same number than/to the number of replicas."
      type: "number"
      required: true
  antiAffinity:
    __metadata:
      label: "AntiAffinity configuration"
      description: "Anti-affinity configuration of the Pod. See readme for details."
      type: "string"
      required: true
      options:
        - label: "soft"
          value: "soft"
        - label: "hard"
          value: "hard"
  resources:
    requests:
      cpu:
        __metadata:
          label: "CPU request"
          description: "The minimum required CPU core. Specify integers, fractions (e.g. 0.5), or millicore values(e.g. 100m, where 100m is equivalent to .1 core)."
          type: "string"
          required: true
      memory:
        __metadata:
          label: "Memory request"
          description: "The minimum memory in bytes. Specify integers with one of these suffixes: E, P, T, G, M, K, or power-of-two equivalents: Ei, Pi, Ti, Gi, Mi, Ki."
          type: "string"
          required: true
    limits:
      cpu:
        __metadata:
          label: "CPU limit"
          description: "The upper limit of CPU core. Specify integers, fractions (e.g. 0.5), or millicore values(e.g. 100m, where 100m is equivalent to .1 core)."
          type: "string"
          required: true
      memory:
        __metadata:
          label: "Memory limit"
          description: "The memory upper limit in bytes. Specify integers with suffixes: E, P, T, G, M, K, or power-of-two equivalents: Ei, Pi, Ti, Gi, Mi, Ki."
          type: "string"
          required: true
  readinessProbe:
    initialDelaySeconds:
      __metadata:
        label: "Readiness: Initial delay"
        description: "The number of seconds after the container has started before the readiness probe is initiated."
        type: "number"
        required: true
    timeoutSeconds:
      __metadata:
        label: "Readiness: Timeout"
        description: "The number of seconds after which the readiness probe times out."
        type: "number"
        required: true
  livenessProbe:
    initialDelaySeconds:
      __metadata:
        label: "Liveness: Initial delay"
        description: "The number of seconds after the container has started before the liveness probe is initiated."
        type: "number"
        required: true
    timeoutSeconds:
      __metadata:
        label: "Liveness: Timeout"
        description: "The number of seconds after which the liveness probe times out."
        type: "number"
        required: true

test:
  __metadata:
    label: "Test"
    description: "Test Pod configurations"
    hidden: true
  resources:
    requests:
      cpu:
        __metadata:
          label: "CPU request"
          description: "The minimum required CPU core. Specify integers, fractions (e.g. 0.5), or millicore values(e.g. 100m, where 100m is equivalent to .1 core)."
          type: "string"
          required: true
          hidden: true
      memory:
        __metadata:
          label: "Memory request"
          description: "The minimum memory in bytes. Specify integers with one of these suffixes: E, P, T, G, M, K, or power-of-two equivalents: Ei, Pi, Ti, Gi, Mi, Ki."
          type: "string"
          required: true
          hidden: true
    limits:
      cpu:
        __metadata:
          label: "CPU limit"
          description: "The upper limit of CPU core. Specify integers, fractions (e.g. 0.5), or millicore values(e.g. 100m, where 100m is equivalent to .1 core)."
          type: "string"
          required: true
          hidden: true
      memory:
        __metadata:
          label: "Memory limit"
          description: "The memory upper limit in bytes. Specify integers with suffixes: E, P, T, G, M, K, or power-of-two equivalents: Ei, Pi, Ti, Gi, Mi, Ki."
          type: "string"
          hidden: true
          required: true
