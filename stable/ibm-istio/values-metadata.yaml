## Metadata for <ibm-istio-chart> configuration
## This metadata is used to augment the value.yaml to drive ICP UI for configuration of the Helm chart installation

global:
  __metadata:
    label: "Global Settings"
    description: "Specify global settings."
    type: "string"
  k8sIngressSelector:
    __metadata:
      label: "k8s Ingress Selector"
      description: "Gateway used for legacy k8s Ingress resources. By default it is using 'istio:ingress', to match 0.8 config. It requires that ingress.enabled is set to true. You can also set it to ingressgateway, or any other gateway you define in the 'gateway' section."
      type: "string"
      immutable: false
      required: false
  k8sIngressHttps:
    __metadata:
      label: "Enable k8s Ingress HTTPs"
      description: "k8sIngressHttps will add port 443 on the ingress and ingressgateway. It REQUIRES that the certificates are installed  in the expected secrets - enabling this option without certificates will result in LDS rejection and the ingress will not work."
      type: "boolean"
      immutable: false
      required: false
  proxy:
    repository:
      __metadata:
        label: "Proxy Image Repository"
        description: "Docker registry to pull proxy image from."
        type: "string"
        immutable: false
        required: false
    tag:
      __metadata:
        label: "Proxy Image Tag"
        description: "Proxy image version."
        type: "string"
        immutable: false
        required: false
    resources:
      requests:
        cpu:
          __metadata:
            label: "CPU Resources Requests"
            type: "string"
            description: "Specify the minimum requested CPU."
            immutable: false
            required: false
    concurrency:
      __metadata:
        label: "Number of Proxy Worker Threads"
        description: "Controls number of proxy worker threads. If set to 0 (default), then start worker thread for each CPU thread/core."
        type: "number"
        immutable: false
        required: false
    accessLogFile:
      __metadata:
        label: "Configures the access log for each sidecar"
        description: "Configures the access log for each sidecar. Setting it to an empty string will disable access log for sidecar."
        type: "string"
        immutable: false
        required: false
    privileged:
      __metadata:
        label: "Enable Privileged Security Context for Proxy"
        description: "Configure privileged securityContext for proxy. If set to true, istio-proxy container will have privileged securityContext."
        type: "boolean"
        immutable: false
        required: false
    enableCoreDump:
      __metadata:
        label: "Enable Core Dump"
        description: "Specify whether to enable debug information for envoy sidecar."
        type: "boolean"
        immutable: false
        required: false
    includeIPRanges:
      __metadata:
        label: "Include IP Ranges"
        description: "Specify istio egress capture whitelist. For example: includeIPRanges: '172.30.0.0/16,172.20.0.0/16'."
        type: "string"
        immutable: false
        required: false
    excludeIPRanges:
      __metadata:
        label: "Exclude IP Ranges"
        description: "Specify istio egress capture blacklist. For example: excludeIPRanges: '172.40.0.0/16,172.50.0.0/16'."
        type: "string"
        immutable: false
        required: false
    excludeInboundPorts:
      __metadata:
        label: "Exclude Port List"
        description: "Specify istio egress capture port blacklist. For example: excludeInboundPorts: '81:8081'."
        type: "string"
        immutable: false
        required: false
    autoInject:
      __metadata:
        label: "Enable Sidecar Auto Inject"
        description: "Specify whether auto-injection policy is enabled."
        type: "string"
        immutable: false
        required: false
    envoyStatsd:
      enabled:
        __metadata:
          label: "Enable The Destination Enovy Statsd"
          description: "Enable the destination statsd in Enovy."
          type: "boolean"
          immutable: false
          required: false
      host:
        __metadata:
          label: "Statsd Address"
          description: "The address for statsd prometheus bridge."
          type: "string"
          immutable: false
          required: false
      port:
        __metadata:
          label: "Statsd Port"
          description: "The port for statsd prometheus bridge."
          type: "number"
          immutable: false
          required: false
  proxy_init:
    repository:
      __metadata:
        label: "Proxy_init Image Repository"
        description: "Docker registry to pull proxy_init image from."
        type: "string"
        immutable: false
        required: false
    tag:
      __metadata:
        label: "Proxy_init Image Tag"
        description: "Proxy_init image version."
        type: "string"
        immutable: false
        required: false
  kubectl:
    repository:
      __metadata:
        label: "Kubectl Image Repository"
        description: "Docker registry to pull kubectl image from."
        type: "string"
        immutable: false
        required: false
    tag:
      __metadata:
        label: "Kubectl Image Tag"
        description: "Kubectl image version."
        type: "string"
        immutable: false
        required: false
  imagePullPolicy:
    __metadata:
      label: "Image Pull Policy"
      description: "Image pull policy for all istio components, the value can be 'Always', 'Never', or 'IfNotPresent'. Defaults to 'IfNotPresent'."
      type: "string"
      immutable: false
      required: false
      options:
      - label: "Always"
        value: "Always"
      - label: "Never"
        value: "Never"
      - label: "IfNotPresent"
        value: "IfNotPresent"
  controlPlaneSecurityEnabled:
    __metadata:
      label: "Enable Control Plane Security"
      description: "Specify whether to enable mutual TLS for istio control plane. Setting this field to 'true' will result in delays starting the pods while secrets are propagated, not recommended for tests."
      type: "boolean"
      immutable: false
      required: false
  disablePolicyChecks:
    __metadata:
      label: "Disable Policy Checks"
      description: "Disables mixer policy checks. Will set the value with same name in istio config map - pilot needs to be restarted to take effect."
      type: "boolean"
      immutable: false
      required: false
  enableTracing:
    __metadata:
      label: "Enable Tracing"
      description: "Sets the value with same name in istio config map, requires pilot restart to take effect."
      type: "boolean"
      immutable: false
      required: false
  mtls:
    enabled:
      __metadata:
        label: "Mutual TLS Authentication Enabled"
        description: "Specify whether to enable mutual TLS authentication for services, defaultls to 'false'."
        type: "boolean"
        immutable: false
        required: false
  imagePullSecrets:
    __metadata:
      label: "Image Pull Secrets"
      description: "Add 'imagePullSecrets' if images are pulled from a private docker registry."
      type: "string"
      immutable: false
      required: false
  oneNamespace:
    __metadata:
      label: "Restrict to one namespace"
      description: "Specify whether to restrict the applications namespace the controller manages."
      type: "boolean"
      immutable: false
      required: false
  configValidation:
    __metadata:
      label: "Enable Server-side Validation"
      description: "Specify whether to perform server-side validation of configuration."
      type: "boolean"
      immutable: false
      required: false
  meshExpansion:
    __metadata:
      label: "Mesh Expansion"
      description: "If set to true, the pilot and citadel mtls will be exposed on the ingress gateway."
      type: "boolean"
      immutable: false
      required: false
  meshExpansionILB:
    __metadata:
      label: "Mesh Expansion ILB"
      description: "If set to true, the pilot and citadel mtls and the plain text pilot ports will be exposed on an internal gateway."
      type: "boolean"
      immutable: false
      required: false
  crds:
    __metadata:
      label: "Enable CRDs"
      description: "Include the crd definition when generating the template."
      type: "boolean"
      immutable: false
      required: false
  istioNamespace:
    __metadata:
      label: "Istio Installation Namespace"
      description: "Specify Istio installation namespace when generate a standalone gateway."
      type: "string"
      immutable: false
      required: false
  omitSidecarInjectorConfigMap:
    __metadata:
      label: "Omit Sidecar Injector ConfigMap"
      description: "Specify whether to omit the istio-sidecar-injector configmap when generate a standalone gateway."
      type: "boolean"
      immutable: false
      required: false
  defaultResources:
    requests:
      cpu:
        __metadata:
          label: "CPU Resources Requests"
          type: "string"
          description: "Specify the minimum requested CPU."
          immutable: false
          required: false
  priorityClassName:
    __metadata:
      label: "Priority Class Name"
      description: "Specify priority class, it can be 'system-cluster-critical' or 'system-node-critical'. Configure this to make sure Istio pods will not be evicted because of low prioroty class."
      type: "string"
      immutable: false
      required: false
  arch:
    amd64:
      __metadata:
        name: "amd64"
        label: "AMD64 scheduling preference"
        description: "Architecture preference for target worker node."
        type: "string"
        immutable: false
        required: false
        options:
          - label: "0 - Do not use"
            value: "0 - Do not use"
          - label: "1 - Least preferred"
            value: "1 - Least preferred"
          - label: "2 - No preference"
            value: "2 - No preference"
          - label: "3 - Most preferred"
            value: "3 - Most preferred"
    ppc64le:
      __metadata:
        name: "ppc64le"
        label: "PPC64LE scheduling preference"
        description: "Architecture preference for target worker node."
        type: "string"
        immutable: false
        required: false
        options:
        - label: "0 - Do not use"
          value: "0 - Do not use"
        - label: "1 - Least preferred"
          value: "1 - Least preferred"
        - label: "2 - No preference"
          value: "2 - No preference"
        - label: "3 - Most preferred"
          value: "3 - Most preferred"
    s390x:
      __metadata:
        name: "s390x"
        label: "S390X scheduling preference"
        description: "Architecture preference for target worker node."
        type: "string"
        immutable: false
        required: false
        options:
        - label: "0 - Do not use"
          value: "0 - Do not use"
        - label: "1 - Least preferred"
          value: "1 - Least preferred"
        - label: "2 - No preference"
          value: "2 - No preference"
        - label: "3 - Most preferred"
          value: "3 - Most preferred"

ingress:
  __metadata:
    label: "Ingress Settings"
    description: "Specify ingress settings."
    type: "string"
  enabled:
    __metadata:
      label: "Enable Ingress"
      description: "Specify whether to enable Ingress. This deprecated components support combining Kubernetes Ingress specs with Istio routing rules."
      type: "boolean"
      immutable: false
      required: false
  replicaCount:
    __metadata:
      label: "Replica Count"
      description: "Specify number of desired pods for ingress deployment."
      type: "number"
      immutable: false
      required: false
  autoscaleMin:
    __metadata:
      label: "Min Replicas"
      description: "Lower limit for the number of pods that can be set by the autoscaler, default 1."
      type: "number"
      immutable: false
      required: false
  autoscaleMax:
    __metadata:
      label: "Max Replicas"
      description: "Upper limit for the number of pods that can be set by the autoscaler, cannot be smaller than MinReplicas."
      type: "number"
      immutable: false
      required: false
  resources:
    __metadata:
      label: "Istio Ingress Resources"
      description: "Specify the resource(CPU/Memory) requests & limits for Istio Ingress."
      type: "string"
  service:
    annotations:
      __metadata:
        label: "Ingress Service Annotations"
        description: "Specify the annotations for Ingress Service."
        type: "string"
        immutable: false
        required: false
    loadBalancerIP:
      __metadata:
        label: "Service Load Balancer IP"
        description: "Specify load balancer IP for ingress service if its type is LoadBalancer."
        type: "string"
        immutable: false
        required: false
    type:
      __metadata:
        label: "Service Type"
        description: "Specify ingree service type, defaults to 'LoadBalancer'."
        type: "string"
        immutable: false
        required: false
    ports:
      __metadata:
        label: "Ingress Port Settings"
        type: "string"
        description: "Specify ports settings for ingress deployment and service."
    selector:
      __metadata:
        label: "Ingress Service Selector"
        description: "Specify selector for ingress services."
        type: "string"
  nodeRole:
    __metadata:
      label: "Node Role"
      description: "Specify which node current component will be deployed to(effective only on IBM Cloud Private), values could be 'proxy' or 'management'."
      type: "string"
      immutable: false
      required: false
  nodeSelector:
    __metadata:
      label: "Node Selector"
      description: "Specify the extra node selector for deployment."
      type: "string"
      minProperties: 0
      immutable: false
      required: false

gateways:
  __metadata:
    label: "Gateways Settings"
    description: "Specify gateways settings."
    type: "string"
  enabled:
    __metadata:
      label: "Enable Gateways"
      description: "Specify whether to enable Gateway(Ingress and Egress)."
      type: "boolean"
      immutable: false
      required: false
  istio-ingressgateway:
    enabled:
      __metadata:
        label: "Enable Ingressgateway"
        description: "Specify whether to enable ingressgateway that supports a platform independent Gateway model for ingress."
        type: "boolean"
        immutable: false
        required: false
    labels:
      app:
        __metadata:
          label: "Ingressgateway app label"
          type: "string"
          description: "Specify label value for 'app' label key applied to ingressgateway deployment and service."
          immutable: false
          required: false
      istio:
        __metadata:
          label: "Ingressgateway istio label"
          type: "string"
          description: "Specify label value for 'istio' label key applied to ingressgateway deployment and service."
          immutable: false
          required: false
    replicaCount:
      __metadata:
        label: "Replica Count"
        description: "Specify number of desired pods for ingress gateway deployment."
        type: "number"
        immutable: false
        required: false
    autoscaleMin:
      __metadata:
        label: "Min Replicas"
        description: "Lower limit for the number of pods that can be set by the autoscaler."
        type: "number"
        immutable: false
        required: false
    autoscaleMax:
      __metadata:
        label: "Max Replicas"
        description: "Upper limit for the number of pods that can be set by the autoscaler, cannot be smaller than MinReplicas."
        type: "number"
        immutable: false
        required: false
    resources:
      __metadata:
        label: "Istio Ingressgateway Resources"
        description: "Specify the resource(CPU/Memory) requests & limits for Istio Ingressgateway."
        type: "string"
    nodeRole:
      __metadata:
        label: "Node Role"
        description: "Specify which node current component will be deployed to(effective only on IBM Cloud Private), values could be 'proxy' or 'management'."
        type: "string"
        immutable: false
        required: false
    nodeSelector:
      __metadata:
        label: "Node Selector"
        description: "Specify the extra node selector for deployment."
        type: "string"
        minProperties: 0
        immutable: false
        required: false
    cpu:
      targetAverageUtilization:
        __metadata:
          label:  "Ingressgateway CPU Target Average Utilization"
          description: "Specify the CPU target average utilization for ingressgateway."
          type: "number"
          immutable: false
          required: false
    loadBalancerIP:
      __metadata:
        label: "Load Balancer IP"
        description: "Specify the load balancer IP for ingressgateway."
        type: "string"
        immutable: false
        required: false
    serviceAnnotations:
      __metadata:
        label: "Ingressgateway Service Annotations"
        description: "Specify the annotations for Ingressgateway Service."
        type: "string"
        immutable: false
        required: false
    type:
      __metadata:
        label: "Ingressgateway Type"
        description: "Change to NodePort, ClusterIP or LoadBalancer if need be."
        type: "string"
        immutable: false
        required: false
    ports:
      __metadata:
        label: "Ingressgateway Port Settings"
        type: "string"
        description: "Specify ports settings for ingressgateway deployment and service."
    secretVolumes:
      __metadata:
        label: "Ingressgateway volumes Settings"
        type: "string"
        description: "Specify volumes settings for ingressgateway deployment."
  istio-egressgateway:
    enabled:
      __metadata:
        label: "Enable Egressgateway"
        description: "Specify whether to enable egressgateway that supports a platform independent traffic management model for ingress."
        type: "boolean"
        immutable: false
        required: false
    labels:
      app:
        __metadata:
          label: "Egressgateway app label"
          type: "string"
          description: "Specify label value for 'app' label key applied to egressgateway deployment and service."
          immutable: false
          required: false
      istio:
        __metadata:
          label: "Egressgateway istio label"
          type: "string"
          description: "Specify label value for 'istio' label key applied to egressgateway deployment and service."
          immutable: false
          required: false
    replicaCount:
      __metadata:
        label: "Replica Count"
        description: "Specify number of desired pods for egress gateway deployment."
        type: "number"
        immutable: false
        required: false
    autoscaleMin:
      __metadata:
        label: "Min Replicas"
        description: "Lower limit for the number of pods that can be set by the autoscaler, default 1."
        type: "number"
        immutable: false
        required: false
    autoscaleMax:
      __metadata:
        label: "Max Replicas"
        description: "Upper limit for the number of pods that can be set by the autoscaler, cannot be smaller than MinReplicas."
        type: "number"
        immutable: false
        required: false
    resources:
      __metadata:
        label: "Istio Egressgateway Resources"
        description: "Specify the resource(CPU/Memory) requests & limits for Istio Egressgateway."
        type: "string"
    nodeRole:
      __metadata:
        label: "Node Role"
        description: "Specify which node current component will be deployed to(effective only on IBM Cloud Private), values could be 'proxy' or 'management'."
        type: "string"
        immutable: false
        required: false
    nodeSelector:
      __metadata:
        label: "Node Selector"
        description: "Specify the extra node selector for deployment."
        type: "string"
        minProperties: 0
        immutable: false
        required: false
    cpu:
      targetAverageUtilization:
        __metadata:
          label:  "Egressgateway CPU Target Average Utilization"
          description: "Specify the CPU target average utilization for egressgateway."
          type: "number"
          immutable: false
          required: false
    serviceAnnotations:
      __metadata:
        label: "Egressgateway Service Annotations"
        description: "Specify the annotations for Egressgateway service."
        type: "string"
        immutable: false
        required: false
    type:
      __metadata:
        label: "Egressgateway Type"
        description: "Change to NodePort or LoadBalancer if need be."
        type: "string"
        immutable: false
        required: false
    ports:
      __metadata:
        label: "Egressgateway Port Settings"
        type: "string"
        description: "Specify ports settings for egressgateway deployment and service."
    secretVolumes:
      __metadata:
        label: "Egressgateway volumes Settings"
        type: "string"
        description: "Specify volumes settings for egressgateway deployment."
  istio-ilbgateway:
    enabled:
      __metadata:
        label: "Enable ILB Gateway"
        description: "Specify whether to enable Ingressgateway that creates a gateway of type InternalLoadBalancer."
        type: "boolean"
        immutable: false
        required: false
    labels:
      app:
        __metadata:
          label: "ILB Gateway app label"
          type: "string"
          description: "Specify label value for 'app' label key applied to ilbgateway deployment and service."
          immutable: false
          required: false
      istio:
        __metadata:
          label: "ILB Gateway istio label"
          type: "string"
          description: "Specify label value for 'istio' label key applied to ilbgateway deployment and service."
          immutable: false
          required: false
    replicaCount:
      __metadata:
        label: "Replica Count"
        description: "Specify number of desired pods for ILB Gateway deployment."
        type: "number"
        immutable: false
        required: false
    autoscaleMin:
      __metadata:
        label: "Min Replicas"
        description: "Lower limit for the number of pods that can be set by the autoscaler, default 1."
        type: "number"
        immutable: false
        required: false
    autoscaleMax:
      __metadata:
        label: "Max Replicas"
        description: "Upper limit for the number of pods that can be set by the autoscaler, cannot be smaller than MinReplicas."
        type: "number"
        immutable: false
        required: false
    resources:
      requests:
        cpu:
          __metadata:
            label: "CPU Resources Requests"
            type: "string"
            description: "Specify the minimum requested CPU."
            immutable: false
            required: false
        memory:
          __metadata:
            label: "Memory Resources Requests"
            type: "string"
            description: "Specify the minimum requested memory."
            immutable: false
            required: false
    nodeRole:
      __metadata:
        label: "Node Role"
        description: "Specify which node current component will be deployed to(effective only on IBM Cloud Private), values could be 'proxy' or 'management'."
        type: "string"
        immutable: false
        required: false
    nodeSelector:
      __metadata:
        label: "Node Selector"
        description: "Specify the extra node selector for deployment."
        type: "string"
        minProperties: 0
        immutable: false
        required: false
    cpu:
      targetAverageUtilization:
        __metadata:
          label:  "ILB Gateway CPU Target Average Utilization"
          description: "Specify the CPU target average utilization for ILB Gateway."
          type: "number"
          immutable: false
          required: false
    loadBalancerIP:
      __metadata:
        label: "Load Balancer IP"
        description: "Specify the load balancer IP for ILB Gateway."
        type: "string"
        immutable: false
        required: false
    serviceAnnotations:
      __metadata:
        label: "ILB Gateway Service Annotations"
        description: "Specify the annotations for ILB Gateway Service."
        type: "string"
        immutable: false
        required: false
    type:
      __metadata:
        label: "ILB Gateway Type"
        type: "string"
        description: "Change to NodePort, ClusterIP or LoadBalancer if need be."
        immutable: false
        required: false
    ports:
      __metadata:
        label: "ILB Gateway Port Settings"
        type: "string"
        description: "Specify ports settings for ILB gateway deployment and service."
    secretVolumes:
      __metadata:
        label: "ILB Gateway volumes Settings"
        type: "string"
        description: "Specify volumes settings for ILB gateway deployment."

sidecarInjectorWebhook:
  __metadata:
    label: "Sidecar Injector Webhook Settings"
    description: "Specify sidecar injector webhook settings."
    type: "string"
  enabled:
    __metadata:
      label: "Enable Sidecar Injector Webhook"
      description: "Specify whether to enable sidecar injector webhook to support automatical sidecar injection."
      type: "boolean"
      immutable: false
      required: false
  replicaCount:
    __metadata:
      label: "Replica Count"
      description: "Specify number of desired pods for sidecar injector webhook deployment."
      type: "number"
      immutable: false
      required: false
  enableNamespacesByDefault:
    __metadata:
      label: "Enable Namespaces By Default"
      description: "Specify whether to enable Namespaces for sidercar by default"
      type: "boolean"
      immutable: false
      required: false
  image:
    repository:
      __metadata:
        label: "Sidecar Injector Image Repository"
        description: "Docker registry to pull sidecar injector image from."
        type: "string"
        immutable: false
        required: false
    tag:
      __metadata:
        label: "Sidecar Injector Image Tag"
        description: "Sidecar injector image version."
        type: "string"
        immutable: false
        required: false
  resources:
    __metadata:
      label: "Istio Sidecar Injector Resources"
      description: "Specify the resource(CPU/Memory) requests & limits for Istio Sidecar Injector."
      type: "string"
  nodeRole:
    __metadata:
      label: "Node Role"
      description: "Specify which node current component will be deployed to(effective only on IBM Cloud Private), values could be 'proxy' or 'management'."
      type: "string"
      immutable: false
      required: false
  nodeSelector:
    __metadata:
      label: "Node Selector"
      description: "Specify the extra node selector for deployment."
      type: "string"
      minProperties: 0
      immutable: false
      required: false

galley:
  __metadata:
    label: "Galley Settings"
    description: "Specify galley settings."
    type: "string"
  enabled:
    __metadata:
      label: "Enable Galley"
      description: "Specify whether to enabel Galley."
      type: "boolean"
      immutable: false
      required: false
  replicaCount:
    __metadata:
      label: "Replica Count"
      description: "Specify number of desired pods for galley deployment."
      type: "number"
      immutable: false
      required: false
  image:
    repository:
      __metadata:
        label: "Galley Image Repository"
        description: "Docker registry to pull galley image from."
        type: "string"
        immutable: false
        required: false
    tag:
      __metadata:
        label: "Galley Image Tag"
        description: "Galley image version."
        type: "string"
        immutable: false
        required: false
  resources:
    __metadata:
      label: "Istio Galley Resources"
      description: "Specify the resource(CPU/Memory) requests & limits for Istio Galley."
      type: "string"
  nodeRole:
    __metadata:
      label: "Node Role"
      description: "Specify which node current component will be deployed to(effective only on IBM Cloud Private), values could be 'proxy' or 'management'."
      type: "string"
      immutable: false
      required: false
  nodeSelector:
    __metadata:
      label: "Node Selector"
      description: "Specify the extra node selector for deployment."
      type: "string"
      minProperties: 0
      immutable: false
      required: false

mixer:
  __metadata:
    label: "Mixer Settings"
    description: "Specify mixer settings."
    type: "string"
  enabled:
    __metadata:
      label: "Enable Mixer"
      description: "Specify whether to enable Mixer."
      type: "boolean"
      immutable: false
      required: false
  replicaCount:
    __metadata:
      label: "Replica Count"
      description: "Specify number of desired pods for Mixer deployment."
      type: "number"
      immutable: false
      required: false
  image:
    repository:
      __metadata:
        label: "Mixer Image Repository"
        description: "Docker registry to pull mixer image from."
        type: "string"
        immutable: false
        required: false
    tag:
      __metadata:
        label: "Mixer Image Tag"
        description: "Mixer image version."
        type: "string"
        immutable: false
        required: false
  resources:
    __metadata:
      label: "Istio Mixer Resources"
      description: "Specify the resource(CPU/Memory) requests & limits for Istio Mixer."
      type: "string"
  nodeRole:
    __metadata:
      label: "Node Role"
      description: "Specify which node current component will be deployed to(effective only on IBM Cloud Private), values could be 'proxy' or 'management'."
      type: "string"
      immutable: false
      required: false
  nodeSelector:
    __metadata:
      label: "Node Selector"
      description: "Specify the extra node selector for deployment."
      type: "string"
      minProperties: 0
      immutable: false
      required: false
  istio-policy:
    autoscaleEnabled:
      __metadata:
        label: "Enable Policy Auto Scaler"
        description: "Specify whether to enable auto scaler for Mixer policy checker."
        type: "boolean"
        immutable: false
        required: false
    autoscaleMin:
      __metadata:
        label: "Min Replicas"
        description: "Lower limit for the number of pods that can be set by the autoscaler, default 1."
        type: "number"
        immutable: false
        required: false
    autoscaleMax:
      __metadata:
        label: "Max Replicas"
        description: "Upper limit for the number of pods that can be set by the autoscaler, cannot be smaller than MinReplicas."
        type: "number"
        immutable: false
        required: false
    cpu:
      targetAverageUtilization:
        __metadata:
          label: "Target Average Utilization"
          description: "Specify CPU target average utilization."
          type: "number"
          immutable: false
          required: false
  istio-telemetry:
    autoscaleEnabled:
      __metadata:
        label: "Enable Telemetry Auto Scaler"
        description: "Specify whether to enable auto scaler for Mixer telemetry."
        type: "boolean"
        immutable: false
        required: false
    autoscaleMin:
      __metadata:
        label: "Min Replicas"
        description: "Lower limit for the number of pods that can be set by the autoscaler, default 1."
        type: "number"
        immutable: false
        required: false
    autoscaleMax:
      __metadata:
        label: "Max Replicas"
        description: "Upper limit for the number of pods that can be set by the autoscaler, cannot be smaller than MinReplicas."
        type: "number"
        immutable: false
        required: false
    cpu:
      targetAverageUtilization:
        __metadata:
          label: "Target Average Utilization"
          description: "Specify CPU target average utilization."
          type: "number"
          immutable: false
          required: false
  prometheusStatsdExporter:
    repository:
      __metadata:
        label: "Prometheus Statsd Image Repository"
        description: "Docker registry to pull prometheus statsd image from."
        type: "string"
        immutable: false
        required: false
    tag:
      __metadata:
        label: "Prometheus Statsd Image Tag"
        description: "Prometheus statsd image version."
        type: "string"
        immutable: false
        required: false
    resources:
      __metadata:
        label: "Istio Prometheus Statsd Exporter Resources"
        description: "Specify the resource(CPU/Memory) requests & limits for Istio Prometheus Statsd Exporter."
        type: "string"

pilot:
  __metadata:
    label: "Pilot Settings"
    description: "Specify pilot settings."
    type: "string"
  enabled:
    __metadata:
      label: "Enable Pilot"
      description: "Specify whether to enable Pilot."
      type: "boolean"
      immutable: false
      required: false
  replicaCount:
    __metadata:
      label: "Replica Count"
      description: "Specify number of desired pods for Pilot deployment."
      type: "number"
      immutable: false
      required: false
  autoscaleMin:
    __metadata:
      label: "Min Replicas"
      description: "Lower limit for the number of pods that can be set by the autoscaler, default 1."
      type: "number"
      immutable: false
      required: false
  autoscaleMax:
    __metadata:
      label: "Max Replicas"
      description: "Upper limit for the number of pods that can be set by the autoscaler, cannot be smaller than MinReplicas."
      type: "number"
      immutable: false
      required: false
  image:
    repository:
      __metadata:
        label: "Pilot Image Repository"
        description: "Docker registry to pull pilot image from."
        type: "string"
        immutable: false
        required: false
    tag:
      __metadata:
        label: "Pilot Image Tag"
        description: "Pilot image version."
        type: "string"
        immutable: false
        required: false
  sidecar:
    __metadata:
      label: "Enable sidecar"
      description: "Specify whether to enable envoy sidecar in Pilot."
      type: "boolean"
      immutable: false
      required: false
  traceSampling:
    __metadata:
      label: "Trace Sampling"
      description: "Specify trace sampling number for Pilot."
      type: "number"
      immutable: false
      required: false
  resources:
    requests:
      cpu:
        __metadata:
          label: "CPU Resources Requests"
          type: "string"
          description: "Specify the minimum requested CPU."
          immutable: false
          required: false
      memory:
        __metadata:
          label: "Memory Resources Requests"
          type: "string"
          description: "Specify the minimum requested memory."
          immutable: false
          required: false
  env:
    __metadata:
      label: "Pilot Env Settings"
      description: "Specify env settings for pilot deployment."
      type: "string"
      immutable: false
      required: false
  cpu:
    targetAverageUtilization:
      __metadata:
          label: "Target Average Utilization"
          description: "Specify CPU target average utilization."
          type: "number"
          immutable: false
          required: false
  nodeRole:
    __metadata:
      label: "Node Role"
      description: "Specify which node current component will be deployed to(effective only on IBM Cloud Private), values could be 'proxy' or 'management'."
      type: "string"
      immutable: false
      required: false
  nodeSelector:
    __metadata:
      label: "Node Selector"
      description: "Specify the extra node selector for deployment."
      type: "string"
      minProperties: 0
      immutable: false
      required: false

security:
  __metadata:
    label: "Security Settings"
    description: "Specify security settings."
    type: "string"
  enabled:
    __metadata:
      label: "Enable Citadel"
      description: "Specify whether to enable Citadel."
      type: "boolean"
      immutable: false
      required: false
  replicaCount:
    __metadata:
      label: "Replica Count"
      description: "Specify number of desired pods for Citadel deployment."
      type: "number"
      immutable: false
      required: false
  selfSigned:
    __metadata:
      label: "Self Signed"
      description: "Indicate if self-signed CA is used."
      type: "boolean"
      immutable: false
      required: false
  image:
    repository:
      __metadata:
        label: "Citadel Image Repository"
        description: "Docker registry to pull citadel image from."
        type: "string"
        immutable: false
        required: false
    tag:
      __metadata:
        label: "Citadel Image Tag"
        description: "Citadel image version."
        type: "string"
        immutable: false
        required: false
  resources:
    __metadata:
      label: "Istio Citadel Resources"
      description: "Specify the resource(CPU/Memory) requests & limits for Istio Citadel."
      type: "string"
  nodeRole:
    __metadata:
      label: "Node Role"
      description: "Specify which node current component will be deployed to(effective only on IBM Cloud Private), values could be 'proxy' or 'management'."
      type: "string"
      immutable: false
      required: false
  nodeSelector:
    __metadata:
      label: "Node Selector"
      description: "Specify the extra node selector for deployment."
      type: "string"
      minProperties: 0
      immutable: false
      required: false

telemetry-gateway:
  __metadata:
    label: "Telemetry Gateway Settings"
    description: "Specify telemetry gateway settings."
    type: "string"
  gatewayName:
    __metadata:
      label: "Telemetry Gateway Name"
      description: "Specify name for telemetry Gateway."
      type: "string"
      immutable: false
      required: false
  grafanaEnabled:
    __metadata:
      label: "Enable Grafana"
      description: "Specify whether to enable Grafana for telemetry Gateway."
      type: "boolean"
      immutable: false
      required: false
  prometheusEnabled:
    __metadata:
      label: "Enable Prometheus"
      description: "Specify whether to enable Prometheus for telemetry Gateway"
      type: "boolean"
      immutable: false
      required: false

grafana:
  __metadata:
    label: "Grafana Settings"
    description: "Specify grafana settings."
    type: "string"
  enabled:
    __metadata:
      label: "Enable Grafana"
      description: "Specify whether to enable grafana, addon for beautiful monitoring and metric analytics & dashboards for Istio."
      type: "boolean"
      immutable: false
      required: false
  replicaCount:
    __metadata:
      label: "Replica Count"
      description: "Specify number of desired pods for grafana deployment."
      type: "number"
      immutable: false
      required: false
  image:
    repository:
      __metadata:
        label: "Grafana Image Repository"
        description: "Docker registry to pull grafana image from."
        type: "string"
        immutable: false
        required: false
    tag:
      __metadata:
        label: "Grafana Image Tag"
        description: "Grafana image version."
        type: "string"
        immutable: false
        required: false
  persist:
    __metadata:
      label: "Enable Grafana Persistence"
      description: "Specify whether to enable grafana persistence."
      type: "boolean"
      immutable: false
      required: false
  storageClassName:
    __metadata:
      label: "Storage Class Name for Grafana Persistence"
      description: "Specify storage class name for grafana persistence."
      type: "string"
      immutable: false
      required: false
  security:
    enabled:
      __metadata:
        label: "Enable Grafana Security"
        description: "Specify whether authentication is needed to access Grafana dashboard."
        type: "boolean"
        immutable: false
        required: false
    secretName:
      __metadata:
        label: "Grafana Secret Name"
        description: "Specifies secret name that contains username and passphrase for the Grafana dashboard."
        type: "string"
        immutable: false
        required: false
    usernameKey:
      __metadata:
        label: "Grafana Secret Username Key"
        description: "Specifies the username key for the secret that contains username for the Grafana dashboard."
        type: "string"
        immutable: false
        required: false
    passphraseKey:
      __metadata:
        label: "Grafana Secret Passphrase Key"
        description: "Specifies the passphrase key for the secret that contains passphrase for the Grafana dashboard."
        type: "string"
        immutable: false
        required: false
  service:
    annotations:
      __metadata:
        label: "Grafana Service Annotation"
        description: "Specify the annotations for Grafana sevice."
        type: "string"
        immutable: false
        required: false
    name:
      __metadata:
        label: "Grafana Service Name"
        description: "Specify name for the Grafana service."
        type: "string"
        immutable: false
        required: false
    type:
      __metadata:
        label: "Grafana Service Type"
        description: "Specify type for the Grafana service."
        type: "string"
        immutable: false
        required: false
    externalPort:
      __metadata:
        label: "Grafana Service External Port"
        description: "Specify external port for the Grafana service."
        type: "number"
        immutable: false
        required: false
  resources:
    __metadata:
      label: "Istio Grafana Resources"
      description: "Specify the resource(CPU/Memory) requests & limits for Istio Grafana."
      type: "string"
  nodeRole:
    __metadata:
      label: "Node Role"
      description: "Specify which node current component will be deployed to(effective only on IBM Cloud Private), values could be 'proxy' or 'management'."
      type: "string"
      immutable: false
      required: false
  nodeSelector:
    __metadata:
      label: "Node Selector"
      description: "Specify the extra node selector for deployment."
      type: "string"
      minProperties: 0
      immutable: false
      required: false

prometheus:
  __metadata:
    label: "Prometheus Settings"
    description: "Specify prometheus settings."
    type: "string"
  enabled:
    __metadata:
      label: "Enable Prometheus"
      description: "Specify whether to enable Prometheus, monitoring system for Istio."
      type: "boolean"
      immutable: false
      required: false
  replicaCount:
    __metadata:
      label: "Replica Count"
      description: "Specify number of desired pods for Prometheus deployment."
      type: "number"
      immutable: false
      required: false
  image:
    repository:
      __metadata:
        label: "Prometheus Image Repository"
        description: "Docker registry to pull Prometheus image from."
        type: "string"
        immutable: false
        required: false
    tag:
      __metadata:
        label: "Prometheus Image Tag"
        description: "Prometheus image version."
        type: "string"
        immutable: false
        required: false
  service:
    annotations:
      __metadata:
        label: "Prometheus Service Annotation"
        description: "Specify the annotations for Prometheus sevice."
        type: "string"
        immutable: false
        required: false
    nodePort:
      enabled:
        __metadata:
          label: "Enable Service NodePort"
          description: "Specify whether to enable nodePort for Prometheus service."
          type: "boolean"
          immutable: false
          required: false
      port:
        __metadata:
          label: "Service NodePort"
          description: "Specify nodePort for Prometheus service."
          type: "number"
          immutable: false
          required: false    
  resources:
    __metadata:
      label: "Prometheus Resources"
      description: "Specify the resource(CPU/Memory) requests & limits for Prometheus."
      type: "string"
  nodeRole:
    __metadata:
      label: "Node Role"
      description: "Specify which node current component will be deployed to(effective only on IBM Cloud Private), values could be 'proxy' or 'management'."
      type: "string"
      immutable: false
      required: false
  nodeSelector:
    __metadata:
      label: "Node Selector"
      description: "Specify the extra node selector for deployment."
      type: "string"
      minProperties: 0
      immutable: false
      required: false

servicegraph:
  __metadata:
    label: "Servicegraph Settings"
    description: "Specify servicegraph settings."
    type: "string"
  enabled:
    __metadata:
      label: "Enable Servicegraph"
      description: "Specify whether to enable Servicegraph, addon for istio that generates and visualizes graph representations of service mesh."
      type: "boolean"
      immutable: false
      required: false
  replicaCount:
    __metadata:
      label: "Replica Count"
      description: "Specify number of desired pods for Servicegraph deployment."
      type: "number"
      immutable: false
      required: false
  image:
    repository:
      __metadata:
        label: "Servicegraph Image Repository"
        description: "Docker registry to pull Servicegraph image from."
        type: "string"
        immutable: false
        required: false
    tag:
      __metadata:
        label: "Servicegraph Image Tag"
        description: "Servicegraph image version."
        type: "string"
        immutable: false
        required: false
  service:
    annotations:
      __metadata:
        label: "Servicegraph Service Annotation"
        description: "Specify the annotations for Servicegraph sevice."
        type: "string"
        immutable: false
        required: false
    name:
      __metadata:
        label: "Servicegraph Service Name"
        description: "Specify name for Servicegraph service."
        type: "string"
        immutable: false
        required: false
    type:
      __metadata:
        label: "Servicegraph Service Type"
        description: "Specify typr for Servicegraph service."
        type: "string"
        immutable: false
        required: false
    externalPort:
      __metadata:
        label: "Servicegraph Service External Port"
        description: "Specify external port for Servicegraph service."
        type: "number"
        immutable: false
        required: false
  ingress:
    enabled:
      __metadata:
        label: "Enable Servicegraph Ingress"
        description: "Specify whether to enable ingress for Servicegraph."
        type: "boolean"
        immutable: false
        required: false
    hosts:
      __metadata:
        label: "Servicegraph Ingress hosts"
        description: "Specify the hosts for Servicegraph ingress."
        type: "string"
        immutable: false
        required: false
    annotations:
      __metadata:
        label: "Servicegraph Ingress Annotation"
        description: "Specify the annotations for Servicegraph ingress."
        type: "string"
        immutable: false
        required: false
    tls:
      __metadata:
        label: "Servicegraph Ingress TLS"
        description: "Specify the tls for Servicegraph ingress."
        type: "string"
        immutable: false
        required: false
  resources:
    __metadata:
      label: "Istio Servicegraph Resources"
      description: "Specify the resource(CPU/Memory) requests & limits for Istio Servicegraph."
      type: "string"
  nodeRole:
    __metadata:
      label: "Node Role"
      description: "Specify which node current component will be deployed to(effective only on IBM Cloud Private), values could be 'proxy' or 'management'."
      type: "string"
      immutable: false
      required: false
  nodeSelector:
    __metadata:
      label: "Node Selector"
      description: "Specify the extra node selector for deployment."
      type: "string"
      minProperties: 0
      immutable: false
      required: false
  prometheusAddr:
    __metadata:
      label: "Prometheus Address"
      description: "Specify the prometheus address, it can be FQSN of the service."
      type: "string"
      immutable: false
      required: false

tracing:
  __metadata:
    label: "Tracing Settings"
    description: "Specify tracing settings."
    type: "string"
  enabled:
    __metadata:
      label: "Enable Tracing"
      description: "Specify whether to enable tracing for monitoring and troubleshooting istio service mesh."
      type: "boolean"
      immutable: false
      required: false
  provider:
    __metadata:
      label: "Tracing Provider"
      description: "Specify the provider for tracing service."
      type: "string"
      immutable: false
      required: false
  jaeger:
    image:
      repository:
        __metadata:
          label: "Jaeger Image Repository"
          description: "Docker registry to pull jaeger image from."
          type: "string"
          immutable: false
          required: false
      tag:
        __metadata:
          label: "Jaeger Image Tag"
          description: "Jaeger image version."
          type: "string"
          immutable: false
          required: false
    memory:
      max_traces:
        __metadata:
          label: "Jaeger Max Traces"
          description: "Specify max traces limits for jaeger."
          type: "number"
          immutable: false
          required: false
    contextPath:
      __metadata:
        label: "Jaeger UI Base Path"
        description: "Specify the base path for all jaeger HTTP routes."
        type: "string"
        immutable: false
        required: false
    ingress:
      enabled:
        __metadata:
          label: "Enable Jaeger Ingress"
          description: "Specify whether to enable ingress for Jaeger service."
          type: "boolean"
          immutable: false
          required: false
      hosts:
        __metadata:
          label: "Jaeger Ingress hosts"
          description: "Specify the hosts for Jaeger ingress."
          type: "string"
          immutable: false
          required: false
      annotations:
        __metadata:
          label: "Jaeger Ingress Annotation"
          description: "Specify the annotations for Jaeger ingress."
          type: "string"
          immutable: false
          required: false
      tls:
        __metadata:
          label: "Jaeger Ingress TLS"
          description: "Specify the TLS settings for Jaeger ingress."
          type: "string"
          immutable: false
          required: false
  replicaCount:
    __metadata:
      label: "Replica Count"
      description: "Specify number of desired pods for tracing deployment."
      type: "number"
      immutable: false
      required: false
  service:
    annotations:
      __metadata:
        label: "Tracing Service Annotation"
        description: "Specify the annotations for tracing service."
        type: "string"
        immutable: false
        required: false
    name:
      __metadata:
        label: "Tracing Service Name"
        description: "Specify the name for the tracing service."
        type: "string"
        immutable: false
        required: false
    type:
      __metadata:
        label: "Tracing Service Type"
        description: "Specify the type for tracing service."
        type: "string"
        immutable: false
        required: false
    externalPort:
      __metadata:
        label: "Tracing Service External Port"
        description: "Specify the external port for tracing service."
        type: "number"
        immutable: false
        required: false
  ingress:
    enabled:
      __metadata:
        label: "Enable Tracing Ingress"
        description: "Specify whether to enable ingress for tracing."
        type: "boolean"
        immutable: false
        required: false
    hosts:
      __metadata:
        label: "Tracing Ingress hosts"
        description: "Specify the hosts for tracing ingress."
        type: "string"
        immutable: false
        required: false
    annotations:
      __metadata:
        label: "Tracing Ingress Annotation"
        description: "Specify the annotations for tracing ingress."
        type: "string"
        immutable: false
        required: false
    tls:
      __metadata:
        label: "Tracing Ingress TLS"
        description: "Specify the TLS settings for tracing ingress."
        type: "string"
        immutable: false
        required: false
  resources:
    __metadata:
      label: "Istio Tracing Resources"
      description: "Specify the resource(CPU/Memory) requests & limits for Istio Tracing."
      type: "string"
  nodeRole:
    __metadata:
      label: "Node Role"
      description: "Specify which node current component will be deployed to(effective only on IBM Cloud Private), values could be 'proxy' or 'management'."
      type: "string"
      immutable: false
      required: false
  nodeSelector:
    __metadata:
      label: "Node Selector"
      description: "Specify the extra node selector for deployment."
      type: "string"
      minProperties: 0
      immutable: false
      required: false

kiali:
  __metadata:
    label: "Kiali Settings"
    description: "Specify kiali settings."
    type: "string"
  enabled:
    __metadata:
      label: "Enable Kiali"
      description: "Specify whether to enable Kiali for Istio."
      type: "boolean"
      immutable: false
      required: false
  replicaCount:
    __metadata:
      label: "Replica Count"
      description: "Specify number of desired pods for Kiali deployment."
      type: "number"
      immutable: false
      required: false
  image:
    repository:
      __metadata:
        label: "Kiali Image Repository"
        description: "Docker registry to pull Kiali image from."
        type: "string"
        immutable: false
        required: false
    tag:
      __metadata:
        label: "Kiali Image Tag"
        description: "Kiali image version."
        type: "string"
        immutable: false
        required: false
  contextPath:
    __metadata:
      label: "Kiali UI Base Path"
      description: "Specify the base path for all kiali HTTP routes."
      type: "string"
      immutable: false
      required: false
  ingress:
    enabled:
      __metadata:
        label: "Enable Kiali Ingress"
        description: "Specify whether to enable ingress for Kiali service."
        type: "boolean"
        immutable: false
        required: false
    hosts:
      __metadata:
        label: "Kiali Ingress hosts"
        description: "Specify the hosts for Kiali ingress."
        type: "string"
        immutable: false
        required: false
    annotations:
      __metadata:
        label: "Kiali Ingress Annotation"
        description: "Specify the annotations for Kiali ingress."
        type: "string"
        immutable: false
        required: false
    tls:
      __metadata:
        label: "Kiali Ingress TLS"
        description: "Specify the TLS settings for Kiali ingress."
        type: "string"
        immutable: false
        required: false
  dashboard:
    secretName:
      __metadata:
        label: "Kiali Secret Name"
        description: "Specifies secret name that contains username and passphrase for the Kiali dashboard | valid secret name."
        type: "string"
        immutable: false
        required: false
    usernameKey:
      __metadata:
        label: "Kiali Secret Username Key"
        description: "Specifies the username key for the secret that contains username for the Kiali dashboard."
        type: "string"
        immutable: false
        required: false
    passphraseKey:
      __metadata:
        label: "Kiali Secret Passphrase Key"
        description: "Specifies the passphrase key for the secret that contains passphrase for the Kiali dashboard | valid secret key string."
        type: "string"
        immutable: false
        required: false
    grafanaURL:
      __metadata:
        label: "Grafana URL"
        description: "Specify the Grafana URL for Kiali dashboard."
        type: "string"
        immutable: false
        required: false
    jaegerURL:
      __metadata:
        label: "Jaeger URL"
        description: "Specify the Jaeger URL for Kiali dashboard."
        type: "string"
        immutable: false
        required: false
  resources:
    __metadata:
      label: "Kiali Resources"
      description: "Specify the resource(CPU/Memory) requests & limits for Kiali."
      type: "string"
  nodeRole:
    __metadata:
      label: "Node Role"
      description: "Specify which node current component will be deployed to(effective only on IBM Cloud Private), values could be 'proxy' or 'management'."
      type: "string"
      immutable: false
      required: false
  nodeSelector:
    __metadata:
      label: "Node Selector"
      description: "Specify the extra node selector for deployment."
      type: "string"
      minProperties: 0
      immutable: false
      required: false

certmanager:
  __metadata:
    label: "Cert Manager Settings"
    description: "Specify cert manager settings."
    type: "string"
  enabled:
    __metadata:
      label: "Enable Cert Manager"
      description: "Specify whether to enable Cert Manager for Istio."
      type: "boolean"
      immutable: false
      required: false
  image:
    repository:
      __metadata:
        label: "Cert Manager Image Repository"
        description: "Docker registry to pull Cert Manager image from."
        type: "string"
        immutable: false
        required: false
    tag:
      __metadata:
        label: "Cert Manager Image Tag"
        description: "Cert Manager image version."
        type: "string"
        immutable: false
        required: false
  extraArgs:
    __metadata:
      label: "Cert Manager Extra Args"
      description: "Specify the extra arguments for the Cert Manager."
      type: "string"
      immutable: false
      required: false
  podAnnotations:
    __metadata:
      label: "Cert Manager Pod Annotations"
      description: "Specify the pod annotations for the Cert Manager."
      type: "string"
      immutable: false
      required: false
  podLabels:
    __metadata:
      label: "Cert Manager Pod Labels"
      description: "Specify the pod labels for the Cert Manager."
      type: "string"
      immutable: false
      required: false
  podDnsPolicy:
    __metadata:
      label: "Cert Manager Pod DNS Policy"
      description: "Specify the pod DNS policy for the Cert Manager."
      type: "string"
      immutable: false
      required: false
  podDnsConfig:
    __metadata:
      label: "Cert Manager Pod DNS Configuration"
      description: "Specify the pod DNS configuration for the Cert Manager."
      type: "string"
      immutable: false
      required: false
  email:
    __metadata:
      label: "Email"
      description: "Specify the email address for the issuer."
      type: "string"
      immutable: false
      required: false
  resources:
    __metadata:
      label: "Cert Manager Resources"
      description: "Specify the resource(CPU/Memory) requests & limits for Cert Manager."
      type: "string"
  nodeRole:
    __metadata:
      label: "Node Role"
      description: "Specify which node current component will be deployed to(effective only on IBM Cloud Private), values could be 'proxy' or 'management'."
      type: "string"
      immutable: false
      required: false
  nodeSelector:
    __metadata:
      label: "Node Selector"
      description: "Specify the extra node selector for deployment."
      type: "string"
      minProperties: 0
      immutable: false
      required: false
