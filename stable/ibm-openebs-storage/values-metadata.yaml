rbac:
  __metadata:
    label: "RBAC roles and bindings"
  create:
    __metadata:
      name: "create"
      label: "Create"
      description: "Create RBAC roles and bindings"
      type: "boolean"
      immutable: "false"
      required: true
      default: true

serviceAccount:
  __metadata:
    label: "Service account"
  create:
    __metadata:
      name: "create"
      label: "Create"
      description: "Create a Service Account"
      type: "boolean"
      immutable: "false"
      required: true
      default: true
  name:
    __metadata:
      name: "name"
      label: "Name"
      description: "ServiceAccount name"
      type: "string"
      immutable: "false"
      required: false

image:
  pullPolicy:
    __metadata:
      name: "pullPolicy"
      label: "Docker image pull policy"
      description: "Always, Never, or IfNotPresent. Defaults to IfNotPresent"
      type: "string"
      immutable: false
      required: true
      default: "IfNotPresent"
      options:
      - label: "Always"
        value: "Always"
      - label: "Never"
        value: "Never"
      - label: "IfNotPresent"
        value: "IfNotPresent"

apiserver:
  __metadata:
    label: "OpenEBS Maya API Server image configuration"
  image:
    __metadata:
      name: "image"
      label: "Docker Repository"
      description: "Docker image location"
      type: "string"
      immutable: "false"
      required: true
      default: "openebs/m-apiserver"
  imageTag: 
    __metadata:
      name: "imageTag"
      label: "Docker image Tag"
      description: "Docker image Tag"
      type: "string"
      immutable: false
      required: true
      default: "0.6.0"
  replicas:
    __metadata:
      name: "replicas"
      label: "Replica Count"
      description: "Deployment replicas"
      type: "number"
      immutable: false
      required: false
      default: 1
  ports:
  __metadata:
    label: "Ports"
    externalPort: 
      __metadata:
        name: "externalPort"
        label: "External port"
        description: "This is the external port number"
        type: "number"
        immutable: false
        required: true
        default: 5656
    internalPort: 
      __metadata:
        name: "internalPort"
        label: "Internal port"
        description: "This is the internal port number"
        type: "number"
        immutable: false
        required: true
        default: 5656
  nodeSelector:
    __metadata:
      name: "nodeSelector"
      label: "nodeSelector"
      description: "Node labels for pod assignment, e.g. {\"key\":\"value\"}"
      type: "string"
      immutable: "false"
      required: false
  tolerations:
    __metadata:
      name: "tolerations"
      label: "tolerations"
      description: "Toleration labels for pod assignment, e.g. [{\"key\": \"key\", \"operator\":\"Equal\", \"value\": \"value\", \"effect\":\"NoSchedule\"}]"
      type: "string"
      immutable: "false"
      required: false
  affinity:
    __metadata:
      name: "affinity"
      label: "affinity"
      description: "Affinity settings for pod assignment, specify in json"
      type: "string"
      immutable: "false"
      required: false

provisioner:
  __metadata:
    label: "OpenEBS Provisioner image configuration"
  image:
    __metadata:
      name: "image"
      label: "Docker Repository"
      description: "Docker image location"
      type: "string"
      immutable: "false"
      required: true
      default: "openebs/openebs-k8s-provisioner"
  imageTag: 
    __metadata:
      name: "imageTag"
      label: "Docker image Tag"
      description: "Docker image Tag"
      type: "string"
      immutable: false
      required: true
      default: "0.6.0"
  replicas:
    __metadata:
      name: "replicas"
      label: "Replica Count"
      description: "Deployment replicas"
      type: "number"
      immutable: false
      required: false
      default: 1
  nodeSelector:
    __metadata:
      name: "nodeSelector"
      label: "nodeSelector"
      description: "Node labels for pod assignment, e.g. {\"key\":\"value\"}"
      type: "string"
      immutable: "false"
      required: false
  tolerations:
    __metadata:
      name: "tolerations"
      label: "tolerations"
      description: "Toleration labels for pod assignment, e.g. [{\"key\": \"key\", \"operator\":\"Equal\", \"value\": \"value\", \"effect\":\"NoSchedule\"}]"
      type: "string"
      immutable: "false"
      required: false
  affinity:
    __metadata:
      name: "affinity"
      label: "affinity"
      description: "Affinity settings for pod assignment, specify in json"
      type: "string"
      immutable: "false"
      required: false

snapshotOperator:
  __metadata:
    label: "OpenEBS Snapshot Operator configuration"
  controller:
    image:
      __metadata:
        name: "image"
        label: "Docker Repository"
        description: "Docker image location"
        type: "string"
        immutable: "false"
        required: true
        default: "openebs/snapshot-controller"
    imageTag: 
      __metadata:
        name: "imageTag"
        label: "Docker image Tag"
        description: "Docker image Tag"
        type: "string"
        immutable: false
        required: true
        default: "0.6.0"
  provisioner:
    image:
      __metadata:
        name: "image"
        label: "Docker Repository"
        description: "Docker image location"
        type: "string"
        immutable: "false"
        required: true
        default: "openebs/snapshot-provisioner"
    imageTag: 
      __metadata:
        name: "imageTag"
        label: "Docker image Tag"
        description: "Docker image Tag"
        type: "string"
        immutable: false
        required: true
        default: "0.6.0"
  replicas:
    __metadata:
      name: "replicas"
      label: "Replica Count"
      description: "Deployment replicas"
      type: "number"
      immutable: false
      required: false
      default: 1
  upgradeStrategy: 
    __metadata:
      name: "upgradeStrategy"
      label: "Image Upgrade Strategy"
      description: "Image Upgrade Strategy"
      type: "string"
      immutable: false
      required: true
      default: "Recreate"
  nodeSelector:
    __metadata:
      name: "nodeSelector"
      label: "nodeSelector"
      description: "Node labels for pod assignment, e.g. {\"key\":\"value\"}"
      type: "string"
      immutable: "false"
      required: false
  tolerations:
    __metadata:
      name: "tolerations"
      label: "tolerations"
      description: "Toleration labels for pod assignment, e.g. [{\"key\": \"key\", \"operator\":\"Equal\", \"value\": \"value\", \"effect\":\"NoSchedule\"}]"
      type: "string"
      immutable: "false"
      required: false
  affinity:
    __metadata:
      name: "affinity"
      label: "affinity"
      description: "Affinity settings for pod assignment, specify in json"
      type: "string"
      immutable: "false"
      required: false

jiva:
  __metadata:
    label: "OpenEBS Jiva Storage Enginer image configuration"
  image:
    __metadata:
      name: "image"
      label: "Docker Repository"
      description: "Docker image location"
      type: "string"
      immutable: "false"
      required: true
      default: "openebs/jiva"
  imageTag: 
    __metadata:
      name: "imageTag"
      label: "Docker image Tag"
      description: "Docker image Tag"
      type: "string"
      immutable: false
      required: true
      default: "0.6.0"
  replicas:
    __metadata:
      name: "replicas"
      label: "Replica Count"
      description: "Deployment replicas"
      type: "number"
      immutable: false
      required: false
      default: 3
  replicaNodeSelector:
    __metadata:
      label: "Replica Node Placement Configuration"
    enabled:
      name: "enabled"
      label: "Enabled"
      description: "Enable custom replica node selection"
      type: "boolean"
      immutable: "false"
      required: true
      default: false
    value:
      name: "value"
      label: "Value"
      description: "If enabled, specify the node label that will be used to select the nodes where replica pods are scheduled."
      type: "string"
      immutable: "false"
      required: false
      default: "nodetype=storage"

grafana:
  __metadata:
    label: "Grafana image configuration"
  image:
    __metadata:
      name: "image"
      label: "Docker Repository"
      description: "Docker image location"
      type: "string"
      immutable: "false"
      required: true
      default: "grafana/grafana"
  imageTag: 
    __metadata:
      name: "imageTag"
      label: "Docker image Tag"
      description: "Docker image Tag"
      type: "string"
      immutable: false
      required: true
      default: "4.6.4"
  ports:
  __metadata:
    label: "Ports"
    externalPort: 
      __metadata:
        name: "externalPort"
        label: "External port"
        description: "This is the external port number"
        type: "number"
        immutable: false
        required: true
        default: 3000
    internalPort: 
      __metadata:
        name: "internalPort"
        label: "Internal port"
        description: "This is the internal port number"
        type: "number"
        immutable: false
        required: true
        default: 3000
    nodePort: 
      __metadata:
        name: "nodePort"
        label: "Node port"
        description: "This is the node port number"
        type: "number"
        immutable: false
        required: true
        default: 32515

prometheus:
  __metadata:
    label: "Prometheus image configuration"
  image:
    __metadata:
      name: "image"
      label: "Docker Repository"
      description: "Docker image location"
      type: "string"
      immutable: "false"
      required: true
      default: "prom/prometheus"
  imageTag: 
    __metadata:
      name: "imageTag"
      label: "Docker image Tag"
      description: "Docker image Tag"
      type: "string"
      immutable: false
      required: true
      default: "v2.1.0"
  ports:
  __metadata:
    label: "Ports"
    externalPort: 
      __metadata:
        name: "externalPort"
        label: "External port"
        description: "This is the external port number"
        type: "number"
        immutable: false
        required: true
        default: 80
    internalPort: 
      __metadata:
        name: "internalPort"
        label: "Internal port"
        description: "This is the internal port number"
        type: "number"
        immutable: false
        required: true
        default: 9000
    nodePort: 
      __metadata:
        name: "nodePort"
        label: "Node port"
        description: "This is the node port number"
        type: "number"
        immutable: false
        required: true
        default: 32514

policies:
  __metadata:
    label: "OpenEBS Advanced Policy configuration"
  monitoring:
    enabled:
      name: "enabled"
      label: "Enabled"
      description: "Enable volume monitoring"
      type: "boolean"
      immutable: "false"
      required: true
      default: false
    image:
      __metadata:
        name: "image"
        label: "Docker Repository"
        description: "Docker image location"
        type: "string"
        immutable: "false"
        required: true
        default: "openebs/m-exporter"
    imageTag: 
      __metadata:
        name: "imageTag"
        label: "Docker image Tag"
        description: "Docker image Tag"
        type: "string"
        immutable: false
        required: true
        default: "0.6.0"