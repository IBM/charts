# Specify architecture (amd64, ppc64le, s390x) and weight to be  used for scheduling as follows :
#   0 - Do not use
#   1 - Least preferred
#   2 - No preference
#   3 - Most preferred
arch:
  amd64: "2 - No preference"
  ppc64le: "2 - No preference"
  s390x: "2 - No preference"

image:
  registry: docker.io
  repository: ppc64le/drupal
  tag: 8.6.10
  pullPolicy: IfNotPresent

## External database configuration
##
externalDatabase:
  host: localhost
  port: 3306
  user: drupal
  password: ""
  database: drupal

## MariaDB chart configuration
##
mariadb:
  enabled: true

  database:
    name: drupal
    user: drupal
    ## If the password is not specified, mariadb will generates a random password
    password: ""

  service:
    port: 3306

  persistence:
    enabled: true

  dataVolume:
    storageClassName: ""
    accessModes: ReadWriteMany
    size: 8Gi

## Kubernetes configuration
service:
  type: NodePort
  # HTTP Port
  port: 80
  ## nodePorts:
  ##   http: <to set explicitly, choose port between 30000-32767>
  nodePorts:
    http: ""

## Enable persistence using Persistent Volume Claims
##
persistence:
  enabled: true
  useDynamicProvisioning: false
  apache:
    storageClass: "-"
    accessMode: ReadWriteMany
    size: 1Gi
  drupal:
    storageClass: "-"
    accessMode: ReadWriteMany
    size: 8Gi

    ## A manually managed Persistent Volume Claim
    ## Requires persistence.enabled: true
    ## If defined, PVC must be created manually before volume will be bound
    ##
    existingClaim:

    ## If defined, the drupal-data volume will mount to the specified hostPath.
    ## Requires persistence.enabled: true
    ## Requires persistence.existingClaim: nil|false
    ## Default: nil.
    ##
    hostPath:

## Configure resource requests and limits
resources: {}
  # We usually recommend not to specify default resources and to leave this as a conscious
  # choice for the user. This also increases chances charts run on environments with little
  # resources, such as Minikube. If you do want to specify resources, uncomment the following
  # lines, adjust them as necessary, and remove the curly braces after 'resources:'.
  # limits:
  #  cpu: 100m
  #  memory: 200Mi
  # requests:
  #  cpu: 100m
  #  memory: 100Mi

## Configure volume mounts. This is useful for images whose data mount paths are
## different than the default.
## Setting volumeMounts.apache.mountPath to "" prevents Apache config mount.
##
volumeMounts:
  drupal:
    mountPath: /bitnami/drupal
  apache:
    mountPath: /bitnami/apache

## Configure liveness and readiness probes.
livenessProbe:
  httpGet:
    path: /user/login
    port: http
  initialDelaySeconds: 120

readinessProbe:
  httpGet:
    path: /user/login
    port: http
  initialDelaySeconds: 30

podAnnotations: {}

nodeSelector: {}

tolerations: []

affinity: {}
