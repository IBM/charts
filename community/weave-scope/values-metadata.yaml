## Metadata for Weave Scope configuration
## This metadata is used to augment the value.yaml to drive IBM Cloud Private UI for configuration of the Helm chart installation

image:
  __metadata:
    label: "Image"
    description: "Docker image configuration"
  repository:
    __metadata:
      name: "repository"
      label: "repository"
      description: "Docker image location"
      type: "string"
      immutable: false
      required: true
  pullPolicy:
    __metadata:
      name: "pullPolicy"
      label: "Docker image pull policy"
      description: "Always, Never, or IfNotPresent."
      type: "string"
      immutable: false
      required: true
      options:
        - label: "Always"
          value: "Always"
        - label: "Never"
          value: "Never"
        - label: "IfNotPresent"
          value: "IfNotPresent"
  tag:
    __metadata:
      name: "Docker image Tag"
      label: "Docker image Tag"
      description: "This is a record of the docker image"
      type: "string"
      immutable: false
      required: true

basicAuth:
  __metadata:
    label: "Authentication"
    description: "Weave Scope authentication configuration"
  enabled:
    __metadata:
      name: "enabled"
      label: "Enabled"
      description: "Enable basic authentication"
      type: "boolean"
      immutable: false
      required: true
  secretName:
    __metadata:
      name: "secretName"
      label: "secretName"
      description: "Scope basic authentication secret name"
      type: "string"
      immutable: false
      required: false

frontend:
  __metadata:
    label: "frontend"
    description: "Weave Scope UI settings"
  service:
    type:
      __metadata:
        name: "Type"
        label: "Service Type"
        description: "Service Type"
        type: "string"
        immutable: false
        required: true
        options:
          - label: "Cluster IP"
            value: "ClusterIP"
          - label: "Node Port"
            value: "NodePort"
          - label: "Load Balancer"
            value: "LoadBalancer"
    port:
      __metadata:
        name: "port"
        label: "Port"
        description: "Port number"
        type: "number"
        immutable: false
        required: true

agent:
  __metadata:
    label: "Scope agent"
    description: "Weave Scope agent settings"
  dockerBridge:
    __metadata:
      name: "dockerBridge"
      label: "Docker Bridge"
      description: "Docker bridge interface"
      type: "string"
      immutable: false
      required: true
  rbac:
    create:
      __metadata:
        name: "create"
        label: "Create"
        description: "Whether RBAC resources should be created"
        type: "boolean"
        immutable: false
        required: true
  serviceAccount:
    create:
      __metadata:
        name: "create"
        label: "Create"
        description: "Whether a new service account name should be created"
        type: "boolean"
        immutable: false
        required: true
    name:
      __metadata:
        name: "name"
        label: "Name"
        description: "Service account to be used, if not set a unique name will be generated"
        type: "string"
        immutable: false
        required: false
