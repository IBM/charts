rbac:
  __metadata:
    label: "RBAC roles and bindings"
  create:
    __metadata:
      name: "create"
      label: "Create"
      description: "Create RBAC roles and bindings"
      type: "boolean"
      immutable: false
      required: true
      default: true

serviceAccount:
  __metadata:
    label: "Service account"
  create:
    __metadata:
      name: "create"
      label: "Create"
      description: "Create a Service Account"
      type: "boolean"
      immutable: false
      required: true
      default: true
  name:
    __metadata:
      name: "name"
      label: "Name"
      description: "ServiceAccount name"
      type: "string"
      immutable: false
      required: false

image:
  pullPolicy:
    __metadata:
      name: "pullPolicy"
      label: "Docker image pull policy"
      description: "Always, Never, or IfNotPresent. Defaults to IfNotPresent"
      type: "string"
      immutable: false
      required: true
      default: "IfNotPresent"
      options:
      - label: "Always"
        value: "Always"
      - label: "Never"
        value: "Never"
      - label: "IfNotPresent"
        value: "IfNotPresent"

apiserver:
  __metadata:
    label: "OpenEBS Maya API Server image configuration"
  image:
    __metadata:
      name: "image"
      label: "Docker Repository"
      description: "Docker image location"
      type: "string"
      immutable: false
      required: true
      default: "openebs/m-apiserver"
  imageTag:
    __metadata:
      name: "imageTag"
      label: "Docker image Tag"
      description: "Docker image Tag"
      type: "string"
      immutable: false
      required: true
      default: "0.7.0"
  replicas:
    __metadata:
      name: "replicas"
      label: "Replica Count"
      description: "Deployment replicas"
      type: "number"
      immutable: false
      required: false
      default: 1
  ports:
  __metadata:
    label: "Ports"
    externalPort:
      __metadata:
        name: "externalPort"
        label: "External port"
        description: "This is the external port number"
        type: "number"
        immutable: false
        required: true
        default: 5656
    internalPort:
      __metadata:
        name: "internalPort"
        label: "Internal port"
        description: "This is the internal port number"
        type: "number"
        immutable: false
        required: true
        default: 5656
  nodeSelector:
    __metadata:
      name: "nodeSelector"
      label: "nodeSelector"
      description: "Node labels for pod assignment, e.g. {\"key\":\"value\"}"
      type: "string"
      immutable: false
      required: false
  tolerations:
    __metadata:
      name: "tolerations"
      label: "tolerations"
      description: "Toleration labels for pod assignment, e.g. [{\"key\": \"key\", \"operator\":\"Equal\", \"value\": \"value\", \"effect\":\"NoSchedule\"}]"
      type: "string"
      immutable: false
      required: false
  affinity:
    __metadata:
      name: "affinity"
      label: "affinity"
      description: "Affinity settings for pod assignment, specify in json"
      type: "string"
      immutable: false
      required: false

provisioner:
  __metadata:
    label: "OpenEBS Provisioner image configuration"
  image:
    __metadata:
      name: "image"
      label: "Docker Repository"
      description: "Docker image location"
      type: "string"
      immutable: false
      required: true
      default: "openebs/openebs-k8s-provisioner"
  imageTag:
    __metadata:
      name: "imageTag"
      label: "Docker image Tag"
      description: "Docker image Tag"
      type: "string"
      immutable: false
      required: true
      default: "0.7.0"
  replicas:
    __metadata:
      name: "replicas"
      label: "Replica Count"
      description: "Deployment replicas"
      type: "number"
      immutable: false
      required: false
      default: 1
  nodeSelector:
    __metadata:
      name: "nodeSelector"
      label: "nodeSelector"
      description: "Node labels for pod assignment, e.g. {\"key\":\"value\"}"
      type: "string"
      immutable: false
      required: false
  tolerations:
    __metadata:
      name: "tolerations"
      label: "tolerations"
      description: "Toleration labels for pod assignment, e.g. [{\"key\": \"key\", \"operator\":\"Equal\", \"value\": \"value\", \"effect\":\"NoSchedule\"}]"
      type: "string"
      immutable: false
      required: false
  affinity:
    __metadata:
      name: "affinity"
      label: "affinity"
      description: "Affinity settings for pod assignment, specify in json"
      type: "string"
      immutable: false
      required: false

snapshotOperator:
  __metadata:
    label: "OpenEBS Snapshot Operator configuration"
  controller:
    image:
      __metadata:
        name: "image"
        label: "Docker Repository"
        description: "Docker image location"
        type: "string"
        immutable: false
        required: true
        default: "openebs/snapshot-controller"
    imageTag:
      __metadata:
        name: "imageTag"
        label: "Docker image Tag"
        description: "Docker image Tag"
        type: "string"
        immutable: false
        required: true
        default: "0.7.0"
  provisioner:
    image:
      __metadata:
        name: "image"
        label: "Docker Repository"
        description: "Docker image location"
        type: "string"
        immutable: false
        required: true
        default: "openebs/snapshot-provisioner"
    imageTag:
      __metadata:
        name: "imageTag"
        label: "Docker image Tag"
        description: "Docker image Tag"
        type: "string"
        immutable: false
        required: true
        default: "0.7.0"
  replicas:
    __metadata:
      name: "replicas"
      label: "Replica Count"
      description: "Deployment replicas"
      type: "number"
      immutable: false
      required: false
      default: 1
  upgradeStrategy:
    __metadata:
      name: "upgradeStrategy"
      label: "Image Upgrade Strategy"
      description: "Image Upgrade Strategy"
      type: "string"
      immutable: false
      required: true
      default: "Recreate"
  nodeSelector:
    __metadata:
      name: "nodeSelector"
      label: "nodeSelector"
      description: "Node labels for pod assignment, e.g. {\"key\":\"value\"}"
      type: "string"
      immutable: false
      required: false
  tolerations:
    __metadata:
      name: "tolerations"
      label: "tolerations"
      description: "Toleration labels for pod assignment, e.g. [{\"key\": \"key\", \"operator\":\"Equal\", \"value\": \"value\", \"effect\":\"NoSchedule\"}]"
      type: "string"
      immutable: false
      required: false
  affinity:
    __metadata:
      name: "affinity"
      label: "affinity"
      description: "Affinity settings for pod assignment, specify in json"
      type: "string"
      immutable: false
      required: false

ndm:
  __metadata:
    label: "Node Disk Manager image configuration"
  image:
    __metadata:
      name: "image"
      label: "Docker Repository"
      description: "Docker image location"
      type: "string"
      immutable: false
      required: true
      default: "openebs/node-disk-manager-amd64"
  imageTag:
    __metadata:
      name: "imageTag"
      label: "Docker image Tag"
      description: "Docker image Tag"
      type: "string"
      immutable: false
      required: true
      default: "v0.1.0"
  sparse:
    enabled:
      __metadata:
        name: "enabled"
        label: "Sparse Files"
        description: "Create Sparse files and cStor Sparse Pool"
        type: "string"
        immutable: false
        required: false
        default: "true"
    path:
      __metadata:
        name: "path"
        label: "Sparse file path"
        description: "Directory where Sparse files are created"
        type: "string"
        immutable: false
        required: false
        default: "/var/openebs/sparse"
    size:
      __metadata:
        name: "size"
        label: "Sparse file size"
        description: "Size of the sparse file in bytes"
        type: "string"
        immutable: false
        required: false
        default: "10737418240"
      count:
        __metadata:
          name: "count"
          label: "Sparse file count"
          description: "Number of sparse files to be created"
          type: "string"
          immutable: false
          required: false
          default: "1"
  filters:
    excludeVendors:
      __metadata:
      name: "excludeVendors"
      label: "Exclude vendors"
      description: "Exclude devices with specified vendor"
      type: "string"
      immutable: false
      required: false
      default: "CLOUDBYT,OpenEBS"
    excludePaths:
      __metadata:
      name: "excludePaths"
      label: "Exclude paths"
      description: "Exclude devices with specified path patterns"
      type: "string"
      immutable: false
      required: false
      default: "loop,fd0,sr0,/dev/ram,/dev/dm-"

jiva:
  __metadata:
    label: "OpenEBS Jiva Storage Engine image configuration"
  image:
    __metadata:
      name: "image"
      label: "Docker Repository"
      description: "Docker image location"
      type: "string"
      immutable: false
      required: true
      default: "openebs/jiva"
  imageTag:
    __metadata:
      name: "imageTag"
      label: "Docker image Tag"
      description: "Docker image Tag"
      type: "string"
      immutable: false
      required: true
      default: "0.7.0"
  replicas:
    __metadata:
      name: "replicas"
      label: "Replica Count"
      description: "Deployment replicas"
      type: "number"
      immutable: false
      required: true
      default: 3
  replicaNodeSelector:
    __metadata:
      label: "Replica Node Placement Configuration"
    enabled:
      name: "enabled"
      label: "Enabled"
      description: "Enable custom replica node selection"
      type: "boolean"
      immutable: false
      required: false
      default: false
    value:
      name: "value"
      label: "Value"
      description: "If enabled, specify the node label that will be used to select the nodes where replica pods are scheduled."
      type: "string"
      immutable: false
      required: false
      default: "nodetype=storage"

cstor:
  __metadata:
    label: "OpenEBS cStor Storage Engine images configuration"
  pool:
    __metadata:
      label: "OpenEBS cStor Pool image configuration"
    image:
      __metadata:
        name: "image"
        label: "Docker Repository"
        description: "Docker image location"
        type: "string"
        immutable: false
        required: true
        default: "openebs/cstor-pool"
    imageTag:
      __metadata:
        name: "imageTag"
        label: "Docker image Tag"
        description: "Docker image Tag"
        type: "string"
        immutable: false
        required: true
        default: "0.7.0"
  poolMgmt:
    __metadata:
      label: "OpenEBS cStor Pool Management image configuration"
    image:
      __metadata:
        name: "image"
        label: "Docker Repository"
        description: "Docker image location"
        type: "string"
        immutable: false
        required: true
        default: "openebs/cstor-pool-mgmt"
    imageTag:
      __metadata:
        name: "imageTag"
        label: "Docker image Tag"
        description: "Docker image Tag"
        type: "string"
        immutable: false
        required: true
        default: "0.7.0"
  target:
    __metadata:
      label: "OpenEBS cStor Target image configuration"
    image:
      __metadata:
        name: "image"
        label: "Docker Repository"
        description: "Docker image location"
        type: "string"
        immutable: false
        required: true
        default: "openebs/cstor-istgt"
    imageTag:
      __metadata:
        name: "imageTag"
        label: "Docker image Tag"
        description: "Docker image Tag"
        type: "string"
        immutable: false
        required: true
        default: "0.7.0"
  volumeMgmt:
    __metadata:
      label: "OpenEBS cStor Volume Management image configuration"
    image:
      __metadata:
        name: "image"
        label: "Docker Repository"
        description: "Docker image location"
        type: "string"
        immutable: false
        required: true
        default: "openebs/cstor-volume-mgmt"
    imageTag:
      __metadata:
        name: "imageTag"
        label: "Docker image Tag"
        description: "Docker image Tag"
        type: "string"
        immutable: false
        required: true
        default: "0.7.0"

grafana:
  __metadata:
    label: "Grafana image configuration"
  image:
    __metadata:
      name: "image"
      label: "Docker Repository"
      description: "Docker image location"
      type: "string"
      immutable: false
      required: true
      default: "grafana/grafana"
  imageTag:
    __metadata:
      name: "imageTag"
      label: "Docker image Tag"
      description: "Docker image Tag"
      type: "string"
      immutable: false
      required: true
      default: "5.2.0"
  ports:
  __metadata:
    label: "Ports"
    externalPort:
      __metadata:
        name: "externalPort"
        label: "External port"
        description: "This is the external port number"
        type: "number"
        immutable: false
        required: true
        default: 3000
    internalPort:
      __metadata:
        name: "internalPort"
        label: "Internal port"
        description: "This is the internal port number"
        type: "number"
        immutable: false
        required: true
        default: 3000
    nodePort:
      __metadata:
        name: "nodePort"
        label: "Node port"
        description: "This is the node port number"
        type: "number"
        immutable: false
        required: true
        default: 32515

prometheus:
  __metadata:
    label: "Prometheus image configuration"
  image:
    __metadata:
      name: "image"
      label: "Docker Repository"
      description: "Docker image location"
      type: "string"
      immutable: false
      required: true
      default: "prom/prometheus"
  imageTag:
    __metadata:
      name: "imageTag"
      label: "Docker image Tag"
      description: "Docker image Tag"
      type: "string"
      immutable: false
      required: true
      default: "v2.3.0"
  ports:
  __metadata:
    label: "Ports"
    externalPort:
      __metadata:
        name: "externalPort"
        label: "External port"
        description: "This is the external port number"
        type: "number"
        immutable: false
        required: true
        default: 80
    internalPort:
      __metadata:
        name: "internalPort"
        label: "Internal port"
        description: "This is the internal port number"
        type: "number"
        immutable: false
        required: true
        default: 9000
    nodePort:
      __metadata:
        name: "nodePort"
        label: "Node port"
        description: "This is the node port number"
        type: "number"
        immutable: false
        required: true
        default: 32514

policies:
  __metadata:
    label: "OpenEBS Advanced Policy configuration"
  monitoring:
    enabled:
      name: "enabled"
      label: "Enabled"
      description: "Enable volume monitoring"
      type: "boolean"
      immutable: false
      required: true
      default: false
    image:
      __metadata:
        name: "image"
        label: "Docker Repository"
        description: "Docker image location"
        type: "string"
        immutable: false
        required: true
        default: "openebs/m-exporter"
    imageTag:
      __metadata:
        name: "imageTag"
        label: "Docker image Tag"
        description: "Docker image Tag"
        type: "string"
        immutable: false
        required: true
        default: "0.7.0"
