global:
  __metadata:
    label: "Global"
    description: "Parameters common to operator and all subsystems"
  registry:
    __metadata:
      label: "Registry"
      description: "Path to registry containing API Connect docker images"
      type: string
      required: true
  registrySecret:
    __metadata:
      label: "Registry Secret"
      description: "Image pull secret for registry containing API Connect docker images"
      type: string
      required: true
  createCrds:
    __metadata:
      label: "Create CRD's"
      description: "Allow the creation of API Connect Cluster and Cassandra Cluster CRD's (requires cluster admin role)"
      type: boolean
  storageClass:
    __metadata:
      label: "Storage Class"
      description: "StorageClass object that supports dynamic PersistentVolume provisioning"
      type: string
      required: true
  mode:
    __metadata:
      label: "Mode"
      description: "Installation mode for API Connect"
      type: string
      options:
      - label: "standard"
        value: "standard"
      - label: "dev"
        value: "dev"
  certSecret:
    __metadata:
      label: "Certs Secret"
      description: "(Optional) Secret containing custom or existing common certs"
      type: string
      required: false
  extraValuesConfig:
    __metadata:
      label: "Extra Values Config"
      description: "(Optional) Override for configmap to use extra values"
      hidden: true
  routingType:
    __metadata:
      label: Routing Type
      description: Resource to use for traffic routing (select Route for OpenShift or Ingress for Kubernetes)
      type: string
      required: true
      options:
      - label: "Route"
        value: "route"
      - label: "Ingress"
        value: "ingress"

operator:
  __metadata:
    label: Operator
    description: "Parameters for API Connect operator"
  arch:
    __metadata:
      label: "Architecture"
      description: "Architecture scheduling preferences"
  helmTlsSecret:
    __metadata:
      label: "Helm TLS Secret"
      description: "Secret with items for base64-encoded helm key.pem, cert.pem, and ca.pem"
      type: string
      required: true
  registry:
    __metadata:
      label: Registry
      description: (Optional) Override for apiconnect operator image docker registry
      hidden: true
  image:
    __metadata:
      label: "Image"
      description: "Relative path of API Connect operator docker image"
      type: "string"
      immutable: false
      required: true
  pullPolicy:
    __metadata:
      name: "pullPolicy"
      label: "Docker Image Pull Policy"
      description: "Always, Never, or IfNotPresent. Defaults to Always"
      type: "string"
      immutable: false
      required: true
      options:
      - label: "Always"
        value: "Always"
      - label: "Never"
        value: "Never"
      - label: "IfNotPresent"
        value: "IfNotPresent"  
  tag: 
    __metadata:
      name: "Docker Image Tag"
      label: "Docker Image Tag"
      description: "Docker image tag for API Connect Operator"
      type: "string"
      immutable: false
      required: true

management:
  __metadata:
    label: "Management"
    description: "Parameters for management subsystem"
  enabled:
    __metadata:
      label: "Enabled"
      description: "Enable the subsystem"
      type: "boolean"
      required: true 
  namespace:
    __metadata:
      label: "Namespace"
      description: "(Optional) Namespace override for subsystem"
      type: "string"
      required: false
  certSecret:
    __metadata:
      label: "Cert Secret"
      description: "(Optional) Secret containing custom or existing management certs"
      type: string
      required: false
  storageClass:
    __metadata:
      label: "Storage Class"
      description: "(Optional) Storage class override for subsystem"
      type: string
      required: false
  platformApiEndpoint:
    __metadata:
      label: "Platform API Endpoint"
      description: "Fully qualified domain name for Platform API endpoint"
      type: "string"
      required: true
  consumerApiEndpoint:
    __metadata:
      label: "Consumer API Endpoint"
      description: "Fully qualified domain name for Consumer API endpoint"
      type: "string"
      required: true
  cloudAdminUiEndpoint:
    __metadata:
      label: "Cloud Admin UI Endpoint"
      description: "Fully qualified domain name for Cloud Admin endpoint"
      type: "string"
      required: true
  apiManagerUiEndpoint:
    __metadata:
      label: "API Manager UI Endpoint"
      description: "Fully qualified domain name for API Manager endpoint"
      type: "string"
      required: true

cassandra:
  __metadata:
    label: "Cassandra"
    description: "Parameters for management DB"
  cassandraClusterSize:
    __metadata:
      label: "Cluster Size"
      description: "Size of management DB cluster (min 3 for HA)"
      type: number
  cassandraMaxMemoryGb:
    __metadata:
      label: "Max Memory (GB)"
      description: "Memory limit for management DB"
      type: number
  cassandraVolumeSizeGb:
    __metadata:
      label: "Volume Size (GB)"
      description: "Size of management DB storage volume (not resizable)"
      type: number

cassandraBackup:
  __metadata:
    label: "Cassandra Backup"
    description: "Parameters for management DB backups"
  cassandraBackupAuthUser:
    __metadata:
      label: "Auth User"
      description: "(Optional) Server username for DB backups"
      type: string
  cassandraBackupAuthPass:
    __metadata:
      label: "Auth Pass"
      description: "[WARNING] This field is immutable; passwords must be set by post-install actions"
      type: password
      immutable: true
  cassandraBackupHost:
    __metadata:
      label: "Host"
      description: "(Optional) FQDN for DB backups server"
      type: string
  cassandraBackupPath:
    __metadata:
      label: "Path"
      description: "(Optional) path for DB backups server"
      type: string
  cassandraBackupPort:
    __metadata:
      label: "Port"
      description: "(Optional) Server port for DB backups"
      type: string
  cassandraBackupProtocol:
    __metadata:
      label: "Protocol"
      description: "(Optional) Protocol for DB backups"
      type: string
      options:
      - label: "sftp"
        value: "sftp"
      - label: "ftp"
        value: "ftp"
      - label: "objstore"
        value: "objstore"
  cassandraBackupSchedule:
    __metadata:
      label: "Schedule"
      description: "(Optional) Cron schedule for DB backups"
      type: string

cassandraPostmortems:
  __metadata:
    label: "Cassandra Postmortems"
    description: "Parameters for management DB postmortems"
  cassandraPostmortemsAuthUser:
    __metadata:
      label: "Auth User"
      description: "(Optional) Server username for DB metrics server"
      type: string
  cassandraPostmortemsAuthPass:
    __metadata:
      label: "Auth Pass"
      description: "[WARNING] This field is immutable; passwords must be set by post-install actions"
      type: password
      immutable: true
  cassandraPostmortemsHost:
    __metadata:
      label: "Host"
      description: "(Optional) FQDN for DB metrics server"
      type: string
  cassandraPostmortemsPath:
    __metadata:
      label: "Path"
      description: "(Optional) path for DB metrics server"
      type: string
  cassandraPostmortemsPort:
    __metadata:
      label: "Port"
      description: "(Optional) Server port for DB metrics"
      type: string
  cassandraPostmortemsSchedule:
    __metadata:
      label: "Schedule"
      description: "(Optional) Cron schedule for DB metrics"
      type: string

analytics:
  __metadata:
    label: "Analytics"
    description: "Parameters for analytics subsystem"
  enabled:
    __metadata:
      label: "Enabled"
      description: "Enable the subsystem"
      type: "boolean"
      required: true
  namespace:
    __metadata:
      label: "Namespace"
      description: "(Optional) Namespace override for subsystem"
      type: "string"
      required: false
  certSecret:
    __metadata:
      label: "Cert Secret"
      description: "(Optional) Secret containing custom or existing analytics certs"
      type: string
      required: false
  storageClass:
    __metadata:
      label: "Storage Class"
      description: "(Optional) Storage class override for subsystem"
      type: string
      required: false
  esStorageClass:
    __metadata:
      label: "ES Storage Class"
      description: "(Optional) Storage class override for ES"
      type: string
      required: false
  enableMessageQueue:
    __metadata:
      label: "Enable Message Queue"
      description: "(Optional) Enable Analytics Message Queue Service"
      type: boolean
  mqStorageClass:
    __metadata:
      label: "Message Queue Storage Class"
      description: "(Optional) Storage class override for Message Queue"
      type: string
      required: false
  analyticsIngestionEndpoint:
    __metadata:
      label: "Analytics Ingestion Endpoint"
      description: "FQDN of Analytics Ingestion endpoint"
      type: "string"
      required: true
  analyticsClientEndpoint:
    __metadata:
      label: "Analytics Client Endpoint"
      description: "FQDN of Analytics Client/UI endpoint "
      type: "string"
      required: true
  coordinatingMaxMemoryGb:
    __metadata:
      label: "Coordinating Max Memory (GB)"
      description: "Memory limit for ES coordinating nodes"
      type: number
  dataMaxMemoryGb:
    __metadata:
      label: "Data Max Memory (GB)"
      description: "Memory limit for ES data nodes"
      type: number
  dataStorageSizeGb:
    __metadata:
      label: "Data Storage Size (GB)"
      description: "Size of data storage volume"
      type: number
  masterMaxMemoryGb:
    __metadata:
      label: "Master Max Memory (GB)"
      description: "Memory limit for ES master nodes"
      type: number
  masterStorageSizeGb:
    __metadata:
      label: "Master Storage Size (GB)"
      description: "Size of master storage volume"
      type: number

portal:
  __metadata:
    label: "Portal"
    description: "Parameters for portal subsystem"
  enabled:
    __metadata:
      label: "Enabled"
      description: "Enable the subsystem"
      type: "boolean"
      required: true
  namespace:
    __metadata:
      label: "Namespace"
      description: "(Optional) Namespace override for subsystem"
      type: "string"
      required: false
  certSecret:
    __metadata:
      label: "Cert Secret"
      description: "(Optional) Secret containing custom or existing portal certs"
      type: string
      required: false
  storageClass:
    __metadata:
      label: "Storage Class"
      description: "(Optional) Storage class override for subsystem"
      type: string
      required: false
  portalDirectorEndpoint:
    __metadata:
      label: "Portal Director Endpoint"
      description: "FQDN of Portal admin endpoint"
      type: "string"
      required: true
  portalWebEndpoint:
    __metadata:
      label: "Portal Web Endpoint"
      description: "FQDN of Portal web endpoint"
      type: "string"
      required: true
  adminStorageSizeGb:
    __metadata:
      label: "Admin Storage Size (GB)"
      description: "Size of admin storage volume"
      type: number
  backupStorageSizeGb:
    __metadata:
      label: "Backup Storage Size (GB)"
      description: "Size of backup data storage volume"
      type: number
  dbLogsStorageSizeGb:
    __metadata:
      label: "DB Logs Storage Size (GB)"
      description: "Size of DB logs storage volume"
      type: number
  dbStorageSizeGb:
    __metadata:
      label: "DB Storage Size (GB)"
      description: "Size of DB storage volume"
      type: number
  wwwStorageSizeGb:
    __metadata:
      label: "WWW Storage Size (GB)"
      description: "Size of Site data storage volume"
      type: number

portalBackup:
  __metadata:
    label: "Portal Backup"
    description: "Parameters for portal backups"
  siteBackupAuthUser:
    __metadata:
      label: "Auth User"
      description: "(Optional) Server username for portal backups"
      type: string
  siteBackupAuthPass:
    __metadata:
      label: "Auth Pass"
      description: "[WARNING] This field is immutable; passwords must be set by post-install actions"
      type: password
      immutable: true
  siteBackupHost:
    __metadata:
      label: "Host"
      description: "(Optional) FQDN for portal backups server"
      type: string
  siteBackupPath:
    __metadata:
      label: "Site Backup Path"
      description: "(Optional) Path for portal backups"
      type: string
  siteBackupPort:
    __metadata:
      label: "Port"
      description: "(Optional) port for portal backups server"
      type: string    
  siteBackupProtocol:
    __metadata:
      label: "Protocol"
      description: "(Optional) Protocol for portal backups"
      type: string
      options:
      - label: "sftp"
        value: "sftp"
      - label: "ftp"
        value: "ftp"
      - label: "objstore"
        value: "objstore"
  siteBackupSchedule:
    __metadata:
      label: "Schedule"
      description: "(Optional) Cron schedule for portal backups "
      type: string