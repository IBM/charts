########################################################################
#
# Licensed Materials - Property of IBM
#
# 5725Q09
#
# (C) Copyright IBM Corp.
#
# 2018-2019 All Rights Reserved
#
# US Government Users Restricted Rights - Use, duplication or disclosure
# restricted by GSA ADP Schedule Contract with IBM Corp.
#
########################################################################

#
# values-metadata.yaml describe values.yaml to IBM Cloud Private UI
#
global:
  __metadata:
    label: "Global values"
    description: ""

  enableLogAnalysis:
    __metadata:
      label: "Enable Log Analysis"
      description: >
        Control the initial deployment of Log Analysis. Uncheck to
        remove Log Analysis from the deployment.
      type: "boolean"
      hidden: true
  
  dashboardEnabled:
    __metadata:
      label: "Grafana dashboard"
      description: "Enable the Grafana dashboard"
      type: "boolean"
      hidden: true
      
  enableImpact:
    __metadata:
      label: "Enable Impact"
      description: >
        Control the initial deployment of Impact. Uncheck to
        remove Impact from the deployment.
      type: "boolean"
      hidden: true

  environmentSize:
    __metadata:
      label: "Environment size"
      description: >-
        Controls the resource sizes the value can be either 'size1' or 'size0'.
        Size0 is a minimal spec for evaluation or development purposes.
      type: "string"
      options:
        - label: "size0"
          value: "size0"
        - label: "size1"
          value: "size1"
  integrations:
    asm:
      enabled:
        __metadata:
          label: "Enable ASM integration"
          description: "If you plan to deploy the optional ASM extension, select this option. See http://ibm.biz/install_noi_icp."
          type: "boolean"
          required: false
          hidden: false
      releaseName:
        __metadata:
          description: "If you plan to deploy the optional ASM extension, enter the release name it will be deployed with. See http://ibm.biz/install_noi_icp."
          label: "ASM release name"
          type: "string"
          required: false
          hidden: false
      kafkaHostname:
        __metadata:
          hidden: true
          required: false
          type: "string"
          label: "ASM kafka hostname"
          description: >-
            This should be set to the hostname of the ASM kafka service. If
            not set, this defaults to {releaseName}-kafka
      kafkaPort:
        __metadata:
          hidden: true
          required: false
          type: "string"
          label: "ASM kafka port"
          description: This should be set to the port of the ASM kafka service
      kafkaExternalStatusTopic:
        __metadata:
          required: false
          hidden: true
          type: "string"
          label: "ASM external status topic"
          description: >-
            The topic in the ASM kafka cluster where ASM is publishing external
            status updates
      onPremSecureRemote:
        enabled:
          __metadata:
            description: "Set to true in order to connect to a remote ASM host opposed to a deployment of ASM inside the target namespace."
            label: "Is ASM deployed remotely to the cluster and NOI target namespace?"
            type: "boolean"
            required: false
            hidden: true
        remoteHost:
          __metadata:
            hidden: true
            required: false
            type: "string"
            label: "Remote ASM host"
            description: The hostname or ip address for an on premise asm installation. This is only required when the onPremSecureRemote is enabled.
        remotePort:
          __metadata:
            hidden: true
            required: false
            type: "string"
            label: "Remote ASM Secured Kafka Port"
            description: The port number on which secured kafka is exposed from the remote asm installation
        uiApiPort:
          __metadata:
            hidden: true
            required: false
            type: "string"
            label: "ASM REST Proxy Port"
            description: The exposed port number for the ASM UI API Proxy which will be used to allow the ASM UI to connect to backend services

  omnisecretname:
    __metadata:
      label: "Omnibus secret name"
      description: "Omnibus secret name. hidden"
      type: "string"
      required: true
      hidden: true
  license:
    __metadata:
      label: "Review and accept the licence terms"
      description: "Review and accept the licence terms."
      type: "string"
      required: true
      hidden: false
      options:
      - label: "not accepted"
        value: "not accepted"
      - label: "accept"
        value: "accept"

  common:
    # Settings used by the event analytics subcharts.
    eventanalytics:
      tenantId:
        __metadata:
          label: "Event Analytics TenantId"
          description: "Internal tenantId used by event analytics"
          type: "string"
          required: true
          hidden: true

  cluster:
    # Public name the deployment cluster will be accessible from.
    fqdn:
      __metadata:
        label: "Master Node"
        description: "Use the fully qualified domain name (FQDN) to specify the master node. Do not use the IP address."
        type: "string"
        required: true
        hidden: false
  ingress:
    port:
      __metadata:
        label: "Https Port"
        description: "Port the cluster https ingress is running on (Default is 443) "
        type: "number"
        required: true
        hidden: false
    tlsSecret:
      __metadata:
        description: "Hidden parameter"
        label: "hidden"
        type: "string"
        required: true
        hidden: true
    prefixWithReleaseName:
      __metadata:
        description: "Hidden parameter"
        label: "netcool"
        type: "boolean"
        required: true
        hidden: true
  # Enable sub-chart resource requests
  resource:
    requests:
      enable:
        __metadata:
          label: "Enable sub-chart resource requests"
          description: "To check the resources required for the release, select this option. See http://ibm.biz/install_noi_icp."
          type: "boolean"
          required: true
          hidden: false

  antiAffinity:
    enabled:
      __metadata:
        label: "Enable anti-affinity"
        description: "To prevent primary and backup server pods from being installed on the same worker node, select this option."
        type: "boolean"
        required: true
        hidden: false

  persistence:
    enabled:
      __metadata:
        label: "Enable data persistence"
        description: "To store data for all components on a persistent volume, which preserves data if the pod is stopped, select this option."
        type: "boolean"
        required: true
        hidden: false

    useDynamicProvisioning:
      __metadata:
        label: "Use dynamic provisioning"
        description: "To allow the cluster to automatically provision new storage resources and create PersistentVolume objects, select this option."
        type: "boolean"
        required: true
        hidden: false

    storageClassOption:
      kafkadata:
        __metadata:
          label: "Kafka Data Storage Class"
          description: "The persistent volume storage class for the kafka service."
          type: "string"
          required: true
      cassandradata:
        __metadata:
          label: "Cassandra Data Storage Class"
          description: >
            The persistent volume storage class for the cassandra service. This can be disabled by not
            specifying any option.
          type: "string"
          required: false
      cassandrabak:
        __metadata:
          label: "Cassandra Backup Storage Class"
          description: "The persistent volume storage class for the cassandra service"
          type: "string"
          required: true
      zookeeperdata:
        __metadata:
          label: "Zookeeper Data Storage Class"
          description: "The persistent volume storage class for the zookeeper service"
          type: "string"
          required: true
      couchdbdata:
        __metadata:
          label: "CouchDB Data Storage Class"
          description: "The persistent volume storage class for the couchdb service"
          type: "string"
          required: true
    storageSize:
      cassandradata:
        __metadata:
          label: "Cassandra Data Storage Size"
          description: "cassandra data storage size option"
          type: "string"
          required: true
      cassandrabak:
        __metadata:
          label: "Cassandra Backup Storage Size"
          description: "cassandra back up storage size option"
          type: "string"
          required: true
      zookeeperdata:
        __metadata:
          label: "Zookeeper Data Storage Size"
          description: "Zookeeper Data storage size option"
          type: "string"
          required: true
      kafkadata:
        __metadata:
          label: "kafka Data Storage Size"
          description: "kafka Data storage size option"
          type: "string"
          required: true
      couchdbdata:
        __metadata:
          label: "CouchDB Data Storage Size"
          description: "CouchDB Data storage size option"
          type: "string"
          required: true
  rbac:
    create:
      __metadata:
        description: "Enable to create required service account and role bindings. See http://ibm.biz/install_noi_icp. Enable only if a cluster admin is installing."
        label: "Create required RBAC RoleBindings."
        type: "boolean"
        required: true
        hidden: false
    serviceAccountName:
      __metadata:
        label: "ServiceAccount under which your pods run"
        description: "An extra layer of security to restrict RBAC access to your service account."
        type: "string"
        required: true
        immutable: false
        hidden: false


  nciservers:
    replicaCount:
      __metadata:
        label: "Number of Impact server instances"
        description: "Define the number of Impact server instances that are required."
        type: "number"
        required: true
        hidden: false

  ldapservice:
    name:
      __metadata:
        label: "LDAP service name (Advanced)"
        description: "Internal name of the LDAP service. Do not change."
        type: "string"
        required: true
        hidden: true
    verifypasswords:
      __metadata:
        label: "LDAP service verify passwords"
        description: "Verify ldap passwords. Do not change."
        type: "boolean"
        required: true
        hidden: true
    mode:
      __metadata:
        label: "LDAP mode"
        description: "Choose (standalone) for a built-in LDAP server or (proxy) and connect to an external organization LDAP server. See http://ibm.biz/install_noi_icp."
        type: "string"
        required: true
        hidden: false
        options:
        - label: "standalone"
          value: "standalone"
        - label: "proxy"
          value: "proxy"
    internal:
      ldapPort:
        __metadata:
          label: "LDAP Server port"
          description: "If you set LDAP mode to proxy, then you must configure the port of your organization's LDAP server. See http://ibm.biz/install_noi_icp."
          type: "number"
          required: true
          hidden: false
      ldapSSLPort:
        __metadata:
          label: "LDAP Server SSL port"
          description: "If you set LDAP mode to proxy, configure the SSL port of your organization's LDAP server. See http://ibm.biz/install_noi_icp."
          type: "number"
          required: true
          hidden: false
      url:
        __metadata:
          label: "LDAP Server URL"
          description: "If you set LDAP mode to proxy, configure the URL of your organization's LDAP server. See http://ibm.biz/install_noi_icp."
          type: "string"
          required: true
          hidden: false
      suffix:
        __metadata:
          label: "LDAP Directory Information Tree top entry"
          description: "If you set LDAP mode to proxy, configure the top entry in the LDAP Directory Information Tree (DIT). See http://ibm.biz/install_noi_icp."
          type: "string"
          required: true
          hidden: false
      baseDN:
        __metadata:
          label: "LDAP base entry"
          description: "If you set LDAP mode to proxy, configure the LDAP base entry by specifying the base distinguished name (DN). See http://ibm.biz/install_noi_icp."
          type: "string"
          required: true
          hidden: false
      bindDN:
        __metadata:
          label: "LDAP bind userid"
          description: "If LDAP mode is proxy, configure LDAP bind user identity by specifying the bind distinguished name (bind DN). See http://ibm.biz/install_noi_icp."
          type: "string"
          required: true
          hidden: false

  tls:
    certificate:
      useExistingSecret:
        __metadata:
          label: "Use existing TLS certificate secrets"
          description: "To use your own TLS certificate secrets instead of automatically generated ones, select this option."
          type: "boolean"
          required: true
          hidden: false
  users:
    secretsCreatedPreInstall:
      __metadata:
        label: "Indicate that all password secrets have been created prior to install"
        description: "Click if you have already created secrets for all passwords. If this is false random passwords will be generated for secrets not created."
        type: "boolean"
        required: true
        hidden: false
    randompasswords:
      __metadata:
        label: "Randomize passwords"
        description: "Randomize user passwords"
        type: "boolean"
        required: true
        hidden: true
  image:
    repository:
      __metadata:
        label: "Image repository"
        description: "Docker registry that all component images are pulled from."
        type: "string"
        required: false
        hidden: false
    secret:
      __metadata:
        label: "Docker image repository secret"
        description: "The name of the secret containing credentials to access the Docker registry."
        type: "string"
        required: true
        hidden: false
    pullPolicy:
      __metadata:
        label: "Image pull policy"
        description: "The default pull policy is IfNotPresent, which causes the Kubelet to skip pulling an image that already exists."
        type: "string"
        required: false
        hidden: true
        options:
        - label: "Always"
          value: "Always"
        - label: "Never"
          value: "Never"
        - label: "IfNotPresent"
          value: "IfNotPresent"

# Individual charts orverride
db2ese:
  __metadata:
    label: "DB2"
    description: ""
  pvc:
    storageClassName:
      __metadata:
        description: "Leave this value empty or specify your storage class."
        label: "Storage class name"
        type: "string"
        required: false
        hidden: false
    existingClaimName:
      __metadata:
        description: "Leave this value empty or specify your PVC claim."
        label: "Existing storage claim name"
        type: "string"
        required: false
        hidden: false
    selector:
      label:
        __metadata:
          description: "Leave this value empty when using dynamic provisioning, as recommended. In any other case, use selectors to refine the binding process."
          label: "PVC Selector label"
          type: "string"
          required: false
          hidden: false
      value:
        __metadata:
          description: "Leave this value empty when using dynamic provisioning, as recommended. In any other case, use selectors to refine the binding process."
          label: "PVC Selector name"
          type: "string"
          required: false
          hidden: false
    size:
      __metadata:
        description: "Size allocated for persistent storage. Do not change. See https://ibm.biz/BdzrBa"
        label: "Storage size"
        type: "string"
        required: true
        hidden: false

ncoprimary:
  __metadata:
    label: "Primary Object Server"
    description: ""
  pvc:
    storageClassName:
      __metadata:
        description: "Leave this value empty or specify your storage class."
        label: "Storage class name"
        type: "string"
        required: false
        hidden: false
    existingClaimName:
      __metadata:
        description: "Leave this value empty or specify your PVC claim."
        label: "Existing storage claim name"
        type: "string"
        required: false
        hidden: false
    selector:
      label:
        __metadata:
          description: "Leave this value empty when using dynamic provisioning, as recommended. In any other case, use selectors to refine the binding process."
          label: "PVC Selector label"
          type: "string"
          required: false
          hidden: false
      value:
        __metadata:
          description: "Leave this value empty when using dynamic provisioning, as recommended. In any other case, use selectors to refine the binding process."
          label: "PVC Selector name"
          type: "string"
          required: false
          hidden: false
    size:
      __metadata:
        description: "Size allocated for persistent storage in bytes. Do not change. see https://ibm.biz/BdzrBa"
        label: "Storage size"
        type: "string"
        required: true
        hidden: false

ncobackup:
  __metadata:
    label: "Backup Object Server"
    description: ""
  pvc:
    storageClassName:
      __metadata:
        description: "Leave this value empty or select your storage class."
        label: "Storage class name"
        type: "string"
        required: false
        hidden: false
    existingClaimName:
      __metadata:
        description: "Leave this value empty or select your PVC claim."
        label: "Existing storage claim name"
        type: "string"
        required: false
        hidden: false
    selector:
      label:
        __metadata:
          description: "Leave this value empty when using dynamic provisioning, as recommended. In any other case, use selectors to refine the binding process."
          label: "PVC Selector label"
          type: "string"
          required: false
          hidden: false
      value:
        __metadata:
          description: "Leave this value empty when using dynamic provisioning, as recommended. In any other case, use selectors to refine the binding process."
          label: "PVC Selector name"
          type: "string"
          required: false
          hidden: false
    size:
      __metadata:
        description: "Size allocated for persistent storage in bytes. Do not change. See https://ibm.biz/BdzrBa"
        label: "Storage size"
        type: "string"
        required: true
        hidden: false

nciserver:
  __metadata:
    label: "Primary Impact Server"
    description: ""
  pvc:
    storageClassName:
      __metadata:
        description: "Leave this value empty or select your storage class."
        label: "Storage class name"
        type: "string"
        required: false
        hidden: false
    selector:
      label:
        __metadata:
          description: "Leave this value empty when using dynamic provisioning, as recommended. In any other case, use selectors to refine the binding process."
          label: "PVC Selector label"
          type: "string"
          required: false
          hidden: false
      value:
        __metadata:
          description: "Leave this value empty when using dynamic provisioning, as recommended. In any other case, use selectors to refine the binding process."
          label: "PVC Selector name"
          type: "string"
          required: false
          hidden: false
    size:
      __metadata:
        description: "Size allocated for persistent storage in bytes. Do not change. See https://ibm.biz/BdzrBa"
        label: "Storage size"
        type: "string"
        required: true
        hidden: false

impactgui:
  __metadata:
    label: "Impact GUI"
    description: ""
  pvc:
    storageClassName:
      __metadata:
        description: "Leave this value empty or specify your storage class."
        label: "Storage class name"
        type: "string"
        required: false
        hidden: false
    existingClaimName:
      __metadata:
        description: "Leave this value empty or specify your PVC claim."
        label: "Existing storage claim name"
        type: "string"
        required: false
        hidden: false
    selector:
      label:
        __metadata:
          description: "Leave this value empty when using dynamic provisioning, as recommended. In any other case, use selectors to refine the binding process."
          label: "PVC Selector label"
          type: "string"
          required: false
          hidden: false
      value:
        __metadata:
          description: "Leave this value empty when using dynamic provisioning, as recommended. In any other case, use selectors to refine the binding process."
          label: "PVC Selector name"
          type: "string"
          required: false
          hidden: false
    size:
      __metadata:
        description: "Size allocated for persistent storage in bytes. Don't change. See https://ibm.biz/BdzrBa"
        label: "Storage size"
        type: "string"
        required: true
        hidden: false

scala:
  __metadata:
    label: "Log Analysis"
    description: ""
  pvc:
    storageClassName:
      __metadata:
        description: "Leave this value empty or specify your storage class."
        label: "Storage class name"
        type: "string"
        required: false
        hidden: false
    existingClaimName:
      __metadata:
        description: "Leave this value empty or specify your PVC claim."
        label: "Existing storage claim name"
        type: "string"
        required: false
        hidden: false
    selector:
      label:
        __metadata:
          description: "Leave this value empty when using dynamic provisioning, as recommended. In any other case, use selectors to refine the binding process."
          label: "PVC Selector label"
          type: "string"
          required: false
          hidden: false
      value:
        __metadata:
          description: "Leave this value empty when using dynamic provisioning, as recommended. In any other case, use selectors to refine the binding process."
          label: "PVC Selector name"
          type: "string"
          required: false
          hidden: false
    size:
      __metadata:
        description: "Size allocated for persistent storage in bytes. Do not change. See https://ibm.biz/BdzrBa"
        label: "Storage size"
        type: "string"
        required: true
        hidden: false

openldap:
  __metadata:
    label: "LDAP Authentication"
    description: ""
  pvc:
    storageClassName:
      __metadata:
        description: "Leave this value empty or specify your storage class."
        label: "Storage class name"
        type: "string"
        required: false
        hidden: false
    existingClaimName:
      __metadata:
        description: "Leave this value empty or specify your PVC claim."
        label: "Existing storage claim name"
        type: "string"
        required: false
        hidden: false
    selector:
      label:
        __metadata:
          description: "Leave this value empty when using dynamic provisioning, as recommended. In any other case, use selectors to refine the binding process."
          label: "PVC Selector label"
          type: "string"
          required: false
          hidden: false
      value:
        __metadata:
          description: "Leave this value empty when using dynamic provisioning, as recommended. In any other case, use selectors to refine the binding process."
          label: "PVC Selector name"
          type: "string"
          required: false
          hidden: false
    size:
      __metadata:
        description: "Size allocated for persistent storage in bytes. Do not change. See https://ibm.biz/BdzrBa"
        label: "Storage size"
        type: "string"
        required: true
        hidden: false

ibm-ea-asm-normalizer:
  __metadata:
    label: "EA ASM Normalizer settings"
    description: "Settings for the ASM to analytics normalizer"
  joinWindowSize:
    __metadata:
      label: "ASM status to event enrichment join window"
      type: "number"
      description: >-
        Maximum time (minutes) between an event being ingested from the object server
        and the service receiving a matching status update from ASM.
  kafkaImage:
    name:
      __metadata:
        label: "Kafka image name"
        type: "string"
        description: "The name of image asm normalizer uses to connect to kafka"
        immutable: false
        required: true
        hidden: true
    tag:
      __metadata:
        label: "Kafka image tag"
        type: "string"
        description: "The tag of the image asm normalizer uses to connect to kafka"
        immutable: false
        required: true
        hidden: true

ibm-hdm-common-ui:
  __metadata:
    label: "Common UI settings"
    description: "Settings for the Common UI components"
  dash:
    consoleIntegration:
      passwordOptional:
        __metadata:
          label: "Password optional switch"
          description: "Sets wether the secret is optional or not."
          type: "boolean"
          immutable: false
          required: true
          hidden: true

ea-noi-layer:
  __metadata:
    label: "Event Analytics NOI layer settings"
    description: "Settings for the Event Analytics NOI layer components"
  noieagateway:
    ingestionEndpoint:
      subscriptionKeyName:
        __metadata:
          description: "NOI EA gateway Ingestion Endpoint Subsctiption Key Name"
          label: "Subscription Key Name"
          type: "string"
          required: true
          hidden: true

ibm-hdm-analytics-dev:
  __metadata:
    label: "Event Analytics settings"
    description: "Settings for the Event Analytics components"
  archivingservice:
    eventTTL:
      __metadata:
        name: "eventTTL"
        label: "Event TTL"
        description: "How long events should persist in seconds before being deleted"
        type: "number"
        immutable: false
        required: false
        hidden: true
  common:
    topics:
      asmMessages:
        enabled:
         __metadata:
          name: "ea-asm-enriched-events-enabled"
          label: "ea-asm-enriched-events enabled"
          description: "This kafka topic must be enabled in order to recieve ASM status enrichment enrichment"
          type: "boolean"
          immutable: true
          required: false
          hidden: true
    authentication:
      scheme:
        __metadata:
          name: "scheme"
          label: "REST API Authentication Scheme"
          description: "The authentication scheme to use for access to REST API services"
          type: "string"
          immutable: true
          required: true
          hidden: true
          options:
            - label: "NOI"
              value: "noiusers"
    temporalGroupingDeployFirst:
      __metadata:
        label: "Temporal Group Policies Deploy First."
        description: "Enables or Disable the deploy first / review first option for Temporal policies."
        type: "boolean"
        immutable: false
        required: true
