# Default values for IBM Netcool Gateway CEM chart

#############################
# Common Parameters
#############################

# Docker image license acceptance. Must be set to "accept" to start the probes.
license: "accept"
image:
  # Update repository to pull from private image repository. Image name must be "netcool-gateway-cem".
  repository: "netcool-gateway-cem"
  tag: '2.0.5.3-amd64'

  # Specify a imagePullPolicy - Always, Never, or IfNotPresent. Defaults to IfNotPresent
  pullPolicy: IfNotPresent

global:
  image:
    # Image Pull Secret Name. Should be set if the Service Account is not configured with an image pull secret for the
    # specified image repository.
    secretName: ""
  # If the Cluster Administrator has already created a service account in the namespace, specify the name of the service account here.
  # If left blank, the chart will automatically create a new service account in the namespace when it is deployed. This new service account will be 
  # removed from the namespace when the chart is removed.
  serviceAccountName: ""
  persistence:
    # Use storageClass to dynamically create Persistence Volume (PV) and Persistent Volume Claim (PVC)
    useDynamicProvisioning: true
    # If storageClassName is not specified then default storageClass will be used to create PV
    # If storageClassName is specified then the storageClass will be used to create PV
    storageClassName: ""
    # If you are not using dynamic provisioning, use the selector to refine the binding process (between PV and PVC)
    selector:
      # The PVC Selector label key to refine binding process
      label: ""
      # The PVC Selector label value related to the PVC Selector label key
      value: ""
    storageSize: 3Gi
    # Provide the gid of the volumes as list
    supplementalGroups: []

########################################################
# Netcool/OMNIbus ObjectServer Configuration Parameters
########################################################
netcool:
  # The connection mode to use when connecting to the Netcool/OMNIbus ObjectServer.
  # Available options for connectionMode:
  # "AuthOnly"    - (Default) Authentication enabled only. ObjectServer must be run in secured mode. A secret 
  #                 containing "AuthUserName", "AuthPassword" and "encryption.keyfile" is required.
  # "SSLAndAuth"  - SSL and Authentication are enabled. ObjectServer must be run in secured mode and
  #                 SSL certificates configured (AES_FIPS). A secret containing "omni.kdb", "omni.sth", "encryption.keyfile",
  #                 "AuthUserName" and "AuthPassword" required.
  # Note: These connection modes are supported when connecting to your on-premise ObjectServer.
  #       For Netcool Operations Insight on ICP, you may enable IPSec to secure cluster network communications.
  connectionMode: "AuthOnly"
  # (Required) ObjectServer Name that the probe should connect to. (Usually set to NCOMS or AGG_P)
  primaryServer: "AGG_P"
  # (Required) Hostname of the primary ObjectServer
  primaryHost: ""
  # IP address of the primary ObjectServer. If both host and IP parameters are specified,
  # and entry will be added as host alias.
  primaryIP: ""
  # (Required) ObjectServer Port, usually set to 4100
  primaryPort: 4100
  # For NOI on ICP/Openshift, set to the primary ObjectServer nodeport service name.
  primaryIDUCHost: ""
  # Backup ObjectServer Name that the probe should connect to. (Usually set to AGG_B)
  backupServer: ""
  # Hostname of the backup ObjectServer.
  backupHost: ""
  # IP address of the backup ObjectServer. If both host and IP parameters are specified,
  # and entry will be added as host alias.
  backupIP: ""
  # Backup ObjectServer Port
  backupPort:
  # For NOI on ICP/Openshift, set to the backup ObjectServer nodeport service name.
  backupIDUCHost: ""
  # A pre-created secret for AuthOnly, SSLOnly or SSLAndAuth connection mode.
  # Certain fields are required depending on the connection mode.
  secretName: ""

#######################################
# CEM Gateway Configuration Parameters
#######################################
cemgateway:
  # Log level for Gateway
  messageLevel: debug

  # Optional CEM Gateway paramaters.
  connections: 3
  connectionTimeout: 15
  retryLimit: 0
  retryWait: 7
  reconnectTimeout: 30
  setUIDandGID: true

  locale: "en_US.utf8"

  # A pre-created secret to store tls.crt
  # tls.crt contains Cloud Event Management certificate in PEM format
  cemTlsSecretName: ""

  # A pre-created secret to store NewKeystorePassword and CEMWebhookURL
  # NewKeystorePassword is the new password defined by user to access cacerts in gateway and optional key in the secret
  # CEMWebhookURL is the CEM webhook URL and the required key in the secret
  cemSecretName: ""

#############################
# Resources Settings
#############################
resources:
  limits:
    cpu: 500m
    memory: 512Mi
  requests:
    cpu: 100m
    memory: 128Mi

# Common Node affinity settings
# Specify architecture (amd64). Only amd64 arch is supported.
arch: amd64
