
license:
  __metadata:
    label: "Docker image license acceptance"
    description: "Must be set to \"accept\" to proceed with installation. Defaults to Not Accepted."
    type: "string"
    required: true
    hidden: false
    immutable: false
    name: "license"
    options:
    - label: "Not Accepted"
      value: "not accepted"
    - label: "Accept"
      value: "accept"
image:
  __metadata:
    label: "Docker Image"
    description: "Docker Image Configuration"
    name: "image"
  repository:
    __metadata:
      label: "Image Repository"
      description: "Docker registry to pull \"netcool-gateway-cem\" image from. The image name must be \"netcool-gateway-cem\"."
      name: "repository"
      type: "string"
      immutable: false
      required: true
  tag:
    __metadata:
      label: "Image tag"
      description: >
        Specific image tag to use. A tag is a label applied to a image
        in a repository. Tags are how various images in a repository are distinguished
        from each other.
      name: "tag"
      type: "string"
      immutable: false
      required: true
  pullPolicy:
    __metadata:
      label: "Docker Image Pull Policy"
      description: "The default pull policy is Always which causes the Kubelet to always pull the image."
      options:
      - label: "Always"
        value: "Always"
      - label: "Never"
        value: "Never"
      - label: "IfNotPresent"
        value: "IfNotPresent"
      name: "pullPolicy"
      type: "string"
      immutable: false
      required: true
global:
  __metadata:
    label: "Docker-registry secret"
    description: "Specifies a secret resource containing an image pull secret to authenticate with the docker registry."
    name: "global"
  image:
    secretName:
      __metadata:
        label: "Secret Name"
        description: >
          Name of the Secret containing the Docker Config to pull image
          from a private repository.  Leave blank if the gateway image already exists
          in the local image repository or the Service Account has been assigned with
          an Image Pull Secret.
        type: "string"
        required: false
        hidden: false
        immutable: false
  serviceAccountName:
    __metadata:
      label: "Service Account Name"
      description: >
        If the Cluster Administrator has already created a service account
        in the namespace, specify the name of the service account here. If left blank,
        the chart will automatically create a new service account in the namespace
        when it is deployed. This new service account will be removed from the namespace
        when the chart is removed.
      type: "string"
      required: false
      hidden: false
      immutable: false
  persistence:
    useDynamicProvisioning:
      __metadata:
        label: "Use Dynamic Provisioning"
        description: >
          Select this checkbox to allow the cluster to automatically provision new storage resource 
          and create Persistent Volume object.
        type: "boolean"
        required: true
        immutable: false
        hidden: false
    storageClassName:
      __metadata:
        label: "Storage Class Name"
        description: "Storage Class for dynamic provisioning."
        type: "string"
        required: false
        immutable: false
        hidden: false
    selector:
      label:
        __metadata:
          label: "PVC Selector label key"
          description: >
            Leave this value empty when using dynamic provisioning, as recommended.
            In any other case, use selectors to refine the binding process.
          type: "string"
          required: false
          immutable: false
          hidden: false
      value:
        __metadata:
          label: "PVC Selector label value"
          description: >
            Leave this value empty when using dynamic provisioning, as recommended.
            In any other case, use selectors to refine the binding process.
          type: "string"
          required: false
          immutable: false
          hidden: false
    storageSize:
      __metadata:
        label: "Storage Size"
        description: "Storage size to store CEM Gateway Store and Forward Files."
        type: "string"
        required: true
        immutable: false
        hidden: false
    supplementalGroups:
      __metadata:
        label: "Supplemental Groups"
        description: "Provide the gid of the volumes as list (required for NFS)."
        type: "string" ### because of a backwards compatibility bug, the type *must* be string.

netcool:
  __metadata:
    label: "ObjectServer Configuration"
    description: "Configures the Gateway and ObjectServer communication parameters."
    name: "netcool"
  connectionMode:
    __metadata:
      label: "Connection Mode"
      description: >
        The connection mode when establishing a connection with the Object
        Server. Requires a pre-created secret containing files/values for secured
        communication except for \"Default\" mode.
      type: "string"
      required: false
      hidden: false
      immutable: false
      name: "connectionMode"
      options:
      - label: "AuthOnly - Authentication enabled only."
        value: "AuthOnly"
      - label: "SSLAndAuth - SSL and authentication enabled."
        value: "SSLAndAuth"
  primaryServer:
    __metadata:
      label: "Primary ObjectServer Name"
      description: "The primary Netcool/OMNIbus ObjectServer the gateway should connect to. (usually set to NCOMS or AGG_P)."
      type: "string"
      required: true
      hidden: false
      immutable: false
      name: "primaryServer"
  primaryHost:
    __metadata:
      label: "Primary ObjectServer Host"
      description: "The Primary Netcool/OMNIbus ObjectServer Hostname."
      type: "string"
      required: true
      hidden: false
      immutable: false
      name: "primaryHost"
  primaryIP:
    __metadata:
      label: "Primary ObjectServer IP Address"
      description: >
        The Primary Netcool/OMNIbus ObjectServer IP address. For NOI on ICP/OCP,
        set to the Master/Proxy node IP address. If specified along with 
        primaryHost, a host alias entry will be added.
      type: string
      required: true
      hidden: false
      immutable: false
      name: "primaryIP"
  primaryPort:
    __metadata:
      label: "Primary ObjectServer Port"
      description: "The Primary Netcool/OMNIbus ObjectServer Port number."
      type: "number"
      required: true
      hidden: false
      immutable: false
      name: "primaryPort"
  primaryIDUCHost:
    __metadata:
      label: "Primary ObjectServer IDUC Host or Service name"
      description: > 
        Should be set if the primary IDUC host is different from the primary Netcool/OMNIbus ObjectServer hostname.
        When connecting to NOI on ICP/OCP, this should be set to the primary ObjectServer
        NodePort service name.
      type: "string"
      required: false
      hidden: false
      immutable: false
      name: "primaryIDUCHost"
  backupServer:
    __metadata:
      label: "Backup ObjectServer Name"
      description: >
        The backup Netcool/OMNIbus ObjectServer Name. If the backupServer,
        backupHost and backupPort parameters are defined in addition to the primaryServer,
        primaryHost, and primaryPort parameters, the gateway will be configured to connect
        to a virtual ObjectServer pair called AGG_V.
      type: "string"
      required: false
      hidden: false
      immutable: false
      name: "backupServer"
  backupHost:
    __metadata:
      label: "Backup ObjectServer Host"
      description: "The Backup Netcool/OMNIbus ObjectServer Hostname."
      type: "string"
      required: false
      hidden: false
      immutable: false
      name: "backupHost"
  backupIP:
    __metadata:
      label: "Backup ObjectServer IP Address"
      description: >
        The backup Netcool/OMNIbus ObjectServer IP address. For NOI on ICP/OCP,
        set to the Master/Proxy node IP address. If specified along 
        with backupHost, a host alias entry will be added.
      type: "string"
      required: false
      hidden: false
      immutable: false
      name: "backupIP"
  backupPort:
    __metadata:
      label: "Backup ObjectServer Port"
      description: "The backup Netcool/OMNIbus ObjectServer Port number."
      type: "number"
      required: false
      hidden: false
      immutable: false
      name: "backupPort"
  backupIDUCHost:
    __metadata:
      label: "Backup ObjectServer IDUC Host or Service name"
      description: > 
        Should be set if the backup IDUC host is different from the backup Netcool/OMNIbus ObjectServer hostname.
        When connecting to NOI on ICP/OCP, this should be set to the backup ObjectServer
        NodePort service name.
      type: "string"
      required: false
      hidden: false
      immutable: false
      name: "backupIDUCHost"
  secretName:
    __metadata:
      label: "Gateway to ObjectServer Communication Secret"
      description: "Secret containing the required files/values for secured communication."
      type: "string"
      required: false
      hidden: false
      immutable: false
      name: "secretName"
cemgateway:
  __metadata:
    label: "CEM Gateway Configuration"
    description: "CEM Gateway configuration parameters."
    name: "CEM Gateway"
  messageLevel:
    __metadata:
      label: "Gateway Log Message Level"
      description: "The gateway log message level."
      type: "string"
      required: false
      hidden: false
      immutable: false
      name: "messageLevel"
      options:
      - label: "Fatal"
        value: "fatal"
      - label: "Error"
        value: "error"
      - label: "Warning"
        value: "warn"
      - label: "Info"
        value: "info"
      - label: "Debug"
        value: "debug"
  connections:
    __metadata:
      label: "Connections"
      description: "The number of simultaneous connections the gateway makes with the Cloud Event Management."
      type: "number"
      required: false
      hidden: false
      immutable: false
  connectionTimeout:
    __metadata:
      label: "Connection Timeout"
      description: "The interval (in seconds) that the gateway allows for HTTP connections and responses to HTTP requests."
      type: "number"
      required: false
      hidden: false
      immutable: false
  retryLimit:
    __metadata:
      label: "Retry Limit"
      description: > 
        The number of retries the gateway should make on an operation
        that failed. The default value of 0 (zero) means there is no limit.
      type: "number"
      required: false
      hidden: false
      immutable: false
  retryWait:
    __metadata:
      label: "Retry Wait"
      description: >
        The number of seconds the gateway should wait before retrying an operation that failed.
      type: number
      required: false
      hidden: false
      immutable: false
  reconnectTimeout:
    __metadata:
      label: "Reconnect Timeout"
      description: >
        The time (in seconds) between each reconnection poll attempt that the gateway makes 
        if the connection to the ObjectServer is lost.
      type: "number"
      required: false
      hidden: false
      immutable: false
  setUIDandGID:
    __metadata:
      label: "Set the User ID and Group ID for the Gateway process"
      description: >
        When set to true, the helm chart will specify the UID and GID values for the netcool user else 
        the netcool user will not be assigned any UID or GID by the helm chart.
      type: "boolean"
      required: true
  locale:
    __metadata:
      name: "locale"
      label: "Environment Locale Setting"
      description: "Used as the LC_ALL environment variable."
      type: "string"
      immutable: false
      required: false
  cemTlsSecretName:
    __metadata:
      label: "Cloud Event Management (CEM) TLS Secret"
      description: >
        TLS Secret contains the CEM TLS certificate file in PEM format (tls.crt).
      type: "string"
      required: false
      hidden: false
      immutable: false
      name: "cemTlsSecretName"
  cemSecretName:
    __metadata:
      label: "CEM Gateway Secret"
      description: >
        Secret contains CEMWebhookURL, NewKeystorePassword and HttpAuthenticationPassword.
        CEMWebhookURL is the CEM webhook URL and required key in the secret.
        NewKeystorePassword is the new password to access cacerts in gateway and optional key in the secret.
        HttpAuthenticationPassword is the HTTP basic authentication password string and optional key in the secret.
      type: "string"
      required: true
      hidden: false
      immutable: false
      name: "cemSecretName"

resources:
  __metadata:
    label: "Resource quotas"
    name: "resources"
    description: "Configures resource allocation and limits for the gateway."
  requests:
    cpu:
      __metadata:
        label: "CPU request"
        description: "The minimum required CPU core. Specify integers, fractions (e.g. 0.5), or millicore values(e.g. 100m, where 100m is equivalent to .1 core)."
        type: "string"
        required: false
        hidden: false
        immutable: false
    memory:
      __metadata:
        label: "Memory request"
        description: "The minimum memory in bytes. Specify integers with one of these suffixes: E, P, T, G, M, K, or power-of-two equivalents: Ei, Pi, Ti, Gi, Mi, Ki."
        type: "string"
        required: false
        hidden: false
        immutable: false
  limits:
    cpu:
      __metadata:
        label: "CPU limit"
        description: "The upper limit of CPU core. Specify integers, fractions (e.g. 0.5), or millicores values(e.g. 100m, where 100m is equivalent to .1 core)."
        type: "string"
        required: false
        hidden: false
        immutable: false
    memory:
      __metadata:
        label: "Memory limit"
        description: "The memory upper limit in bytes. Specify integers with suffixes: E, P, T, G, M, K, or power-of-two equivalents: Ei, Pi, Ti, Gi, Mi, Ki."
        type: "string"
        required: false
        hidden: false
        immutable: false

arch:
  __metadata:
    label: "Architecture scheduling preferences"
    description: "Worker node architecture to deploy. (Supports AMD64 architecture only)"
    options:
    - label: "AMD64 platforms"
      value: "amd64"
    name: "Architecture"
    type: "string"
    immutable: true
    required: true
