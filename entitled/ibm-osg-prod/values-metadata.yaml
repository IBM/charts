## Metadata for IBM App Connect Enterprise Server configuration
## This metadata is used to augment the value.yaml to drive IPC UI for configuration of the Helm chart installation

# Image configuration metadata
replicaCount:
  __metadata:
    label: "Replica count"
    description: "Number of kubernetis pods for each service."
    type: "string"
    required: true

image:
  __metadata:
    label: "Docker image information"
    description: "Specify the image version to run."

  pullPolicy:
    __metadata:
      label: "Image pull policy"
      description: "The default pull policy is IfNotPresent which causes the Kubelet to skip pulling an image if it already exists."
      options:
      - label: 'Always'
        value: 'Always'
      - label: 'Never'
        value: 'Never'
      - label: 'IfNotPresent'
        value: 'IfNotPresent'
  tag:
    __metadata:
      label: "Image tag"
      description: "The tag which deployment uses."
      type: "string"
      required: true
  name:
    ui:
      __metadata:
        label: "OSG UI Docker image"
        description: "Docker registry image to pull for the OSG UI"
        type: "string"
        required: true
    api:
      __metadata:
        label: "OSG API Docker image"
        description: "Docker registry image to pull for the OSG API"
        type: "string"
        required: true
    flaskapi:
      __metadata:
        label: "OSG Flask API image"
        description: "Docker registry image to pull for the Flask API"
        type: "string"
        required: true
    db:
      __metadata:
        label: "OSG DB image"
        description: "Docker registry image to pull for the OSG DB"
        type: "string"
        required: true
global:
  __metadata:
    label: "global parameters"
    description: " Details which globally defined"
  architecture:
    __metadata:
      label: "Architecture scheduling preference"
      description: "Architecture scheduling preference for worker node (only amd64 supported)"
      type: "string"
      immutable: true
      required: true
      hidden: true
  userId:
    __metadata:
      label: "OSG user Id"
      description: "User Id where OSG is running"
      type: "string"
      required: true
  defaultRole:
    __metadata:
      label: "Defines the access role the dashboard will use"
      description: "Defines the access role the dashboard will use for all operations"
      options:
      - label: 'Administrator'
        value: 'admin'
      - label: 'Operator'
        value: 'operator'
      - label: 'Viewer'
        value: 'viewer'
      - label: 'Editor'
        value: 'editor'
      - label: 'Auditor'
        value: 'audit'
resources:
  __metadata:
    label: "Resources"
    description: "Resource information to run the service."
  requests:
    cpu:
      __metadata:
        label: "CPU"
        description: "Number of cpu to run the service"
        type: "string"
        required: true
    memory:
      __metadata:
        label: "Memory"
        description: "Memory details for the service"
        type: "string"
        required: true
  limits:
    cpu:
      __metadata:
        label: "CPU"
        description: "Number of cpu to run the service"
        type: "string"
        required: true
    memory:
      __metadata:
        label: "Memory"
        description: "Memory details for the service"
        type: "string"
        required: true

autoscaling:
  __metadata:
    label: "AutoScaling"
    description: "AutoScaling information to run the service."
  maxReplicas:
    __metadata:
      label: "MaxReplicas"
      description: "Autoscaling MaxReplicas to be set"
      type: "string"
      required: true
  minReplicas:
    __metadata:
      label: "MinReplicas"
      description: "Autoscaling MinReplicas to be set"
      type: "string"
      required: true
  targetCPUUtilizationPercentage:
    __metadata:
      label: "CPUUtilizationPercentage"
      description: "Autoscaling CPU Utilization Percentage to be set"
      type: "string"
      required: true
