{{ $licenseCheck := default .Values.license .Values.global.license }}
{{- if ne $licenseCheck "accept" -}}
{{ fail "You have not accepted the terms of the license agreement. You must review and accept the terms by setting license=accept" }}
{{- end -}}
{{- include "sch.config.init" (list . "asm.sch.chart.config.values") -}}
apiVersion: v1
kind: ConfigMap
metadata:
  name: "{{ .Release.Name }}-global-config"
  labels:
    app: {{ include "sch.names.appName" (list .) }}
    chart: {{ .Chart.Name }}-{{ .Chart.Version | replace "+" "_" }}
    release: {{ .Release.Name }}
    heritage: {{ .Release.Service }}
data:
  tenant_id: cfd95b7e-3bc7-4006-a4a8-a73a79c71255
  release_name: {{ .Release.Name }}
  license: {{ $licenseCheck }}
