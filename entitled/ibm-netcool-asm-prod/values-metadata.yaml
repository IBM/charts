################################################################################
#
# FEATURE TOGGLES
#
# Feature toggles are in the 'asm' namespace, so that the same keys are used to
# toggle features, if this chart is being deployed as-is, or as a subchart of
# something else.
#
################################################################################
asm:
  __metadata:
    label: "ASM"
    description: "ASM options and feature selections"
  cassandra:
    enabled:
      __metadata:
        label: "Deploy Cassandra"
        description: "Do you want to deploy Cassandra (default = true)?"
        type: "boolean"
        hidden: true
  elasticsearch:
    enabled:
      __metadata:
        label: "Deploy Elasticsearch"
        description: "Do you want to deploy Elasticsearch (default = true)?"
        type: "boolean"
        hidden: true
  kafka:
    enabled:
      __metadata:
        label: "Deploy Kafka"
        description: "Do you want to deploy Kafka (default = true)?"
        type: "boolean"
        hidden: true
  zookeeper:
    enabled:
      __metadata:
        label: "Deploy Zookeeper"
        description: "Do you want to deploy Zookeeper (default = true)?"
        type: "boolean"
        hidden: true
  layout:
    enabled:
      __metadata:
        label: "Deploy Layout"
        description: "Do you want to deploy Layout (default = true)?"
        type: "boolean"
        hidden: true
  merge:
    enabled:
      __metadata:
        label: "Deploy Merge"
        description: "Do you want to deploy Merge (default = true)?"
        type: "boolean"
        hidden: true
  search:
    enabled:
      __metadata:
        label: "Deploy Search"
        description: "Do you want to deploy Search (default = true)?"
        type: "boolean"
        hidden: true
  topology:
    enabled:
      __metadata:
        label: "Deploy Topology"
        description: "Do you want to deploy Topology (default = true)?"
        type: "boolean"
        hidden: true
  secretManager:
    enabled:
      __metadata:
        label: "Enable the secret manager?"
        description: "This should not be disabled."
        type: "boolean"
        hidden: true
  noi:
    enabled:
      __metadata:
        label: "Deploy Netcool/OMNIbus Gateway and Probe for Message Bus"
        description: "Do you want to deploy Netcool/OMNIbus Gateway and Probe for Message Bus (default = true)?"
        type: "boolean"
  almObserver:
    enabled:
      __metadata:
        label: "Deploy ALM Observer"
        description: "Do you want to deploy ALM Observer (default = false)?"
        type: "boolean"
  appdynamicsObserver:
    enabled:
      __metadata:
        label: "Deploy AppDynamics Observer"
        description: "Do you want to deploy AppDynamics Observer (default = false)?"
        type: "boolean"
  awsObserver:
    enabled:
      __metadata:
        label: "Deploy AWS Observer"
        description: "Do you want to deploy AWS Observer (default = false)?"
        type: "boolean"
  azureObserver:
    enabled:
      __metadata:
        label: "Deploy Microsoft Azure Observer"
        description: "Do you want to deploy Microsoft Azure Observer (default = false)?"
        type: "boolean"
  bigfixinventoryObserver:
    enabled:
      __metadata:
        label: "Deploy BigFix Inventory Observer"
        description: "Do you want to deploy BigFix Inventory Observer (default = false)?"
        type: "boolean"
  cienablueplanetObserver:
    enabled:
      __metadata:
        label: "Deploy Ciena Blue Planet Observer"
        description: "Do you want to deploy Ciena Blue Planet Observer (default = false)?"
        type: "boolean"
  ciscoaciObserver:
    enabled:
      __metadata:
        label: "Deploy Cisco ACI Observer"
        description: "Do you want to deploy Cisco ACI Observer (default = false)?"
        type: "boolean"
  contrailObserver:
    enabled:
      __metadata:
        label: "Deploy Juniper Contrail Observer"
        description: "Do you want to deploy Juniper Contrail Observer (default = false)?"
        type: "boolean"
  dockerObserver:
    enabled:
      __metadata:
        label: "Deploy Docker Observer"
        description: "Do you want to deploy Docker Observer (default = false)?"
        type: "boolean"
  dnsObserver:
    enabled:
      __metadata:
        label: "Deploy DNS Observer"
        description: "Do you want to deploy DNS Observer (default = false)?"
        type: "boolean"
  dynatraceObserver:
    enabled:
      __metadata:
        label: "Deploy Dynatrace Observer"
        description: "Do you want to deploy Dynatrace Observer (default = false)?"
        type: "boolean"
  eventObserver:
    enabled:
      __metadata:
        label: "Deploy Event Observer"
        description: "Do you want to deploy Event Observer (default = true)?"
        type: "boolean"
        hidden: true
  fileObserver:
    enabled:
      __metadata:
        label: "Deploy File Observer"
        description: "Do you want to deploy File Observer (default = false)?"
        type: "boolean"
  googlecloudObserver:
    enabled:
      __metadata:
        label: "Deploy Google Cloud Platform Observer"
        description: "Do you want to deploy Google Cloud Platform Observer (default = false)?"
        type: "boolean"
  ibmcloudObserver:
    enabled:
      __metadata:
        label: "Deploy IBM Cloud Observer"
        description: "Do you want to deploy IBM Cloud Observer (default = false)?"
        type: "boolean"
  itnmObserver:
    enabled:
      __metadata:
        label: "Deploy ITNM Observer"
        description: "Do you want to deploy ITNM Observer (default = false)?"
        type: "boolean"
  junipercsoObserver:
    enabled:
      __metadata:
        label: "Deploy Juniper Networks CSO Observer"
        description: "Do you want to deploy Juniper Networks CSO Observer (default = false)?"
        type: "boolean"
  kubernetesObserver:
    enabled:
      __metadata:
        label: "Deploy Kubernetes Observer"
        description: "Do you want to deploy Kubernetes Observer (default = true)?"
        type: "boolean"
        hidden: true
  newrelicObserver:
    enabled:
      __metadata:
        label: "Deploy New Relic Observer"
        description: "Do you want to deploy New Relic Observer (default = false)?"
        type: "boolean"
  openstackObserver:
    enabled:
      __metadata:
        label: "Deploy OpenStack Observer"
        description: "Do you want to deploy OpenStack Observer (default = false)?"
        type: "boolean"
  restObserver:
    enabled:
      __metadata:
        label: "Deploy REST Observer"
        description: "Do you want to deploy REST Observer (default = false)?"
        type: "boolean"
  # sdkObserver:
  #   enabled:
  #     __metadata:
  #       label: "Deploy SDK Observer"
  #       description: "Do you want to deploy SDK Observer (default = false)?"
  #       type: "boolean"
  servicenowObserver:
    enabled:
      __metadata:
        label: "Deploy ServiceNow Observer"
        description: "Do you want to deploy ServiceNow Observer (default = false)?"
        type: "boolean"
  taddmObserver:
    enabled:
      __metadata:
        label: "Deploy TADDM Observer"
        description: "Do you want to deploy TADDM Observer (default = false)?"
        type: "boolean"
  vmvcenterObserver:
    enabled:
      __metadata:
        label: "Deploy VMware VCenter Observer"
        description: "Do you want to deploy VMware VCenter Observer (default = false)?"
        type: "boolean"
  vmwarensxObserver:
    enabled:
      __metadata:
        label: "Deploy VMware NSX Observer"
        description: "Do you want to deploy VMware NSX Observer (default = false)?"
        type: "boolean"
  zabbixObserver:
    enabled:
      __metadata:
        label: "Deploy Zabbix Observer"
        description: "Do you want to deploy Zabbix Observer (default = false)?"
        type: "boolean"
  uiApi:
    enabled:
      __metadata:
        label: "Deploy UI API"
        description: "Do you want to deploy UI API (default = true)?"
        type: "boolean"
        hidden: true

################################################################################
#
# GLOBAL SETTINGS
#
################################################################################
global:
  __metadata:
    label: "Global Settings"
    description: "Global settings for all components"
  asm:
    disableHTTPS:
      __metadata:
        label: "Disable HTTPS"
        description: "Do you want to disable TLS in ASM services?"
        type: "boolean"
        hidden: true
    authentication:
      __metadata:
        label: "ASM Authentication"
        description: "Enable auth for ASM services?"
        type: "boolean"
        hidden: true
    historyTtlHours:
      __metadata:
        label: "Resource Time to Live (TTL)"
        description: "TTL of resource information, given in hours. Minimum 12 hours. Increasing beyond 720 (30 days) may adversely affect performance"
        type: "number"
        hidden: true
    statusConsumerCount:
      __metadata:
        label: "Event kafka consumers"
        description: "The number of kafka consumers for events on the status.json topic. Increasing can improve event ingestion capability"
        type: "number"
        hidden: true
  image:
    repository:
      __metadata:
        label: "Repository"
        description: "Docker image registry"
        type: "string"
    pullPolicy:
      __metadata:
        label: "Image pull policy"
        description: "The default pull policy is IfNotPresent which causes the Kubelet to skip pulling an image if it already exists."
        options:
        - label: 'Always'
          value: 'Always'
        - label: 'IfNotPresent'
          value: 'IfNotPresent'
  environmentSize:
    __metadata:
      label: "Deployment type"
      description: "'Minimal' requests fewer resources and is suitable for test and demo. Choose 'Production' for a production deployment."
      type: "string"
      required: true
      options:
      - label: Minimal
        value: size0
      - label: Production
        value: size1
  ingress:
    api:
      enabled:
        __metadata:
          label: "Enable ingress for application endpoints?"
          description: "Do you want to create ingress rules for the ASM application endpoints?"
          type: "boolean"
    admin:
      enabled:
        __metadata:
          label: "Enable ingress for admin endpoints?"
          description: "Do you want to create ingress rules for the ASM admin endpoints?"
          type: "boolean"
          hidden: true
          immutable: true
    domain:
      __metadata:
        label: "Ingress hostname"
        description: "Optional hostname to bind to the ingress rules, which must resolve to an proxy node."
        type: "string"
    tlsSecret:
      __metadata:
        label: "Ingress TLS secret"
        description: "Optional TLS secret for the ingress hostname."
        type: "string"
  license:
    __metadata:
      label: "License (alternate)"
      description: "Have you read and agree to the License agreement?"
      type: "string"
      hidden: true
      immutable: true
  persistence:
    enabled:
      __metadata:
        label: "Persistent storage"
        description: "Do you want to persist data? Only set to false for test/demo installations."
        type: "boolean"
    supplementalGroups:
      __metadata:
        label: "Supplemental Groups"
        description: "A list of groups applied to the first process run in each container. Add the NFS group id here."
        type: "string"
        hidden: true
    storageClassOption:
      cassandrabak:
        __metadata:
          label: "Cassandra backup storage class"
          description: "Change this option if you want a separate volume for Cassandra backups"
          type: "string"
          hidden: true
      # cassandradata:
      #   __metadata:
      #     label: "Cassandra data storage class"
      #     description: "Change this option if you want a different storage class for Cassandra data"
      #     type: "string"
      #     hidden: true
      # kafkadata:
      #   __metadata:
      #     label: "Kafka data storage class"
      #     description: "Change this option if you want a different storage class for Kafka data"
      #     type: "string"
      #     hidden: true
      # zookeeperdata:
      #   __metadata:
      #     label: "Zookeeper data storage class"
      #     description: "Change this option if you want a different storage class for Zookeeper data"
      #     type: "string"
      #     hidden: true
    storageSize:
      # cassandrabak:
      #   __metadata:
      #     label: "Storage size for Cassandra backups"
      #     description: "You can change the default storage requirements here, e.g. 50Gi"
      #     type: "string"
      #     hidden: true
      cassandradata:
        __metadata:
          label: "Storage size for Cassandra"
          description: "You can change the default storage requirements here, e.g. 50Gi"
          type: "string"
      kafkadata:
        __metadata:
          label: "Storage size for Kafka"
          description: "You can change the default storage requirements here, e.g. 15Gi"
          type: "string"
      elasticdata:
        __metadata:
          label: "Storage size for Elasticsearch"
          description: "You can change the default storage requirements here, e.g. 75Gi"
          type: "string"
      zookeeperdata:
        __metadata:
          label: "Storage size for Zookeeper"
          description: "You can change the default storage requirements here, e.g. 5Gi"
          type: "string"

  cassandraNodeReplicas:
    __metadata:
      label: "Cassandra cluster size"
      description: "How many instances do you want to deploy?"
      hidden: true
  cassandra:
    superuserRole:
       __metadata:
         label: "Non-default superuser role"
         description: "Should we load credentials from a secret?"
         type: "boolean"
         hidden: true
  elasticsearch:
    replicaCount:
      __metadata:
        hidden: true
        label: "Elasticsearch cluster size"
        description: "How many instances do you want to deploy?"
  kafka:
    kafkaRestInsecurePort:
      __metadata:
        label: "port for kafka rest"
        description: "option allows migration to new kafkarest port"
        hidden: true
    usePodIpForListeners:
      __metadata:
        hidden: true
        label: "Kafka listener config"
        description: "Use pod IP address instead of hostname?"
    clusterSize:
      __metadata:
        hidden: true
        label: "Kafka cluster size"
        description: "How many instances do you want to deploy?"
  zookeeper:
    clusterSize:
      __metadata:
        hidden: true
        label: "Zookeeper cluster size"
        description: "How many instances do you want to deploy?"
kafka:
  __metadata:
    label: " "
    description: "  "
  arch:
    __metadata:
      label: "Architecture"
      description: "only amd64 for now."
      type: "string"
      hidden: true
  defaultTopicPartitions:
    __metadata:
      label: "Default topic partitions"
      description: "The default number of log partitions per topic. More partitions allow greater parallelism for consumption."
      type: "number"
      hidden: true
  sch:
    enabled:
      __metadata:
        hidden: true
        label: "Kafka's sch variable"
        description: "Variable to enable/disable sch subchart's dependency"
        type: "boolean"

cassandra:
  __metadata:
    label: " "
    description: "  "
  arch:
    __metadata:
      label: "Architecture"
      description: "only amd64 for now."
      type: "string"
      hidden: true
  seeds:
    __metadata:
      label: "Seeds"
      description: "The method used by Cassandra to verify the IP addresses of the seed nodes. This parameter cannot be changed."
      type: "string"
      hidden: true
      immutable: true
      options:
      - label: "Verify the IP adresses of the seed nodes using Kubernetes API"
        value: "CUSTOM_KUBERNETES_STATEFULSET_SEED_LIST_API"
  sch:
    enabled:
      __metadata:
        hidden: true
        label: "Cassandra's sch variable"
        description: "Variable to enable/disable sch subchart's dependency"
        type: "boolean"

zookeeper:
  __metadata:
    label: " "
    description: "  "
  arch:
    __metadata:
      label: "Architecture"
      description: "only amd64 for now."
      type: "string"
      hidden: true
  sch:
    enabled:
      __metadata:
        hidden: true
        label: "Zookeeper's sch variable"
        description: "Variable to enable/disable sch subchart's dependency"
        type: "boolean"

noi:
  __metadata:
    label: "NOI"
    description: "Required configuration to connect to a deployment of ibm-netcool-prod"
  releaseName:
    __metadata:
      label: "Release name"
      description: "To integrate with NOI, ASM must be deployed in the same namespace. Enter the helm release name for the NOI deployment."
      type: "string"

license:
  __metadata:
    label: "License"
    description: "Have you read and agree to the License agreement?"
    type: "string"
    required: true
    hidden: false
    options:
    - label: "Not Accepted"
      value: "notaccepted"
    - label: "Accept"
      value: "accept"
