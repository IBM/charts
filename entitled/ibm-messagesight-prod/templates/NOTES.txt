{{- $len := .Values.global.virtualIP | len -}}
{{- if .Values.global.messagesightEnabled -}}
{{- $adminPort := .Values.messagesight.adminPort }}
{{- if .Values.global.messagesightuiEnabled }}
For IBM IoT MessageSight Server
{{ end -}}

{{- if eq 1 $len -}}
1. For access to the REST API and to configure the Web UI to access the server, specify the following IP address:
{{- else -}}
1. For access to the REST API and to configure the Web UI to access the server, specify one of the following IP addresses:
{{- end }}
    {{- range  .Values.global.virtualIP }} 
   - {{ . }} {{ end }}
{{- if eq 1 $len }}

2. Use the following URL to access the REST API (NOTE: Use https if you have enabled TLS for the admin endpoint)
{{- else }}

2. Use one of the following URLs to access the REST API (NOTE: Use https if you have enabled TLS for the admin endpoint)
{{- end }}
   {{- range  .Values.global.virtualIP  }} 
   http://{{ . }}:{{ $adminPort }} {{ end }}
   
{{- if eq 1 $len }}

To verify your server install, you can visit this URL to see the default index page.  (After you install, you can optionally disable this index page using the EnableAbout property setting for the endpoint.)
   
{{- else }}

To verify your server install, you can visit any of these URLs to see the default index page.  (After you install, you can optionally disable this index page using the EnableAbout property setting for the endpoint.)

{{- end }}
{{ end }}

{{ if .Values.global.messagesightuiEnabled -}}
{{- $webuiPort := .Values.messagesightui.webuiPort }}
{{- if .Values.global.messagesightEnabled -}}
For IBM IoT MessageSight Web UI
{{ end -}}
{{- if eq 1 $len -}}
1. Visit the following URL to log into the Web UI:
{{- else -}}
1. Visit one of the following URLs to log into the Web UI:
{{- end -}}
   {{- range  .Values.global.virtualIP }}
   https://{{ . }}:{{ $webuiPort }} {{ end }}
{{ end }}
