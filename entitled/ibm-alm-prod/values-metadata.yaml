################################################################################
#
# GLOBAL SETTINGS
#
################################################################################
global:
  __metadata:
    label: "Global Settings"
    description: "Global settings for all components"
  image:
    repository:
      __metadata:
        label: "ALM image Repository"
        description: "Docker registry to pull ALM images from"
        type: "string"
    pullPolicy:
      __metadata:
        label: "Image pull policy"
        description: "The default pull policy is IfNotPresent which causes the Kubelet to skip pulling an image if it already exists."
        options:
        - label: 'Always'
          value: 'Always'
        - label: 'Never'
          value: 'Never'
        - label: 'IfNotPresent'
          value: 'IfNotPresent'
        hidden: true
  environmentSize:
    __metadata:
      label: "Deployment type"
      description: "'Minimal' requests fewer resources and is suitable for test and demo. Choose 'Production' for a production deployment."
      type: "string"
      required: true
      options:
      - label: Minimal
        value: size0
      - label: Production
        value: size1
  ingress:
    domain:
      __metadata:
        label: "Ingress hostname"
        description: "Optional hostname to bind to the ingress rules, which must resolve to a proxy node."
        type: "string"
    tlsSecret:
      __metadata:
        label: "Ingress TLS secret"
        description: "Optional TLS secret for the ingress hostname."
        type: "string"
  persistence:
    enabled:
      __metadata:
        label: "Enable persistence storage for ALM"
        description: "Select this checkbox to store ALM data on a persistent volume so that the data is preserved if the pod is stopped."
        type: "boolean"
    supplementalGroups:
      __metadata:
        label: "Supplemental Groups"
        description: "A list of groups applied to the first process run in each container. Add the NFS group id here."
        type: "string"
        hidden: true
    storageClassOption:
      cassandrabak:
        __metadata:
          label: "Cassandra backup storage class"
          description: "Change this option if you want a separate volume for Cassandra backups"
          type: "string"
          hidden: true
    storageSize:
      cassandradata:
        __metadata:
          label: "Storage size for Cassandra"
          description: "You can change the default storage requirements here, e.g. 150Gi"
          type: "string"
      kafkadata:
        __metadata:
          label: "Storage size for Kafka"
          description: "You can change the default storage requirements here, e.g. 300Gi"
          type: "string"
      elasticdata:
        __metadata:
          label: "Storage size for Elasticsearch"
          description: "You can change the default storage requirements here, e.g. 70Gi"
          type: "string"
      zookeeperdata:
        __metadata:
          label: "Storage size for Zookeeper"
          description: "You can change the default storage requirements here, e.g. 30Gi"
          type: "string"

  cassandraNodeReplicas:
    __metadata:
      hidden: true
      label: "Cassandra cluster size"
      description: "How many instances do you want to deploy?"
      type: "number"
  # cassandra:
  #   clientEncryption:
  #     __metadata:
  #       label: "Cassandra Client Encryption"
  #       description: "Is client encryption enabled in Cassandra?"
  #       type: "boolean"
  elasticsearch:
    replicaCount:
      __metadata:
        hidden: true
        label: "Elasticsearch cluster size"
        description: "How many instances do you want to deploy?"
        type: "number"
  kafka:
    clusterSize:
      __metadata:
        hidden: true
        label: "Kafka cluster size"
        description: "How many instances do you want to deploy?"
        type: "number"

  security:
    enabled:
      __metadata:
        label: "enable sec? "
        description: "this should be hidden or removed"
        type: "boolean"
        hidden: true
    almCerts:
      secretName:
        __metadata:
          label: "ALM Certificates and Keystore Secret"
          description: "Option to use an existing secret for the ALM application certificates and keystore."
          type: "string"
    almCredentials:
      secretName:
        __metadata:
          label: "ALM Credentials Secret"
          description: "Option to use an existing secret for the ALM application credentials."
          type: "string"
    ldapConfig:
      secretName:
        __metadata:
          label: "LDAP Configuration Secret"
          description: "Option to use an existing LDAP server. Provide the name of the secret with alternate LDAP config."
          type: "string"
    vaultCerts:
      secretName:
        __metadata:
          label: "Vault Certificates Secret"
          description: "Option to use an existing secret for the Vault certificates."
          type: "string"
  zookeeper:
    clusterSize:
      __metadata:
        hidden: true
        label: "Zookeeper cluster size"
        description: "How many instances do you want to deploy?"
        type: "number"

  rbac:
    create:
      __metadata:
        hidden: true
        label: "Create required role bindings?"
        description: "Do you want to create the required role bindings? Disable this if you do not have permissions to create them."
        type: "boolean"

cassandra:
  __metadata:
    label: " "
    description: "  "
  seeds:
    __metadata:
      label: "Seeds"
      description: "The method used by Cassandra to verify the IP addresses of the seed nodes. This parameter cannot be changed."
      type: "string"
      hidden: true
      immutable: true
      options:
      - label: "Verify the IP adresses of the seed nodes using Kubernetes API"
        value: "CUSTOM_KUBERNETES_STATEFULSET_SEED_LIST_API"
        
# apollo:
#   __metadata:
#     label: "Apollo"
#     description: "Repository service for service specifications. Contains both components from resource managers and services created through the designer."
#   app:
#     numReplicas:
#       __metadata:
#         hidden: true
#         label: "Cluster size"
#         description: "How many instances do you want to deploy?"
#         type: "number"
#
# conductor:
#   __metadata:
#     label: "Conductor"
#     description: "Conductor is a management service containing configuration server, service registry, etc."
#   app:
#     numReplicas:
#       __metadata:
#         hidden: true
#         label: "Cluster size"
#         description: "How many instances do you want to deploy?"
#         type: "number"
#
# daytona:
#   __metadata:
#     label: "Daytona"
#     description: "Daytona is a service responsible for the orchestration of lifecycle requests on service instances."
#   app:
#     numReplicas:
#       __metadata:
#         hidden: true
#         label: "Cluster size"
#         description: "How many instances do you want to deploy?"
#         type: "number"
#
# galileo:
#   __metadata:
#     label: "Galileo"
#     description: "Galileo is a service responsible for storing assembly topologies."
#   app:
#     numReplicas:
#       __metadata:
#         hidden: true
#         label: "Cluster size"
#         description: "How many instances do you want to deploy?"
#         type: "number"
#
# ishtar:
#   __metadata:
#     label: "Ishtar"
#     description: "Ishtar is north-bound public API into Agile Lifecycle Manager"
#   app:
#     numReplicas:
#       __metadata:
#         hidden: true
#         label: "Cluster size"
#         description: "How many instances do you want to deploy?"
#         type: "number"
#
#
# nimrod:
#   __metadata:
#     label: "Nimrod"
#     description: "Nimrod is the user interface for Agile Lifecycle Manager"
#   app:
#     numReplicas:
#       __metadata:
#         hidden: true
#         label: "Cluster size"
#         description: "How many instances do you want to deploy?"
#         type: "number"
#
# relay:
#   __metadata:
#     label: "Relay"
#     description: "What the heck is relay?"
#   app:
#     numReplicas:
#       __metadata:
#         hidden: true
#         label: "Cluster size"
#         description: "How many instances do you want to deploy?"
#         type: "number"
#
# talledega:
#   __metadata:
#     label: "Talledega"
#     description: "What is talledega?"
#   app:
#     numReplicas:
#       __metadata:
#         label: "Cluster size"
#         description: "How many instances do you want to deploy?"
#         type: "number"
#
# watchtower:
#   __metadata:
#     hidden: true
#     label: "Watchtower"
#     description: "Watchtower is a service to manage the health and policies of resources and assemblies"
#   app:
#     numReplicas:
#       __metadata:
#         label: "Cluster size"
#         description: "How many instances do you want to deploy?"
#         type: "number"
#
# vault:
#   __metadata:
#     label: "Vault"
#     description: "Vault secures, stores, and tightly controls access to tokens, passwords, certificates, API keys, and other secrets in modern computing."
#   replicaCount:
#     __metadata:
#       hidden: true
#       label: "Cluster size"
#       description: "How many instances do you want to deploy?"
#       type: "number"
#
# zookeeper:
#   __metadata:
#     label: "Zookeeper"
#     description: "ZooKeeper is a centralized service for maintaining configuration information, and is required for Kafka and Vault."
#   clusterSize:
#     __metadata:
#       hidden: true
#       label: "Cluster size"
#       description: "How many instances do you want to deploy?"
#       type: "number"
