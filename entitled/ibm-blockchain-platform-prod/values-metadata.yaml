# Â© Copyright IBM Corporation 2018
#
# Licensed under the Apache License, Version 2.0 (the "License");
# you may not use this file except in compliance with the License.
# You may obtain a copy of the License at
#
# http://www.apache.org/licenses/LICENSE-2.0
#
# Unless required by applicable law or agreed to in writing, software
# distributed under the License is distributed on an "AS IS" BASIS,
# WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
# See the License for the specific language governing permissions and
# limitations under the License.


---
license:
  __metadata:
    label: "License"
    type: "string"
    description: "Set to accept to indicate that you accept the terms of the license"
    required: true
    options:
    - label: "Accepted"
      value: "accept"
    - label: "Not accepted"
      value: "not_accepted"
arch:
  __metadata:
      name: "arch"
      label: "Architecture"
      description: "Select your cloud platform architecture"
      type: "string"
      immutable: false
      required: true
      options:
        - label: "AMD64"
          value: "amd64"
        - label: "S390x"
          value: "s390x"
app:
  __metadata:
    name: "app"
    label: "Console settings"
    description: "Administration and deployment of your console"
  multiArch:
    __metadata:
        name: "multiArch"
        label: "Multi architecture support"
        description: "Whether or not images are multi arch supported"
        type: "boolean"
        immutable: false
        required: false
        hidden: true
  proxyIP:
    __metadata:
        name: "ProxyIP"
        label: "Proxy IP"
        description: "IP address of the proxy node in your cluster"
        type: "string"
        immutable: false
        required: true
  serviceAccountName:
    __metadata:
        name: "serviceAccountName"
        label: "serviceAccount name"
        description: "Name of the service account to be used"
        type: "string"
        immutable: false
        required: false
  authscheme:
    __metadata:
        name: "authscheme"
        label: "Auth scheme"
        description: "Authorization scheme to be used for console UI"
        type: "string"
        immutable: false
        required: false
        hidden: true
  configtxlator:
    __metadata:
        name: "configtxlator"
        label: "Configtxlator endpoint"
        description: "Configtxlator endpoint that console UI will point to"
        type: "string"
        immutable: false
        required: false
        hidden: true
  deployerURL:
    __metadata:
        name: "deployerURL"
        label: "Deployer URL"
        description: "Deployer URL that console UI will make api calls to"
        type: "string"
        immutable: false
        required: false
        hidden: true
  deployerTimeout:
    __metadata:
        name: "deployerTimeout"
        label: "Deployer timeout"
        description: "Timeout for deployer api calls"
        type: "string"
        immutable: false
        required: false
        hidden: true
  db:
    sidecar:
      __metadata:
        name: "sidecar"
        label: "DB as sidecar"
        description: "Should DB be run as sidecar or not"
        type: "boolean"
        immutable: false
        required: false
        hidden: true
    components:
      __metadata:
        name: "components"
        label: "Components database name"
        description: "Name of the components database"
        type: "string"
        immutable: false
        required: false
        hidden: true
    sessions:
      __metadata:
        name: "sessions"
        label: "Sessions database name"
        description: "Name of the sessions database"
        type: "string"
        immutable: false
        required: false
        hidden: true
    system:
      __metadata:
        name: "system"
        label: "System database name"
        description: "Name of the system database"
        type: "string"
        immutable: false
        required: false
        hidden: true
    connectionString:
      __metadata:
        name: "connectionString"
        label: "Connection String"
        description: "Connection String for database"
        type: "string"
        immutable: false
        required: false
        hidden: true
  email:
    __metadata:
        name: "email"
        label: "Console administrator email"
        description: "Email used to login to the console"
        type: "string"
        immutable: false
        required: true
  extraConfig:
    __metadata:
        name: "extraConfig"
        label: "Extra config"
        description: "Extra config to be passed to console"
        type: "string"
        immutable: false
        required: false
        hidden: true
  systemChannel:
    __metadata:
        name: "systemChannel"
        label: "System channel name"
        description: "Name of the channel used by your ordering service"
        type: "string"
        immutable: false
        required: false
        hidden: true
  passwordSecretName:
    __metadata:
        name: "passwordSecretName"
        label: "Console administrator password secret name"
        description: " Name of the secret that you created to store the password that you will use to login to the console"
        type: "string"
        immutable: false
        required: true
  proxying:
    __metadata:
      name: "proxying"
      label: "Run proxying"
      description: "Should proxying be run"
      type: "boolean"
      immutable: false
      required: false
      hidden: true
  serviceType:
    __metadata:
        name: "type"
        label: "Service type"
        description: "Select NodePort to expose the ports externally (recommended). Select ClusterIP to not expose the ports"
        type: "string"
        immutable: false
        required: false
        hidden: true
image:
  __metadata:
    name: "image"
    label: "Docker image settings"
    description: "Use these settings to customize the Fabric images to be pulled by the console"
  imagePullSecret:
    __metadata:
        name: "imagePullSecret"
        label: "imagePullSecret name"
        description: "imagePullSecret to be used to download images"
        type: "string"
        immutable: false
        required: false
  optoolsImage:
    __metadata:
        name: "optoolsImage"
        label: "Console image"
        description: "Console image to be used"
        type: "string"
        immutable: false
        required: false
        hidden: true
  optoolsTag:
    __metadata:
        name: "optoolsTag"
        label: "Console tag"
        description: "Console tag to be used"
        type: "string"
        immutable: false
        required: false
        hidden: true
  configtxlatorImage:
    __metadata:
        name: "configtxlatorImage"
        label: "Configtxlator image"
        description: "Configtxlator image to be used"
        type: "string"
        immutable: false
        required: false
        hidden: true
  configtxlatorTag:
    __metadata:
        name: "configtxlatorTag"
        label: "Configtxlator tag"
        description: "Configtxlator tag to be used"
        type: "string"
        immutable: false
        required: false
        hidden: true
  couchdbImage:
    __metadata:
        name: "couchdbImage"
        label: "CouchDB image"
        description: "CouchDB image to be used"
        type: "string"
        immutable: false
        required: false
        hidden: true
  couchdbTag:
    __metadata:
        name: "couchdbTag"
        label: "CouchDB tag"
        description: "CouchDB tag to be used"
        type: "string"
        immutable: false
        required: false
        hidden: true
  operatorImage:
    __metadata:
        name: "operatorImage"
        label: "Operator image"
        description: "Operator image to be used"
        type: "string"
        immutable: false
        required: false
        hidden: true
  operatorTag:
    __metadata:
        name: "operatorTag"
        label: "Operator tag"
        description: "Operator tag to be used"
        type: "string"
        immutable: false
        required: false
        hidden: true
  deployerImage:
    __metadata:
        name: "deployerImage"
        label: "Deployer image"
        description: "Deployer image to be used"
        type: "string"
        immutable: false
        required: false
        hidden: true
  deployerTag:
    __metadata:
        name: "deployerTag"
        label: "Deployer tag"
        description: "Deployer tag to be used"
        type: "string"
        immutable: false
        required: false
        hidden: true
  initImage:
    __metadata:
        name: "initImage"
        label: "Init image"
        description: "Init image to be used"
        type: "string"
        immutable: false
        required: false
        hidden: true
  initTag:
    __metadata:
        name: "initTag"
        label: "Init tag"
        description: "Init tag to be used"
        type: "string"
        immutable: false
        required: false
        hidden: true
  peerImage:
    __metadata:
        name: "peerImage"
        label: "Peer image"
        description: "Peer image to be used"
        type: "string"
        immutable: false
        required: false
        hidden: true
  peerTag:
    __metadata:
        name: "peerTag"
        label: "Peer tag"
        description: "Peer tag to be used"
        type: "string"
        immutable: false
        required: false
        hidden: true
  caImage:
    __metadata:
        name: "caImage"
        label: "CA image"
        description: "CA image to be used"
        type: "string"
        immutable: false
        required: false
        hidden: true
  caTag:
    __metadata:
        name: "caTag"
        label: "CA tag"
        description: "CA tag to be used"
        type: "string"
        immutable: false
        required: false
        hidden: true
  ordererImage:
    __metadata:
        name: "ordererImage"
        label: "Orderer image"
        description: "Orderer image to be used"
        type: "string"
        immutable: false
        required: false
        hidden: true
  ordererTag:
    __metadata:
        name: "ordererTag"
        label: "Orderer tag"
        description: "Orderer tag to be used"
        type: "string"
        immutable: false
        required: false
        hidden: true
  dindImage:
    __metadata:
        name: "dindImage"
        label: "dind image"
        description: "Docker-in-docker image to be used"
        type: "string"
        immutable: false
        required: false
        hidden: true
  dindTag:
    __metadata:
        name: "dindTag"
        label: "Dind tag"
        description: "Docker-in-docker tag to be used"
        type: "string"
        immutable: false
        required: false
        hidden: true
  fluentdImage:
    __metadata:
        name: "fluentdImage"
        label: "Fluentd image"
        description: "Fluentd image to be used"
        type: "string"
        immutable: false
        required: false
        hidden: true
  fluentdTag:
    __metadata:
        name: "fluentdTag"
        label: "Fluentd tag"
        description: "Fluentd tag to be used"
        type: "string"
        immutable: false
        required: false
        hidden: true
  grpcwebImage:
    __metadata:
        name: "grpcwebImage"
        label: "grpcweb image"
        description: "Grpcweb image to be used"
        type: "string"
        immutable: false
        required: false
        hidden: true
  grpcwebTag:
    __metadata:
        name: "grpcwebTag"
        label: "grpcweb proxy tag"
        description: "Grpcweb proxy tag to be used"
        type: "string"
        immutable: false
        required: false
        hidden: true
ingress:
  __metadata:
    name: "ingress"
    label: "Network settings"
    description: "Network access to your console"
  optools:
    hostname:
      __metadata:
        name: "optools hostname"
        label: "Console hostname"
        description: "Enter the same value as the proxy IP"
        type: "string"
        immutable: false
        required: true
    port:
      __metadata:
        name: "optools port"
        label: "Console port"
        description: "Enter the port you would like to use between 31210-31220. This port cannot be used by another application"
        type: "string"
        immutable: false
        required: true
  proxy:
    hostname:
      __metadata:
        name: "proxy hostname"
        label: "Proxy hostname"
        description: "Enter the same value as the proxy IP"
        type: "string"
        immutable: false
        required: true
    port:
      __metadata:
        name: "proxy port"
        label: "Proxy port"
        description: "Enter any port you would like to use between 31210-31220. This port cannot be used by another application or the console"
        type: "string"
        immutable: false
        required: true
  tls:
    secret:
      __metadata:
        name: "secret"
        label: "TLS secret"
        description: "Name of the secret that you created to store the TLS certificate that will be used by the console."
        type: "string"
        immutable: false
        required: false
persistence:
  __metadata:
    name: "persistence"
    label: "data persistence"
    description: "Enable data persistence and dynamic provisioning"
  enabled:
    __metadata:
        name: "enabled"
        label: "Enable data persistence"
        description: "Check to enable the ability to persist data after cluster restarts or fails"
        type: "boolean"
        immutable: false
        required: false
        hidden: true
  useDynamicProvisioning:
    __metadata:
        name: "useDynamicProvisioning"
        label: "Enable dynamic provision"
        description: "Check to enable dynamic provisioning for storage volumes"
        type: "boolean"
        immutable: false
        required: false
        hidden: true
dataPVC:
  __metadata:
    name: "dataPVC"
    label: "Storage settings"
    description: "Storage to be used by your console"
  size:
    __metadata:
        name: "size"
        label: "Volume claim size"
        description: "Size of the Persistent Volume Claim to be provisioned"
        type: "string"
        immutable: false
        required: false
  storageClassName:
    __metadata:
        name: "storageClassName"
        label: "Storage class name"
        description: "Name of the storage class to be used by the console and when provisioning components"
        type: "string"
        immutable: false
        required: true
  accessMode:
    __metadata:
        name: "accessMode"
        label: "Storage access mode"
        description: "Specify the storage access mode for the PVC."
        type: "string"
        immutable: false
        required: false
resources:
  __metadata:
    name: "resources"
    label: "Allocate resources"
    description: "Allocate resources to the console and tools"
  optools:
    limits:
      cpu:
        __metadata:
          name: "cpu"
          label: "Opstools CPU limit"
          description: "Maximum number of CPUs to allocate to the opstools component"
          type: "string"
          immutable: false
          required: false
      memory:
        __metadata:
          name: "memory"
          label: "Opstools memory limit"
          description: "Maximum amount of memory to allocate to the opstools component"
          type: "string"
          immutable: false
          required: false
    requests:
      cpu:
        __metadata:
          name: "cpu"
          label: "Opstools CPU request"
          description: "Minimum number of CPUs to allocate to the opstools component"
          type: "string"
          immutable: false
          required: false
      memory:
        __metadata:
          name: "memory"
          label: "Opstools memory request"
          description: "Minimum amount of memory to allocate to opstools component"
          type: "string"
          immutable: false
          required: false
  configtxlator:
    limits:
      cpu:
        __metadata:
          name: "cpu"
          label: "Configtxlator CPU limit"
          description: "Maximum number of CPUs to allocate to the configtxlator tool"
          type: "string"
          immutable: false
          required: false
      memory:
        __metadata:
          name: "memory"
          label: "Configtxlator memory limit"
          description: "Maximum amount of memory to allocate to the configtxlator tool"
          type: "string"
          immutable: false
          required: false
    requests:
      cpu:
        __metadata:
          name: "cpu"
          label: "Configtxlator CPU request"
          description: "Minimum number of CPUs to allocate to the configtxlator tool"
          type: "string"
          immutable: false
          required: false
      memory:
        __metadata:
          name: "memory"
          label: "Configtxlator memory request"
          description: "Minimum amount of memory to allocate to the configtxlator tool"
          type: "string"
          immutable: false
          required: false
  couchdb:
    limits:
      cpu:
        __metadata:
          name: "cpu"
          label: "CouchDB CPU limit"
          description: "Maximum number of CPUs to allocate to couchdb"
          type: "string"
          immutable: false
          required: false
      memory:
        __metadata:
          name: "memory"
          label: "CouchDB memory limit"
          description: "Maximum amount of memory to allocate to couchdb"
          type: "string"
          immutable: false
          required: false
    requests:
      cpu:
        __metadata:
          name: "cpu"
          label: "CouchDB CPU request"
          description: "Minimum number of CPUs to allocate to couchdb"
          type: "string"
          immutable: false
          required: false
      memory:
        __metadata:
          name: "memory"
          label: "CouchDB memory request"
          description: "Minimum amount of memory to allocate to couchdb"
          type: "string"
          immutable: false
          required: false
  operator:
    limits:
      cpu:
        __metadata:
          name: "cpu"
          label: "Operator CPU limit"
          description: "Maximum number of CPUs to allocate to the operator component"
          type: "string"
          immutable: false
          required: false
      memory:
        __metadata:
          name: "memory"
          label: "Operator memory limit"
          description: "Maximum amount of memory to allocate to the operator component"
          type: "string"
          immutable: false
          required: false
    requests:
      cpu:
        __metadata:
          name: "cpu"
          label: "Operator CPU request"
          description: "Minimum number of CPUs to allocate to the operator component"
          type: "string"
          immutable: false
          required: false
      memory:
        __metadata:
          name: "memory"
          label: "Operator memory request"
          description: "Minimum amount of memory to allocate to the operator component"
          type: "string"
          immutable: false
          required: false
  deployer:
    limits:
      cpu:
        __metadata:
          name: "cpu"
          label: "Deployer CPU limit"
          description: "Maximum number of CPUs to allocate to the deployer component"
          type: "string"
          immutable: false
          required: false
      memory:
        __metadata:
          name: "memory"
          label: "Deployer memory limit"
          description: "Maximum amount of memory to allocate to the deployer component"
          type: "string"
          immutable: false
          required: false
    requests:
      cpu:
        __metadata:
          name: "cpu"
          label: "Deployer CPU request"
          description: "Minimum number of CPUs to allocate to the deployer component"
          type: "string"
          immutable: false
          required: false
      memory:
        __metadata:
          name: "memory"
          label: "Deployer memory request"
          description: "Minimum amount of memory to allocate to the deployer component"
          type: "string"
          immutable: false
          required: false
