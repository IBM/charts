revision: "2.0"

output-filename: "ibm-watson-nlu-prod-ppa-archive-1.1.0.tgz"

charts:
  - archive: file:ibm-watson-nlu-prod-1.1.0.tgz
    repository-keys:
      - gateway.addonService.image.repository
      - gateway.addon.tls.image.repository
      - nluserver.image.repository
      - orchestrator.image.repository
      - keywords.image.repository
      - sire.modelMeshDeployment.modelRuntimeContainer.image.repository
      - sire.modelMeshDeployment.modelMeshContainer.image.repository
      - sire.dashboardDeployment.image.repository
      - nms.image.repository
      - commonService.commonService.image.repository
      - commonService.modelMesh.image.repository
      - mma.modelManagementApi.image.repository
      - textprocessing.api.image
      - textprocessing.tests.image.repository
      - etcd.image.name
      - minio.minio.image.name
      - minio.minioClient.image.name
      - postgres.postgres.image.name
      - global.icpTests.image.repository
      - creds.image.repository
      - global.tests.image.repository
      - commonService.modelUploader.image.repository

images:
############# Add-on ##################################################################################################
  - image: watson-gateway:2.0.6
    references:
      - repository: watson-gateway:2.0.6
        pull-repository: us.icr.io/icp-common-components/watson-gateway:2.0.6
        pull-authorization:
          username:
            env: REDSONJA_USERNAME
          password:
            env: REDSONJA_PASSWORD
########################################################################################################################
#                                             UMBRELLA CHART IMAGES                                                    #
########################################################################################################################
############################## NLU Server  #############################################################################
  - image: nlu-server:1.5.659-g392a269.19-11-18-165016.icp-master
    references:
      - repository: nlu-server:1.5.659-g392a269.19-11-18-165016.icp-master
        pull-repository: us.icr.io/watson-nlu/nlu-server:1.5.659-g392a269.19-11-18-165016.icp-master
        pull-authorization:
          username:
            env: REDSONJA_USERNAME
          password:
            env: REDSONJA_PASSWORD
############################## Orchestrator ############################################################################
  - image: orchestrator:1.3.1404-gcb4ffd5.19-11-22-134049.icp-master
    references:
      - repository: orchestrator:1.3.1404-gcb4ffd5.19-11-22-134049.icp-master
        pull-repository: us.icr.io/watson-nlu/orchestrator:1.3.1404-gcb4ffd5.19-11-22-134049.icp-master
        pull-authorization:
          username:
            env: REDSONJA_USERNAME
          password:
            env: REDSONJA_PASSWORD
############################## Keywords ################################################################################
  - image: keywords:1.5-226-g11eab1b.19-11-18-165051.icp-master
    references:
      - repository: keywords:1.5-226-g11eab1b.19-11-18-165051.icp-master
        pull-repository: us.icr.io/watson-nlu/keywords:1.5-226-g11eab1b.19-11-18-165051.icp-master
        pull-authorization:
          username:
            env: REDSONJA_USERNAME
          password:
            env: REDSONJA_PASSWORD
########################################################################################################################
#                                                 SUBCHART IMAGES                                                      #
########################################################################################################################
############################## SIRE & Model Mesh #######################################################################
  - image: serve-runtime:wdc-20181119-d930d057-58-ubi7-ubi-b8666265-67
    references:
      - repository: serve-runtime:wdc-20181119-d930d057-58-ubi7-ubi-b8666265-67
        pull-repository: us.icr.io/mnlp/serve-runtime:wdc-20181119-d930d057-58-ubi7-ubi-b8666265-67
        pull-authorization:
          username:
            env: CSFDEV_USERNAME
          password:
            env: CSFDEV_PASSWORD

  - image: model-mesh:master-20191108-268
    references:
      - repository: model-mesh:master-20191108-268
        pull-repository: us.icr.io/model-mesh/model-mesh:master-20191108-268
        pull-authorization:
          username:
            env: REDSONJA_USERNAME
          password:
            env: REDSONJA_PASSWORD

  - image: model-mesh-dashboard:master-20191108-132
    references:
      - repository: model-mesh-dashboard:master-20191108-132
        pull-repository: us.icr.io/model-mesh/model-mesh-dashboard:master-20191108-132
        pull-authorization:
          username:
            env: REDSONJA_USERNAME
          password:
            env: REDSONJA_PASSWORD
############################## Model Server ############################################################################
  - image: nlu-models-server:v0.1-367-g037bebd.19-11-19-133925.icp-master
    references:
      - repository: nlu-models-server:v0.1-367-g037bebd.19-11-19-133925.icp-master
        pull-repository: us.icr.io/watson-nlu/nlu-models-server:v0.1-367-g037bebd.19-11-19-133925.icp-master
        pull-authorization:
          username:
            env: REDSONJA_USERNAME
          password:
            env: REDSONJA_PASSWORD
############################## Model Management API ####################################################################
  - image: model-management-api:1.0.1092-g7eaa8d5b.19-11-18-165113.icp-master
    references:
      - repository: model-management-api:1.0.1092-g7eaa8d5b.19-11-18-165113.icp-master
        pull-repository: us.icr.io/watson-nlu/model-management-api:1.0.1092-g7eaa8d5b.19-11-18-165113.icp-master
        pull-authorization:
          username:
            env: REDSONJA_USERNAME
          password:
            env: REDSONJA_PASSWORD
############################## Common Service ##########################################################################
  # Common Service deployment image
  - image: common-service:d17b4e7.19-11-21-011536.icp-master
    references:
      - repository: common-service:d17b4e7.19-11-21-011536.icp-master
        pull-repository: us.icr.io/watson-nlu/common-service:d17b4e7.19-11-21-011536.icp-master
        pull-authorization:
          username:
            env: REDSONJA_USERNAME
          password:
            env: REDSONJA_PASSWORD
  # Model Uploader job image
  - image: common-service-models-uploader:25e6b0c.19-11-21-011802.icp-master
    references:
      - repository: common-service-models-uploader:25e6b0c.19-11-21-011802.icp-master
        pull-repository: us.icr.io/watson-nlu/common-service-models-uploader:25e6b0c.19-11-21-011802.icp-master
        pull-authorization:
          username:
            env: REDSONJA_USERNAME
          password:
            env: REDSONJA_PASSWORD
############################## Text Processing #########################################################################
  - image: api-ubi:r20191115-1-6354fe8
    references:
      - repository: api-ubi:r20191115-1-6354fe8
        pull-repository: us.icr.io/nlu_text_processing/api-ubi:r20191115-1-6354fe8
        pull-authorization:
          username:
            env: REDSONJA_USERNAME
          password:
            env: REDSONJA_PASSWORD
  - image: dvt-ubi:r20191115-1-6354fe8
    references:
      - repository: dvt-ubi:r20191115-1-6354fe8
        pull-repository: us.icr.io/nlu_text_processing/dvt-ubi:r20191115-1-6354fe8
        pull-authorization:
          username:
            env: REDSONJA_USERNAME
          password:
            env: REDSONJA_PASSWORD
#########################################################################################################################
#                                                  DATABASE IMAGES                                                      #
#########################################################################################################################
############################## Etcd #####################################################################################
  - image: opencontent-etcd-3:1.1.2
    references:
      - repository: opencontent-etcd-3:1.1.2
        pull-repository: hyc-cp-opencontent-docker-local.artifactory.swg-devops.com/opencontent-etcd-3:1.1.2-amd64
        platform:
          os: linux
          architecture: amd64
        pull-authorization:
          username:
            env: ARTIFACTORY_USERNAME
          password:
            env: ARTIFACTORY_PASSWORD
############################## Postgres #################################################################################
  - image: opencontent-postgres-stolon:1.1.1
    references:
      - repository: opencontent-postgres-stolon:1.1.1
        pull-repository: "hyc-cp-opencontent-docker-local.artifactory.swg-devops.com/opencontent-postgres-stolon:1.1.1-amd64"
        pull-authorization:
          username:
            env: ARTIFACTORY_USERNAME
          password:
            env: ARTIFACTORY_PASSWORD
        platform:
          os: linux
          architecture: amd64
############################# Minio ####################################################################################
  - image: opencontent-minio:1.1.0
    references:
      - repository: opencontent-minio:1.1.0
        pull-repository: hyc-cp-opencontent-docker-local.artifactory.swg-devops.com/opencontent-minio:1.1.0
        platform:
          os: linux
          architecture: amd64
        pull-authorization:
          username:
            env: ARTIFACTORY_USERNAME
          password:
            env: ARTIFACTORY_PASSWORD

  - image: opencontent-minio-client:1.0.2
    references:
      - repository: opencontent-minio-client:1.0.2
        pull-repository: hyc-cp-opencontent-docker-local.artifactory.swg-devops.com/opencontent-minio-client:1.0.2
        platform:
          os: linux
          architecture: amd64
        pull-authorization:
          username:
            env: ARTIFACTORY_USERNAME
          password:
            env: ARTIFACTORY_PASSWORD
#########################################################################################################################
#                                                 TESTING IMAGES                                                        #
#########################################################################################################################
  - image: opencontent-common-utils:1.1.4
    references:
      - repository: opencontent-common-utils:1.1.4
        pull-repository: hyc-cp-opencontent-docker-local.artifactory.swg-devops.com/opencontent-common-utils:1.1.4
        pull-authorization:
          username:
            env: ARTIFACTORY_USERNAME
          password:
            env: ARTIFACTORY_PASSWORD

  - image: nlu-dvt:1.0.756-gb4dbf61.19-11-18-170501.icp-master
    references:
      - repository: nlu-dvt:1.0.756-gb4dbf61.19-11-18-170501.icp-master
        pull-repository: us.icr.io/watson-nlu/nlu-dvt:1.0.756-gb4dbf61.19-11-18-170501.icp-master
        pull-authorization:
          username:
            env: REDSONJA_USERNAME
          password:
            env: REDSONJA_PASSWORD
########################################################################################################################
#                                             GENERAL PURPOSE IMAGES                                                   #
########################################################################################################################
  - image: opencontent-icp-cert-gen-1:1.1.1
    references:
      - repository: opencontent-icp-cert-gen-1:1.1.1
        pull-repository: hyc-cp-opencontent-docker-local.artifactory.swg-devops.com/opencontent-icp-cert-gen-1:1.1.1-amd64
        platform:
          os: linux
          architecture: amd64
        pull-authorization:
          username:
            env: ARTIFACTORY_USERNAME
          password:
            env: ARTIFACTORY_PASSWORD
