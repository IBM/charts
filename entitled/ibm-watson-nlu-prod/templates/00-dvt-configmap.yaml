{{- include "sch.config.init" (list . "nlu.sch.chart.config.values") -}}
{{- $icpNLUServerCompName :=  .sch.chart.components.nluserver.name -}}
{{- $icpDvtConfigMapName :=  .sch.configmap.dvtConfigmap.name -}}

kind: ConfigMap
metadata:
  name: {{ .Release.Name }}-dvt-config-public
  labels:
{{ include "sch.metadata.labels.standard" (list . $icpDvtConfigMapName) | indent 4 }}
    tenant: public
apiVersion: v1
data:
  default_config.yml: |-
    ---
    de:
    - keywords
    en:
    - keywords
    - sentiment
    es:
    - keywords
    fr:
    - keywords
    it:
    - keywords
    ja:
    - keywords
    pt:
    - keywords
    languages:
    - de
    - en
    - es
    - fr
    - it
    - ja
    - pt

  config.yml: |-
    ---
    languageTranslation: false
    rbr: false
    sireCustom: false
    sirePublic: false
    testCsbCallbacks: false
    urlFetcher: false
    baseUrl: "https://{{ include "sch.names.fullCompName" (list . $icpNLUServerCompName) }}"
    testTrainAndDeployApi: true

  feature_languages.yml: |-
    ---
    de:
    - keywords
    en:
    - keywords
    - sentiment
    es:
    - keywords
    fr:
    - keywords
    it:
    - keywords
    ja:
    - keywords
    pt:
    - keywords
    languages:
    - de
    - en
    - es
    - fr
    - it
    - ja
    - pt
