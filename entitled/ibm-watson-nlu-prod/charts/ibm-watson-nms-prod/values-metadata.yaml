# common image variables
global:
  __metadata:
    label: "Global config"
    description: "Global config shared among components"
    type: "string"
    required: true
  modelsServer:
    port:
      __metadata:
        label: "Models Server Port"
        description: "Port for accessing NLU Models Server (and the Swagger UI)"
        type: "number"
        required: true
  s3:
    endpointPort:
      __metadata:
        label: "S3 Endpoint Port"
        description: "S3 endpoint port"
        type: "number"
        required: true
  icpDockerRepo:
    __metadata:
      label: "Docker repo to pull images"
      description: "Docker Repo for all Images in the chart"
      type: "string"
      required: false
      hidden: true
  imagePullSecretName:
    __metadata:
      label: "additionalimagepullSecrets "
      description: "additionalimagepullSecrets for the docker images"
      type: "string"
      required: false
  tls:
    secret:
      nameTpl:
        __metadata:
          label: "TLS Secret Name Template"
          description: "Template to specify the secret name that contains tls key and cert"
          type: "string"
          required: true
      fixedName:
        __metadata:
          label: "TLS Secret Fixed Name"
          description: "Default fixed secret name that contains tls key and cert"
          type: "string"
          required: true
      fieldServerCertificate:
        __metadata:
          label: "TLS Secret Server Certificate Field Name"
          description: "Secret field name that references the public TLS cert"
          type: "string"
          required: true
      fieldServerKey:
        __metadata:
          label: "TLS Secret Server Certificate Field Name"
          description: "Secret field name that references the private TLS key"
          type: "string"
          required: true

minio:
  __metadata:
    label: "Minio Configuration"
    description: "Minio configuration"
  defaultBucket:
    name:
      __metadata:
        label: "Default Bucket Name"
        description: "Minio bucket to create at installation time"
        type: "string"
        required: true
  minioAccessSecret:
    __metadata:
      label: "Enablement Flag"
      description: "Enable Minio, so it is installed"
      type: "string"
      required: true

product:
  __metadata:
    label: "Product"
    description: "Watson NLU Product"
    type: "string"
    required: true
  name:
    __metadata:
      label: "Product Name"
      description: "Catalog name of chart's product"
      type: "string"
      required: true
  id:
    __metadata:
      label: "Product ID"
      description: "Catalog ID of chart's product"
      type: "string"
      required: true
  version:
    __metadata:
      label: "Product Version"
      description: "Version of chart's product"
      type: "string"
      required: true
image:
  __metadata:
    label: "NMS image"
    description: "Image options for NLU Models Server on ICP"
    type: "string"
    required: true
  repository:
    __metadata:
      label: "Models Server ICP repository"
      description: "Repository for NLU Models Server on ICP"
      type: "string"
      required: true
  tag:
    __metadata:
      label: "Models Server image tag"
      description: "Image Tag for NLU Models Server on ICP"
      type: "string"
      required: true
replicas:
  __metadata:
    label: "Models Server replicas"
    description: "Number of NLU Models Server pods"
    type: "number"
    required: true
resources:
  __metadata:
    label: "NMS resources"
    description: "Pod resource configs for NLU Models Server"
    type: "string"
    required: true
  requests:
    memory:
      __metadata:
        label: "NMS Requests Memory"
        description: "Requested Memory for NMS container"
        type: "string"
        required: true
    cpu:
      __metadata:
        label: "NMS Requests CPU"
        description: "Requested CPU for NMS container"
        type: "string"
        required: true
  limits:
    memory:
      __metadata:
        label: "NMS Limits Memory"
        description: "Max memory for NMS container"
        type: "string"
        required: true
    cpu:
      __metadata:
        label: "NMS Limits CPU"
        description: "Max CPU for NMS container"
        type: "string"
        required: true

# Test image info (currently uses curl only; no DVTs yet)
tests:
  __metadata:
    label: "Helm tests"
    description: "Curl image for helm tests"
    type: "string"
    required: true
  image:
    repository:
      __metadata:
        label: "Curl Repository"
        description: "Curl image for helm tests"
        type: "string"
        required: true
    tag:
      __metadata:
        label: "Curl Image Tag"
        description: "Curl image tag for helm tests"
        type: "string"
        required: true
