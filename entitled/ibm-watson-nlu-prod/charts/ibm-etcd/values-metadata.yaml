global:
  __metadata:
    label: "global values"
    description: "configuration of global values"
  image:
    repository:
      __metadata:
        label: "global image repository"
        description: "docker repository where the chart images are located"
    pullSecret:
      __metadata:
        label: "global image pullsecret"
        description: "image pullsecret to be used with service account"
  sch:
    enabled:
      __metadata:
        label: global sch enabled
        description: set to true to use as a subchart

nameOverride:
  __metadata:
    label: "Change the name of created kubernetes object"
    description: "Specified the name of kubernetes object after the release name prefix. If empty ibm-wcd-etcd is used"
    type: "string"
    required: false
    #hidden: true

replicaCount:
  __metadata:
    label: "Cluster Size"
    description: "Number of ETCD nodes in cluster. Defaults to 3 nodes."
    type: "number"
    required: true

image:
  __metadata:
    label: "ETCD image"
    description: "ETCD Docker image"
  name:
    __metadata:
      label: "Docker Image Name"
      description: "Docker image name of ETCD image"
      type: "string"
      required: true
  tag:
    __metadata:
      label: "Docker Image Tag"
      description: "Docker image tag for the ETCD version"
      type: "string"
      required: true
  pullPolicy:
    __metadata:
      label: "Docker image pull policy"
      description: "Always, Never, or IfNotPresent. Defaults to Always."
      type: "string"
      required: true
      options:
      - label: "IfNotPresent"
        value: "IfNotPresent"
      - label: "Always"
        value: "Always"
      - label: "Never"
        value: "Never"

certgen:
  __metadata:
    label: "Certificate Generation Image"
    description: "Configuration opions for the cert gen image"
  image:
    name:
      __metadata:
        label: "Cert Gen Docker Image Name"
        description: "Docker image name of cert gen image"
        type: "string"
        required: true
    tag:
      __metadata:
        label: "Cert Gen Docker Tag"
        description: "The tag of the cert gen image to use"
    pullPolicy:
      __metadata:
        label: "Docker image pull policy"
        description: "Always, Never, or IfNotPresent. Defaults to Always."
        type: "string"
        required: true
        options:
        - label: "IfNotPresent"
          value: "IfNotPresent"
        - label: "Always"
          value: "Always"
        - label: "Never"
          value: "Never"


resources:
  __metadata:
    label: "Resource requests and limits"
    description: "Configure requests and limits"
  requests:
    cpu:
      __metadata:
        label: "CPU request"
        description: "The requested CPU"
        type: "string"
        required: false
    memory:
      __metadata:
        label: "Memory request"
        description: "The requested memory"
        type: "string"
        required: false
  limits:
    cpu:
      __metadata:
        label: "CPU limit"
        description: "The CPU limit"
        type: "string"
        required: false
    memory:
      __metadata:
        label: "Memory limit"
        description: "The CPU limit"
        type: "string"
        required: false

maxEtcdThreads:
  __metadata:
    label: "Max Etcd Threads"
    description: "Maximum number of threads Etcd will use, reccomended 2 as to not kill container with high CPU"
    type: "string"
    required: true

auth:
  __metadata:
    label: "Authentication"
    description: "Auth configuration"
  enabled:
    __metadata:
      label: "Enable Auth"
      description: "Enables Authentication"
      type: "boolean"
      required: true
  existingRootSecret:
    __metadata:
      label: "Existing Root Secret"
      description: "If there is a pre-existing auth secret you want to use."
      required: false

rbac:
  __metadata:
    label: "service account"
    description: "service account configuration"
  create:
    __metadata:
      label: "create a service account"
      description: "create a service account if one does not exist"
  existingServiceAccount:
    __metadata:
      label: "name of existing service account"
      description: "name of existing service account if being used"

persistence:
  __metadata:
    label: "Persistent Volume Configuration"
    description: "Configures if persistence of the data and configuration of Persistent Volume"
  enabled:
    __metadata:
      label: "Enable Persistent Volumes"
      description: "Enables this deployment to use Persistent Volumes. Defaults to true."
      type: "boolean"
      required: true
  useDynamicProvisioning:
    __metadata:
      label: "Enable Dynamic bind of Persistent Volumes"
      description: "Enables dynamic bind of Persistent Volumes to created Persisten Volume claims. Defaults to true"
      type: "boolean"
      required: true

dataPVC:
  __metadata:
    label: "Persistent Volume Claim Configuration"
    description: "Configures created Persistent Volume Claims and how they bind to Persistent Volumes"
  accessMode:
    __metadata:
      label: "Access Mode"
      description: "Access mode for the Persisent Volume. Defaults to ReadWriteOnce."
      required: false
      options:
        - label: "ReadWriteOnce"
          value: "ReadWriteOnce"
#        - label: "ReadOnlyMany"
#          value: "ReadOnlyMany"
        - label: "ReadWriteMany"
          value: "ReadWriteMany"
  storageClassName:
    __metadata:
      label: "Storage Class"
      description: "Name of storage class to use for Persistent Volume. Defaults to null."
      required: false

  size:
    __metadata:
      label: "Size of the created Persistent Volume Claim"
      description: "Defaults to 1GB of storage. Influences number of key-value pair that can be stored into the etcd."
      type: "string"
      required: true

  name:
    __metadata:
      label: "The prefix of PVC."
      description: "The prefix of the created Persistent Volume Claims. The defaults to data"
      type: "string"
      required: false

  selector:

    # label - label that the PV should have to be boundable to created PVCs
    label:
      __metadata:
        label: "Label of Persistent Volume"
        description: "If useDynamicProvisioning is disabled, this specifies labels that needs to have the Persistent Volumes to be used. Defaults to null"
        type: "string"
        required: false
            # value - value of the label that the PV should have to be boundable to created PVCs
    value:
      __metadata:
        label: "Value of Persistent Volume label"
        description: "Specifies value assigned to the label that needs to have the Persistent Volumes to be used. Defaults to null"
        type: "string"
        required: false

tls:
  __metadata:
    label: "TLS Encryption"
    description: "TLS Encryption Configuration"
  enabled:
    __metadata:
      label: "Enable ETCD TLS Encryption"
      description: "Enables TLS Encryption. Defaults to true."
      type: "boolean"
      required: true
  existingTlsSecret:
    __metadata:
      label: "Existing TLS Secret"
      description: "If there is a pre-existing TLS secret you want to use."
      required: false


readinessProbe:
  __metadata:
    label: "Kube Readiness Probe"
    description: "Readiness Probe Configuration"
  initialDelaySeconds:
    __metadata:
      label: "Initial Delay Seconds"
      description: "Delay in seconds before the readinessProbe starts"
  timeoutSeconds:
    __metadata:
      label: "Timeout Seconds"
      description: "Timeout in seconds"
  failureThreshold:
    __metadata:
      label: "Failure Threshold"
      description: "How many times before fail"
  periodSeconds:
    __metadata:
      label: "Period Seconds"
      description: "How long in between each check in seconds"
  successThreshold:
    __metadata:
      label: "Success Threshold"
      description: "How many times before success"


livenessProbe:
  __metadata:
    label: "Kube Liveness Probe"
    description: "Liveness Probe Configuration"
  initialDelaySeconds:
    __metadata:
      label: "Initial Delay Seconds"
      description: "Delay in seconds before the readinessProbe starts"
  timeoutSeconds:
    __metadata:
      label: "Timeout Seconds"
      description: "Timeout in seconds"
  failureThreshold:
    __metadata:
      label: "Failure Threshold"
      description: "How many times before fail"
  periodSeconds:
    __metadata:
      label: "Period Seconds"
      description: "How long in between each check in seconds"
  successThreshold:
    __metadata:
      label: "Success Threshold"
      description: "How many times before success"

arch:
  __metadata:
    label: "Architecture scheduling preferences"
    description: "Architecture scheduling preferences among amd64 and power"
  amd64:
    __metadata:
      name: "amd64"
      label: "Scheduling preference - amd64"
      description: "Architecture preference for target worker node."
      type: "string"
      immutable: false
      required: true
      options:
      - label: "0 - Do not use"
        value: "0 - Do not use"
      - label: "1 - Least preferred"
        value: "1 - Least preferred"
      - label: "2 - No preference"
        value: "2 - No preference"
      - label: "3 - Most preferred"
        value: "3 - Most preferred"

metering:
  __metadata:
    label: "Metering details"
    description: "Annotations to be used metering service (if present)."
    hidden: true
    type: "string"
    multiline: true
    required: false
