# Default values for ibm-cloud-mgmt-platform-prod.
# This is a YAML-formatted file.
# Declare variables to be passed into your templates.

# Ignore Icp Check setting? (boolean)
ignoreIcpCheck:
  __metadata:
    label: "Disable ICP environment check"
    description: "Use boolean to disable ICP environment check to deploy all templates"
    type: "boolean"
    hidden: true

# Private docker registry info
imageCredentials:
  __metadata:
    label: "Image Credentials"
    description: "Docker registry Image Credentials"
  registry:
    __metadata:
      label: "IBM Cloud Management Platform image Repository"
      description: "Docker registry to pull IBM Cloud Management Platform image from"
      immutable: true
  username:
    __metadata:
      label: "User Name"
      description: "Username to access the image registry"
      hidden: true
  password:
    __metadata:
      label: "Password"
      description: "Password to access the image registry"
      type: "password"
      hidden: true

mutualAuthGatewayHost:
  __metadata:
    label: "Mutual Auth Gateway Host"
    description: "Mutual Authentication Gateway Host"
    hidden: true

apiGatewayUrl:
  __metadata:
    label: "API Gateway URL"
    description: "URL to access API Gateway"
    required: true

k8Cluster:
  __metadata:
    label: "Kubernetes Cluster"
    description: "Kubernetes Cluster environment"
    hidden: true

enforceCertificateValidation:
  __metadata:
    label: "Enforce self-signed TLS certificate"
    description: "Select to enforce self-signed TLS certificate"
    type: "boolean"

# serviceType, one of:
#   LoadBalancer
#   NodePort
#   Ingress
serviceType:
  __metadata:
    label: "Service type"
    description: "An API object that describes how to access applications, such as a set of Pods, and can describe ports and load-balancers."
    type: "string"
    required: true
    options:
      - label: "Ingress"
        value: "Ingress"
      - label: "NodePort"
        value: "NodePort"

# Enable development settings? (boolean)
enableDevSettings:
  __metadata:
    label: "Enable Development Settings"
    description: "Enable Settings for development"
    type: "boolean"
    hidden: true

secretsS3Url:
  __metadata:
    label: "S3 URL"
    description: "URL to access S3"
    type: "string"
    hidden: true
secretsS3AccessKeyId:
  __metadata:
    label: "S3 Access Key ID"
    description: "Key ID to access S3 "
    type: "password"
    hidden: true
secretsS3SecretAccessKey:
  __metadata:
    label: "S3 Secret Access Key"
    description: "Access key to access S3"
    type: "password"
    hidden: true
secretsBackupPassphrase:
  __metadata:
    label: "S3 Backup Passphrase"
    description: "Backup Passphrase for S3"
    type: "password"
    hidden: true

enableHAGateway:
  __metadata:
    label: "Enable HA Gateway"
    description: "Enable High Availability Gateway"
    type: "boolean"
    hidden: true

gatewayHost:
  __metadata:
    label: "Gateway Host"
    description: "Host system which acts as gateway"

httpProxy:
  __metadata:
    label: "HTTP Proxy"
    description: "HTTP Proxy Settings"

httpsProxy:
  __metadata:
    label: "HTTPS Proxy"
    description: "HTTPS Proxy Settings"

noProxy:
  __metadata:
    label: "NO Proxy"
    description: "NO Proxy Settings"

gatewayExposeInternalApis:
  __metadata:
    label: "Expose All Apis"
    description: "Enable to expose internal APIs, not recommended for Production environments."
    type: "boolean"

# Preauthorized initial user name
preAuthInitialUser:
  __metadata:
    label: "Preauth Initial User"
    description: "Pre Authorized Initial User"
    hidden: true

# Node App values
nodeRole:
  __metadata:
    label: "Node role"
    description: "Role of the node"
    hidden: true

enableBackups:
  __metadata:
    label: "Enable Backups"
    description: "select to enable backups"
    type: "boolean"

enableExternalMongoDB:
  __metadata:
    label: "Enable External Mongo DB"
    description: "select to enable remote mongo db"
    type: "boolean"

externalMongoDBUrl:
  __metadata:
    label: "MONGODB URL"
    description: "Remote Mongo DB URL"
    type: "string"
    hidden: true

# global persistence settings
persistence:
  __metadata:
    label: "Persistence configuration"
    description: "Persistence configuration IBM Cloud Management Platform"
  enabled:
    __metadata:
      label: "Enable persistence storage for the IBM Cloud Management Platform"
      description: "Select this checkbox to store IBM Cloud Management Platform data on a persistent volume so that the data is preserved if the pod is stopped."
      required: false
      type: boolean
  useDynamicProvisioning:
    __metadata:
      label: "Use dynamic provisioning"
      description: "Select this checkbox to allow the cluster to automatically provision new storage resource and create PersistentVolume objects."
      required: false
      type: boolean

# Kubernetes Storage Type (pick one)
k8StorageType:
  __metadata:
    label: "Storage Type"
    description: "Storage type used in the kubernetes environment"
    required: true
    options:
      - label: "NFS"
        value: "nfs"
      - label: "GlusterFS"
        value: "glusterfsStorage"


# default storage access mode per storage type
k8StorageAccessMode:
  __metadata:
    label: "Storage Access Mode"
    description: "Storage Access Mode used in the kuberneters environment"
  hostpath:
    __metadata:
      label: "Host Path"
      description: "Storage Access Mode used - host path"
      hidden: true
  nfs:
    __metadata:
      label: "NFS"
      description: "Storage Access Mode used - NFS"
      required: true
      options:
        - label: "Read Write Once"
          value: "ReadWriteOnce"
        - label: "Read Only Many"
          value: "ReadOnlyMany"
        - label: "Read Write Many"
          value: "ReadWriteMany"
  bluemix:
    __metadata:
      label: "Bluemix"
      description: "Kubernetes Storage Access Mode used - bluemix"
      hidden: true
  glusterfsStorage:
    __metadata:
      label: "GlusterFS"
      description: "Storage Access Mode used - GlusterFS storage"
      required: true
      options:
        - label: "Read Write Once"
          value: "ReadWriteOnce"
        - label: "Read Only Many"
          value: "ReadOnlyMany"
        - label: "Read Write Many"
          value: "ReadWriteMany"

# core_couchdb_pv0 settings
coreCouchdbPv0:
  __metadata:
    label: "Cloud Management Platform Storage "
    description: "Cloud Management Platform Storage - CouchDB"
  hostpath:
    capacity:
      __metadata:
        label: "Core CouchDB pv0 Host Path Capacity"
        description: "CORE CouchDB Persistent Volume capacity"
        hidden: true
    path:
      __metadata:
        label: "Core CouchDB pv0 Host Path"
        description: "CouchDB Persistent volume hostpath path"
        hidden: true
    storageClass:
      __metadata:
        label: "Core CouchDB pv0 Host Path Storage Class"
        description: "CouchDB Persistent volume hostpath storage class"
        hidden: true
  nfs:
    capacity:
      __metadata:
        label: "Core CouchDB pv0 Capacity"
        description: "CouchDB Persistent volume capacity"
        hidden: true
    server:
      __metadata:
        label: "Core CouchDB pv0 Server"
        description: "CouchDB Persistent volume server"
        hidden: true
    path:
      __metadata:
        label: "Core CouchDB pv0 Path"
        description: "cCouchDB Persistent volume path"
        hidden: true
    storageClass:
      __metadata:
        label: "Core CouchDB pv0 Storage Class"
        description: "CouchDB Persistent volume storageClass"
        hidden: true
  bluemix:
    capacity:
      __metadata:
        label: "Core CouchDB pv0 ibm cloud file gold Capacity"
        description: "CouchDB Persistent volume ibm cloud file gold capacity"
        hidden: true
    storageClass:
      __metadata:
        label: "Core CouchDB pv0 ibm cloud file gold Storage Class"
        description: "CouchDB Persistent volume ibm cloud file gold storage class"
        hidden: true
  glusterfsStorage:
    capacity:
      __metadata:
        label: "Core CouchDB pv0 GlusterFS Storage Capacity"
        description: "CouchDB Persistent volume glusterfs storage capacity"
        hidden: true
    storageClass:
      __metadata:
        label: "GlusterFS Storage Class"
        description: "CouchDB Persistent volume glusterfs storage class"

# core_rabbitmq_pv0 settings
coreRabbitmqPv0:
  __metadata:
    label: "Cloud Management Platform Storage "
    description: "Cloud Management Platform Storage - Rabbitmq"
  hostpath:
    capacity:
      __metadata:
        label: "Core Rabbitmq pv0 Host Path Capacity"
        description: "CORE Rabbitmq Persistent Volume capacity"
        hidden: true
    path:
      __metadata:
        label: "Core Rabbitmq pv0 Host Path"
        description: "Rabbitmq Persistent volume hostpath path"
        hidden: true
    storageClass:
      __metadata:
        label: "Core Rabbitmq pv0 Host Path Storage Class"
        description: "Rabbitmq Persistent volume hostpath storage class"
        hidden: true
  nfs:
    capacity:
      __metadata:
        label: "Core Rabbitmq pv0 Capacity"
        description: "Rabbitmq Persistent volume capacity"
        hidden: true
    server:
      __metadata:
        label: "Core Rabbitmq pv0 Server"
        description: "Rabbitmq Persistent volume server"
        hidden: true
    path:
      __metadata:
        label: "Core Rabbitmq pv0 Path"
        description: "Rabbitmq Persistent volume path"
        hidden: true
    storageClass:
      __metadata:
        label: "Core Rabbitmq pv0 Storage Class"
        description: "Rabbitmq Persistent volume storageClass"
        hidden: true
  bluemix:
    capacity:
      __metadata:
        label: "Core Rabbitmq pv0 ibm cloud file gold Capacity"
        description: "Rabbitmq Persistent volume ibm cloud file gold capacity"
        hidden: true
    storageClass:
      __metadata:
        label: "Core Rabbitmq pv0 ibm cloud file gold Storage Class"
        description: "Rabbitmq Persistent volume ibm cloud file gold storage class"
        hidden: true
  glusterfsStorage:
    capacity:
      __metadata:
        label: "Core CouchDB pv0 GlusterFS Storage Capacity"
        description: "CouchDB Persistent volume glusterfs storage capacity"
        hidden: true
    storageClass:
      __metadata:
        label: "GlusterFS Storage Class"
        description: "CouchDB Persistent volume glusterfs storage class"

secretsVaultEncryptionKey:
  __metadata:
    label: "Secrets Vault Encryption Key"
    description: "Encryption Key for Secrets Vault"
    type: "password"
    hidden: true
secrets:
  __metadata:
    label: "Secrets"
    description: "IBM Cloud Management Platform Secrets"
  # Internally hosted databases
  couchdb:
    password:
      __metadata:
        label: "Couch DB Password"
        description: "Password to access Couch DB"
        type: "password"
        hidden: true

  rabbitmq:
    password:
      __metadata:
        label: "Rabbit MQ Password"
        description: "Password to access Rabbitmq"
        type: "password"
        hidden: true
  mongodb:
    password:
      __metadata:
        label: "MongoDB Password"
        description: "Password to access Mongo DB"
        type: "password"
        hidden: true
  # IBM BlueID integration (for authentication)
  blueid:
    clientId:
      __metadata:
        label: "Client ID"
        description: "Client Identifier required for authentication"
        type: "password"
        hidden: true
    clientSecret:
      __metadata:
        label: "Client Secret"
        description: "Client Secret required for authentication"
        type: "password"
        hidden: true
  # API gateway
  gateway:
    apiKey:
      __metadata:
        label: "API Gateway Key"
        description: "Gateway Key to access APIs "
        type: "password"
        required: true
# Use external DB? (boolean)
externalDB:
  __metadata:
    label: "External DB"
    description: "External Database"
    hidden: true
  enableExternalDB:
    __metadata:
      label: "Enable External DB"
      description: "Enable External Database"
      type: "boolean"
      hidden: true
  dataCenter:
    __metadata:
      label: "DataCenter"
      description: "DataCenter to use"
      hidden: true

# External Mongo db
enableExternalMongoDB:
  __metadata:
    label: "External MongoDB"
    description: "External MongoDB Support"
    type: "boolean"
    hidden: true


# Different Deployment configuration flavors
deploymentClass:
  __metadata:
    label: "Deployment Class"
    description: "Deployment Class e.g Standard, enterprise etc.."
    hidden: true
    options:
      - label: "entry"
        value: "entry"
      - label: "standard"
        value: "standard"
      - label: "enterprise"
        value: "enterprise"
