# If running on ICP the user needs to create the secrets manually before running the charts
{{- template "isIcp" . -}}
{{- if not (.Values.isIcp) }}
apiVersion: v1
kind: Secret
metadata:
  name: grav-tls
  labels:
{{ include "core.labels" .  | indent 4 }}
type: kubernetes.io/tls
data:
  tls.crt: |-
    {{ .Files.Get "config/grav.crt" | b64enc }}
  tls.key: |-
    {{ .Files.Get "config/grav.key" | b64enc }}
{{ end }}
