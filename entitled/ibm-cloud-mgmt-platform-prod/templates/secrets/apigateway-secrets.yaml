# We need to have the isIcp flag enabled only for the PPA delivery for rest all the
# secrets needs to be created. The one to skip in PPA is docker registry entry
{{- template "isIcp" . -}}
{{- if not (.Values.isIcp) }}

kind: Secret
apiVersion: v1
metadata:
  name: apigateway-blueid-creds
  labels:
{{ include "core.labels" .  | indent 4 }}
data:
  clientID: {{ required "secrets.blueid.clientId is required!" .Values.secrets.blueid.clientId | b64enc | quote }}
  clientSecret: {{ required "secrets.blueid.clientSecret is required!" .Values.secrets.blueid.clientSecret | b64enc | quote }}
type: Opaque
{{ end }}
