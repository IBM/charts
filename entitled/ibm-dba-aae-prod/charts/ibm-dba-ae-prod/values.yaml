################################################################################
# Licensed Materials - Property of IBM
#
# (C) Copyright IBM Corp. 2019. All Rights Reserved.
#
# US Government Users Restricted Rights - Use, duplication or
# disclosure restricted by GSA ADP Schedule Contract with IBM Corp.
#
################################################################################
# Default values for solution-server-chart.
# This is a YAML-formatted file.
# Declare variables to be passed into your templates.
#Shared values across components
global:
  # The persistence volumn claim name used for store JDBC and ODBC library
  existingClaimName: "ae-db-init-pvc"
  # If customer want to build a none product enviroment for test use.
  # Switch this on
  nonProductionMode: true
  # If create the ingree for customer
  imagePullSecrets:
  - artifactory-icp4a
  # global CA secret name
  caSecretName: pre-defined-ca-secret

# Global configuration created by user management service
  ums:
    serviceType: "Ingress"
    hostname: "ums1.9.30.199.154.nip.io"
    port: 443
    # The User group Management Service administrator
    adminSecretName: ums-secret
    # Secret with DB connection credentials
    dbSecretName:

# Global configuration created by App Engine
  appEngine:
    serviceType: "Ingress"
    hostname: "appengine1.9.30.199.154.nip.io"
    port: 30152

# Global configuration created by BAStudio
  baStudio:
    serviceType: "Ingress"
    hostname: "bastudio.x.x.x.x.nip.io"
    port: 443
    adminSecretName: bastudio-admin-secret

# Global configuration created by Resource Registry
  resourceRegistry:
    hostname: "x.x.x.x"
    port: 32015
    adminSecretName: ae-secret-rr
# App Engine private configuration
replicaCount: 2

probes:
  initialDelaySeconds: 5
  periodSeconds: 10
  timeoutSeconds: 5
  successThreshold: 5
  failureThreshold: 3

ingress:
  path: /
  host: appengine1.9.30.199.154.nip.io
  tls:
    secretName: solution-server-com-tls

images:
  appEngine: solution-server:19.0.2
  tlsInitContainer: dba-keytool-initcontainer:19.0.2
  dbJob: solution-server-helmjob-db:19.0.2
  oidcJob: dba-umsregistration-initjob:19.0.2
  dbcompatibilityInitContainer: dba-dbcompatibility-initcontainer:19.0.2 
  pullPolicy: Always

tls:
  tlsSecretName: ae-secret-ssl-internal
  tlsTrustList:
  - ae-secret-ssl-external

database:
  name: AEDB20
  host: x.x.x.x
  port: 30353
  type: db2
  currentSchema: DBASB
  initialPoolSize: 1
  maxPoolSize: 10
  uvThreadPoolSize: 4
  maxLRUCacheSize: 1000
  maxLRUCacheAge: 600000
  dbcompatibilityMaxRetries: 30
  dbcompatibilityRetryInterval: 10 

# Toggle for custom JDBC drivers
useCustomJDBCDrivers: false

adminSecretName: ae-secret-credential

logLevel:
  node: trace
  browser: 2

contentSecurityPolicy:
  enable: false
  whitelist: ""

session:
  duration: "1800000"
  resave: "false"
  rolling: "true"
  saveUninitialized: "false"
  useExternalStore: "false"
  checkPeriod: "3600000"
  max: "10000"

redis:
  host: localhost
  port: 6379
  ttl: 1800

maxAge:
  staticAsset: "2592000"
  csrfCookie: "3600000"
  authCookie: "900000"

env:
  serverEnvType: development
  maxSizeLRUCacheRR: 1000

resources:
  ae:
    limits:
      cpu: 2
      memory: 2048Mi
    requests:
      cpu: 1
      memory: 1024Mi
  initContainer:
    limits:
      cpu: 500m
      memory: 256Mi
    requests:
      cpu: 200m
      memory: 128Mi

autoscaling:
  enabled: false
  minReplicas: 2
  maxReplicas: 5
  targetAverageUtilization: 80