# Default values for ibm-cloud-cost-asset-mgmt-prod.
# This is a YAML-formatted file.
# Declare variables to be passed into your templates.

# Ignore Icp Check setting? (boolean)
ignoreIcpCheck:
  __metadata:
    label: "Disable ICP environment check"
    description: "Use boolean to disable ICP environment check to deploy all templates"
    type: "boolean"
    hidden: true

# Private docker registry info
imageCredentials:
  __metadata:
    label: "Image Credentials"
    description: "Image Credentials details to pull images"
  registry:
    __metadata:
      label: "IBM Cloud Cost Asset Management image Repository"
      description: "Docker registry to pull IBM Cloud Cost Asset Management image from"
      immutable: true
  username:
    __metadata:
      label: "User name"
      description: "Username to access Image registry"
      hidden: true
  password:
    __metadata:
      label: "Password"
      description: "Password to access Image registry"
      type: "password"
      hidden: true
uiHost:
  __metadata:
    label: "UI Host"
    description: "User Interface Host"
    required: true
uiPort:
  __metadata:
    label: "UI Port"
    description: "User Interface Port"
uiUrl:
  __metadata:
    label: "UI URL"
    description: "User Interface URL"
    hidden: true

apiGatewayUrl:
  __metadata:
    label: "API Gateway URL"
    description: "URL for API Gateway"
    required: true

suiteMode:
  __metadata:
    label: "Suite Mode"
    description: "Suite Mode"
    hidden: true


mcmpUIHost:
  __metadata:
    label: "MCMP UI Host"
    description: "MCMP UI Host information"
    hidden: true

k8Cluster:
  __metadata:
    label: "Kubernetes Cluster"
    description: "Kubernetes Cluster environment"
    hidden: true

# serviceType, one of:
#   LoadBalancer
#   NodePort
#   Ingress
serviceType:
  __metadata:
    label: "Service type"
    description: "An API object that describes how to access applications, such as a set of Pods, and can describe ports and load-balancers."
    type: "string"
    required: true
    options:
      - label: "NodePort"
        value: "NodePort"
      - label: "Ingress"
        value: "Ingress"

# Enable development settings? (boolean)
enableDevSettings:
  __metadata:
    label: "Enable Development Settings"
    description: "Enable Settings for development environment"
    type: "boolean"
    hidden: true

# Enable development settings? (boolean)
enableQASettings:
  __metadata:
    label: "Enable QA Settings"
    description: "Enable Settings for test environment"
    type: "boolean"
    hidden: true

#Enable HA flag settings
enableHA:
  __metadata:
    label: "Enable HA"
    description: "Enable High Availability"
    type: "boolean"
    hidden: true

# Preauthorized initial user name
preAuthInitialUser:
  __metadata:
    label: "Preauth Initial User"
    description: "Initial User used for Authentication"
    type: "string"
    hidden: true

# iccam version
iccamVersion:
  __metadata:
    label: "ICCAM Version"
    description: "Version of IBM Cloud Cost and Asset Management"
    type: "string"
    hidden: true

# suite mode
suiteMode:
  __metadata:
    label: "Suite Mode"
    description: "Suite mode for IBM Cloud Cost and Asset Management"
    type: "string"
    hidden: true


# Node App values
nodeRole:
  __metadata:
    label: "Node role"
    description: "Role of the node"
    hidden: true

# global persistence settings
persistence:
  __metadata:
    label: "Persistence configuration"
    description: "Persistence configuration for IBM Cloud Cost Asset Management"
  enabled:
    __metadata:
      label: "Enable persistence storage for the IBM Cloud Cost Asset Management"
      description: "Select this checkbox to store IBM Cloud Cost Asset Management data on a persistent volume so that the data is preserved if the pod is stopped."
      required: false
      type: boolean
  useDynamicProvisioning:
    __metadata:
      label: "Use dynamic provisioning"
      description: "Select this checkbox to allow the cluster to automatically provision new storage resource and create PersistentVolume objects."
      required: false
      type: boolean

# Kubernetes Storage Type (pick one)
k8StorageType:
  __metadata:
    label: "Storage Type"
    description: "Storage Type to be used, pick one"
    required: true
    options:
      - label: "NFS"
        value: "nfs"
      - label: "GlusterFS"
        value: "glusterfsStorage"


# default storage access mode per storage type
k8StorageAccessMode:
  __metadata:
    label: "Storage Access Mode"
    description: "Storage Access Mode per storage type"
  hostpath:
    __metadata:
      label: "Kubernetes Host Path"
      description: "Kubernetes Storage Access Mode - host path"
      hidden: true
  nfs:
    __metadata:
      label: "NFS"
      description: "Storage Access Mode - NFS"
  bluemix:
    __metadata:
      label: "Kubernetes Bluemix"
      description: "Kubernetes Storage Access Mode - Bluemix"
      hidden: true
  glusterfsStorage:
    __metadata:
      label: "GlusterFS"
      description: "Storage Access Mode - GlusterFS"

# mariadb-data-Pv0 settings
mariadbDataPv0:
  __metadata:
    label: "MariaDB Data Storage"
    description: "MariaDB Data Storage PV"
  hostpath:
    capacity:
      __metadata:
        label: "MariaDB Data PV Host Path Capacity"
        description: "MariaDB data Persistent Volume capacity"
        hidden: true
    path:
      __metadata:
        label: "MariaDB Data PV Host Path Path"
        description: "MariaDB data Persistent Volume hostpath path"
        hidden: true
    storageClass:
      __metadata:
        label: "MariaDB Data PV Host Path storage class"
        description: "MariaDB data Persistent Volume hostpath storage class"
        hidden: true
  nfs:
    capacity:
      __metadata:
        label: "MariaDB Data PV Capacity"
        description: "MariaDB data Persistent Volume capacity"
        hidden: true
    server:
      __metadata:
        label: "MariaDB Data PV Server"
        description: "MariaDB Data Persistent Volume Server"
        hidden: true
    path:
      __metadata:
        label: "MariaDB Data PV Path"
        description: "MariaDB Data Persistent Volume Path"
        hidden: true
    storageClass:
      __metadata:
        label: "MariaDB Data PV Storage class"
        description: "MariaDB data Persistent Volume storageClass"
        hidden: true
  glusterfsStorage:
    capacity:
      __metadata:
        label: "MariaDB Data PV Glusterfs Storage Capacity"
        description: "MariaDB data Persistent Volume glusterfs storage capacity"
        hidden: true
    storageClass:
      __metadata:
        label: "GlusterFS Storage class"
        description: "MariaDB data Persistent Volume GlusterFS storage class"

# mariadb-data-Pv0 settings
mariadbTmpPv0:
  __metadata:
    label: "MariaDB Temporary Storage"
    description: "MariaDB Temporary Storage PV"
  hostpath:
    capacity:
      __metadata:
        label: "MariaDB tmp PV hostpath capacity"
        description: "MariaDB tmp Persistent Volume capacity"
        hidden: true
    path:
      __metadata:
        label: "MariaDB tmp PV hostpath path"
        description: "MariaDB tmp Persistent Volume hostpath path"
        hidden: true
    storageClass:
      __metadata:
        label: "MariaDB tmp PV hostpath storage class"
        description: "MariaDB tmp Persistent Volume hostpath storage class"
        hidden: true
  nfs:
    capacity:
      __metadata:
        label: "MariaDB tmp PV capacity"
        description: "MariaDB tmp Persistent Volume capacity"
        hidden: true
    server:
      __metadata:
        label: "MariaDB tmp PV server"
        description: "MariaDB tmp Persistent Volume server"
        hidden: true
    path:
      __metadata:
        label: "MariaDB tmp PV path"
        description: "MariaDB tmp Persistent Volume path"
        hidden: true
    storageClass:
      __metadata:
        label: "MariaDB tmp PV storage class"
        description: "MariaDB tmp Persistent Volume storageClass"
        hidden: true
  glusterfsStorage:
    capacity:
      __metadata:
        label: "MariaDB tmp PV glusterfs storage capacity"
        description: "MariaDB tmp Persistent Volume glusterfs storage capacity"
        hidden: true
    storageClass:
      __metadata:
        label: "GlusterFS storage class"
        description: "MariaDB tmp Persistent Volume glusterfs storage class"

# mariadb-backup-Pv0 settings
mariadbBackupPv0:
  __metadata:
    label: "MariaDB Backup Storage"
    description: "MariaDB Backup Storage PV"
  hostpath:
    capacity:
      __metadata:
        label: "MariaDB backup PV hostpath capacity"
        description: "MariaDB backup Persistent Volume capacity"
        hidden: true
    path:
      __metadata:
        label: "MariaDB backup PV hostpath path"
        description: "MariaDB backup Persistent Volume hostpath path"
        hidden: true
    storageClass:
      __metadata:
        label: "MariaDB backup PV hostpath storage class"
        description: "MariaDB backup Persistent Volume hostpath storage class"
        hidden: true
  nfs:
    capacity:
      __metadata:
        label: "MariaDB backup PV capacity"
        description: "mariadb backup Persistent Volume capacity"
        hidden: true
    server:
      __metadata:
        label: "MariaDB backup PV server"
        description: "mariadb backup Persistent Volume server"
        hidden: true
    path:
      __metadata:
        label: "MariaDB backup PV path"
        description: "mariadb backup Persistent Volume path"
        hidden: true
    storageClass:
      __metadata:
        label: "MariaDB backup PV storage class"
        description: "mariadb backup Persistent Volume storageClass"
        hidden: true
  glusterfsStorage:
    capacity:
      __metadata:
        label: "MariaDB backup PV glusterfs storage capacity"
        description: "MariaDB backup Persistent Volume glusterfs storage capacity"
        hidden: true
    storageClass:
      __metadata:
        label: "GlusterFS storage class"
        description: "MariaDB backup Persistent Volume GlusterFS storage class"

# cam-data-Pv0 settings
camDataPv0:
  __metadata:
    label: "Cost and Asset Management Data Storage"
    description: "Cost and Asset Management Data Storage PV"
  hostpath:
    capacity:
      __metadata:
        label: "Data PV Host Path Capacity"
        description: "cam data Persistent Volume capacity"
        hidden: true
    path:
      __metadata:
        label: "cam data PV hostpath path"
        description: "cam data Persistent Volume hostpath path"
        hidden: true
    storageClass:
      __metadata:
        label: "cam data PV hostpath storage class"
        description: "cam data Persistent Volume hostpath storage class"
        hidden: true
  nfs:
    capacity:
      __metadata:
        label: "cam data PV capacity"
        description: "cam data Persistent Volume capacity"
        hidden: true
    server:
      __metadata:
        label: "cam data PV server"
        description: "cam data Persistent Volume server"
        hidden: true
    path:
      __metadata:
        label: "cam data PV path"
        description: "cam data Persistent Volume path"
        hidden: true
    storageClass:
      __metadata:
        label: "cam data PV storage class"
        description: "cam data Persistent Volume storageClass"
        hidden: true
  glusterfsStorage:
    capacity:
      __metadata:
        label: "cam data PV glusterfs storage capacity"
        description: "cam data Persistent Volume glusterfs storage capacity"
        hidden: true
    storageClass:
      __metadata:
        label: "GlusterFS storage class"
        description: "Cost and Asset Management data Persistent Volume GlusterFS storage class"

# camRabbitmqPv0 settings
camRabbitmqPv0:
  __metadata:
    label: "RabbitMQ Storage"
    description: "RabbitMQ Storage PV"
  hostpath:
    capacity:
      __metadata:
        label: "CAM RabbitMQ PV hostpath capacity"
        description: "CAM RabbitMQ Persistent Volume capacity"
        hidden: true
    path:
      __metadata:
        label: "CAM RabbitMQb PV hostpath path"
        description: "CAM RabbitMQ Persistent Volume hostpath path"
        hidden: true
    storageClass:
      __metadata:
        label: "CAM RabbitMQ PV hostpath storage class"
        description: "CAM RabbitMQ Persistent Volume hostpath storage class"
        hidden: true
  nfs:
    capacity:
      __metadata:
        label: "CAM RabbitMQ PV capacity"
        description: "CAM RabbitMQ Persistent Volume capacity"
        hidden: true
    server:
      __metadata:
        label: "CAM RabbitMQ PV server"
        description: "CAM RabbitMQ Persistent Volume server"
        hidden: true
    path:
      __metadata:
        label: "CAM RabbitMQ PV path"
        description: "CAM RabbitMQ Persistent Volume path"
        hidden: true
    storageClass:
      __metadata:
        label: "CAM RabbitMQ PV storage class"
        description: "CAM RabbitMQ Persistent Volume storageClass"
        hidden: true
  glusterfsStorage:
    capacity:
      __metadata:
        label: "CAM RabbitMQ PV glusterfs storage capacity"
        description: "CAM RabbitMQ Persistent Volume glusterfs storage capacity"
        hidden: true
    storageClass:
      __metadata:
        label: "GlusterFS storage class"
        description: "RabbitMQ Persistent Volume GlusterFS storage class"


deploymentClass:
  __metadata:
    label: "Deployment Class"
    description: "Deployment Class e.g Standard, enterprise etc.."
    hidden: true
    options:
      - label: "entry"
        value: "entry"
      - label: "standard"
        value: "standard"
      - label: "enterprise"
        value: "enterprise"

# Namespace declaration
coreNamespace:
  __metadata:
    label: "Cloud Management Platform Namespace"
    description: "Namespace in which Cloud Management Platform is deployed"
    type: "string"
    required: true
k8Namespace:
  __metadata:
    label: "Cost and Asset Management Namespace"
    description: "Namespace where Cost and Asset Management is getting installed"
    type: "string"
    required: true

#External DB details
externalDbNamespace:
  __metadata:
    label: "External DB Namespace"
    description: "Namespace of External Database"
    hidden: true
externalDbService:
  __metadata:
    label: "External DB Service"
    description: "External Database Service"
    hidden: true

enableBackups:
  __metadata:
    label: "Enable Backups"
    description: "Select to enable Backups"
    type: "boolean"

enableXtraBackup:
  __metadata:
    label: "Enable XtraBackup"
    description: "Select to new backup way using xtrabackup"
    type: "boolean"

enableServiceExternalIPs:
  __metadata:
    label: "Enable Service External IPs"
    description: "Service External IPs enabled"
    type: "boolean"
    hidden: true
externalIpCamUi:
  __metadata:
    label: "External IP CAM UI"
    description: "External IP for CAM User Interface"
    type: "string"
    hidden: true

enableSparkCluster:
  __metadata:
    label: "Enable Spark Cluster"
    description: "Select this to enable Spark Cluster"
    type: "boolean"
    hidden: true

uiNodeport:
  __metadata:
    label: "UI NodePort"
    description: "NodePort for User Interface"
    type: "string"
    hidden: true
mysqlReplication:
  __metadata:
    label: "MariabDB Replication"
    description: "Replication configuration for MariaDB"
    type: "boolean"

mysqlNodeport:
  __metadata:
    label: "MariaDB Nodeport"
    description: "Nodeport for MariaDB"
    type: "string"

mysqlServerId:
  __metadata:
    label: "MySQL server ID"
    description: "ID to be used for starting MySQL server"
    type: "string"
    hidden: true

sqlQueryTimeOut:
  __metadata:
    label: "MySQL Query TimeOut"
    description: "Query Time out in seconds"
    type: "string"

orchestratorCronTime:
  __metadata:
    label: "Orchestrator Cron time"
    description: "Time Orchestrator Cron has to be scheduled"
    type: "string"

recommendationCronTime:
  __metadata:
    label: "Recommendation Cron Time"
    description: "Time Recommendation Cron has to be scheduled"
    type: "string"

recommendationEBSDisable:
  __metadata:
    label: "Disable EBS Recommendation"
    description: "Disable EBS recommendation extraction"
    type: "boolean"
    hidden: true

parallelizeSummaries:
  __metadata:
    label: "Parallelize Uber Summary Tables"
    description: "Parallelize Uber Summary Tables Flag is set to false"
    type: "boolean"

analyticsSkipStandard:
  __metadata:
    label: "cam-analytics skip standard"
    description: "cam-analytics skip standard Flag is set to false"
    type: "boolean"

# Use external DB? (boolean)
externalDB:
  __metadata:
    label: "External DB"
    description: "External Database"
    hidden: true
  enableExternalDB:
    __metadata:
      label: "Enable External DB"
      description: "Enable External Database"
      type: "boolean"
      hidden: true
  dataCenter:
    __metadata:
      label: "Datacenter"
      description: "Datacenter to be used"
      hidden: true



#Secrets ::: secrets.json
secrets:
  __metadata:
    label: "Secret Name"
    description: "Secret Details"
    hidden: true
   # Mariadb user credential details
  mysqlUsername:
    __metadata:
      label: "MySQL username"
      description: "User name used to connect to MySQL"
      type: "string"
      hidden: true
  mysqlKey:
    __metadata:
      label: "MySQL key"
      description: "Password used to connect to MySQL"
      type: "password"
      hidden: true
   #DB Host and port details
  mariadbServiceHost:
    __metadata:
      label: "Mariadb Service Host"
      description: "Host name where MariaDB Service is running"
      type: "string"
      hidden: true
  mariadbServicePort:
    __metadata:
      label: "Mariadb Service Port"
      description: "Port where MariaDB Service is running"
      type: "string"
      hidden: true

  #RabbitMQ details
  rabbitmqDefaultUser:
    __metadata:
      label: "RabbitMQ default user"
      description: "Default user to access RabbitMQ"
      type: "string"
      hidden: true
  rabbitmqDefaultPassword:
    __metadata:
      label: "RabbitMQ default password"
      description: "Default password to access RabbitMQ"
      type: "password"
      hidden: true

  # Slack Hook details
  slackHookQA:
    __metadata:
      label: "Slack QA hook"
      description: "QA hook to Slack"
      type: "string"
      hidden: true
  slackHookProd:
    __metadata:
      label: "Slack production hook"
      description: "Production hook to Slack"
      type: "string"
      hidden: true
   # Other values
  keystorePassword:
    __metadata:
      label: "KeyStore Password"
      description: "Password to access KeyStore"
      type: "password"
      hidden: true
  s3Url:
    __metadata:
      label: "S3 URL"
      description: "URL to access S3"
      type: "string"
      hidden: true
  s3AccessKeyId:
    __metadata:
      label: "S3 Access Key ID"
      description: "Key ID to access S3"
      type: "password"
      hidden: true
  s3SecretAccessKey:
    __metadata:
      label: "S3 Secret Access Key"
      description: "Access Key to access S3"
      type: "password"
      hidden: true
  backupPassphrase:
    __metadata:
      label: "S3 Backup Passphrase"
      description: "Passphrase used for S3 Backup"
      type: "password"
      hidden: true
